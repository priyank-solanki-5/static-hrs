(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();var Fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function U4(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var U_={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function P4(){if(k2)return on;k2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function T(N,G,ae){this.props=N,this.context=G,this.refs=A,this.updater=ae||S}T.prototype.isReactComponent={},T.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _(){}_.prototype=T.prototype;function L(N,G,ae){this.props=N,this.context=G,this.refs=A,this.updater=ae||S}var O=L.prototype=new _;O.constructor=L,M(O,T.prototype),O.isPureReactComponent=!0;var F=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function B(N,G,ae,fe,ce,_e){return ae=_e.ref,{$$typeof:n,type:N,key:G,ref:ae!==void 0?ae:null,props:_e}}function H(N,G){return B(N.type,G,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function P(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return G[ae]})}var j=/\/+/g;function Z(N,G){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):G.toString(36)}function W(){}function Y(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(W,W):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ne(N,G,ae,fe,ce){var _e=typeof N;(_e==="undefined"||_e==="boolean")&&(N=null);var oe=!1;if(N===null)oe=!0;else switch(_e){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(N.$$typeof){case n:case e:oe=!0;break;case g:return oe=N._init,ne(oe(N._payload),G,ae,fe,ce)}}if(oe)return ce=ce(N),oe=fe===""?"."+Z(N,0):fe,F(ce)?(ae="",oe!=null&&(ae=oe.replace(j,"$&/")+"/"),ne(ce,G,ae,"",function(Ye){return Ye})):ce!=null&&(I(ce)&&(ce=H(ce,ae+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(j,"$&/")+"/")+oe)),G.push(ce)),1;oe=0;var me=fe===""?".":fe+":";if(F(N))for(var Oe=0;Oe<N.length;Oe++)fe=N[Oe],_e=me+Z(fe,Oe),oe+=ne(fe,G,ae,_e,ce);else if(Oe=b(N),typeof Oe=="function")for(N=Oe.call(N),Oe=0;!(fe=N.next()).done;)fe=fe.value,_e=me+Z(fe,Oe++),oe+=ne(fe,G,ae,_e,ce);else if(_e==="object"){if(typeof N.then=="function")return ne(Y(N),G,ae,fe,ce);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return oe}function k(N,G,ae){if(N==null)return N;var fe=[],ce=0;return ne(N,fe,"","",function(_e){return G.call(ae,_e,ce++)}),fe}function z(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var $=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function X(){}return on.Children={map:k,forEach:function(N,G,ae){k(N,function(){G.apply(this,arguments)},ae)},count:function(N){var G=0;return k(N,function(){G++}),G},toArray:function(N){return k(N,function(G){return G})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},on.Component=T,on.Fragment=t,on.Profiler=a,on.PureComponent=L,on.StrictMode=i,on.Suspense=h,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,on.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},on.cache=function(N){return function(){return N.apply(null,arguments)}},on.cloneElement=function(N,G,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var fe=M({},N.props),ce=N.key,_e=void 0;if(G!=null)for(oe in G.ref!==void 0&&(_e=void 0),G.key!==void 0&&(ce=""+G.key),G)!U.call(G,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&G.ref===void 0||(fe[oe]=G[oe]);var oe=arguments.length-2;if(oe===1)fe.children=ae;else if(1<oe){for(var me=Array(oe),Oe=0;Oe<oe;Oe++)me[Oe]=arguments[Oe+2];fe.children=me}return B(N.type,ce,void 0,void 0,_e,fe)},on.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:r,_context:N},N},on.createElement=function(N,G,ae){var fe,ce={},_e=null;if(G!=null)for(fe in G.key!==void 0&&(_e=""+G.key),G)U.call(G,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ce[fe]=G[fe]);var oe=arguments.length-2;if(oe===1)ce.children=ae;else if(1<oe){for(var me=Array(oe),Oe=0;Oe<oe;Oe++)me[Oe]=arguments[Oe+2];ce.children=me}if(N&&N.defaultProps)for(fe in oe=N.defaultProps,oe)ce[fe]===void 0&&(ce[fe]=oe[fe]);return B(N,_e,void 0,void 0,null,ce)},on.createRef=function(){return{current:null}},on.forwardRef=function(N){return{$$typeof:u,render:N}},on.isValidElement=I,on.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:z}},on.memo=function(N,G){return{$$typeof:m,type:N,compare:G===void 0?null:G}},on.startTransition=function(N){var G=D.T,ae={};D.T=ae;try{var fe=N(),ce=D.S;ce!==null&&ce(ae,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(X,$)}catch(_e){$(_e)}finally{D.T=G}},on.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},on.use=function(N){return D.H.use(N)},on.useActionState=function(N,G,ae){return D.H.useActionState(N,G,ae)},on.useCallback=function(N,G){return D.H.useCallback(N,G)},on.useContext=function(N){return D.H.useContext(N)},on.useDebugValue=function(){},on.useDeferredValue=function(N,G){return D.H.useDeferredValue(N,G)},on.useEffect=function(N,G,ae){var fe=D.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(N,G)},on.useId=function(){return D.H.useId()},on.useImperativeHandle=function(N,G,ae){return D.H.useImperativeHandle(N,G,ae)},on.useInsertionEffect=function(N,G){return D.H.useInsertionEffect(N,G)},on.useLayoutEffect=function(N,G){return D.H.useLayoutEffect(N,G)},on.useMemo=function(N,G){return D.H.useMemo(N,G)},on.useOptimistic=function(N,G){return D.H.useOptimistic(N,G)},on.useReducer=function(N,G,ae){return D.H.useReducer(N,G,ae)},on.useRef=function(N){return D.H.useRef(N)},on.useState=function(N){return D.H.useState(N)},on.useSyncExternalStore=function(N,G,ae){return D.H.useSyncExternalStore(N,G,ae)},on.useTransition=function(){return D.H.useTransition()},on.version="19.1.1",on}var G2;function fr(){return G2||(G2=1,U_.exports=P4()),U_.exports}var K=fr();const p=k0(K);var P_={exports:{}},Dp={},z_={exports:{}},B_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2;function z4(){return q2||(q2=1,(function(n){function e(k,z){var $=k.length;k.push(z);e:for(;0<$;){var X=$-1>>>1,N=k[X];if(0<a(N,z))k[X]=z,k[$]=N,$=X;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var z=k[0],$=k.pop();if($!==z){k[0]=$;e:for(var X=0,N=k.length,G=N>>>1;X<G;){var ae=2*(X+1)-1,fe=k[ae],ce=ae+1,_e=k[ce];if(0>a(fe,$))ce<N&&0>a(_e,fe)?(k[X]=_e,k[ce]=$,X=ce):(k[X]=fe,k[ae]=$,X=ae);else if(ce<N&&0>a(_e,$))k[X]=_e,k[ce]=$,X=ce;else break e}}return z}function a(k,z){var $=k.sortIndex-z.sortIndex;return $!==0?$:k.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],m=[],g=1,v=null,b=3,S=!1,M=!1,A=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function F(k){for(var z=t(m);z!==null;){if(z.callback===null)i(m);else if(z.startTime<=k)i(m),z.sortIndex=z.expirationTime,e(h,z);else break;z=t(m)}}function D(k){if(A=!1,F(k),!M)if(t(h)!==null)M=!0,U||(U=!0,Z());else{var z=t(m);z!==null&&ne(D,z.startTime-k)}}var U=!1,B=-1,H=5,I=-1;function P(){return T?!0:!(n.unstable_now()-I<H)}function j(){if(T=!1,U){var k=n.unstable_now();I=k;var z=!0;try{e:{M=!1,A&&(A=!1,L(B),B=-1),S=!0;var $=b;try{t:{for(F(k),v=t(h);v!==null&&!(v.expirationTime>k&&P());){var X=v.callback;if(typeof X=="function"){v.callback=null,b=v.priorityLevel;var N=X(v.expirationTime<=k);if(k=n.unstable_now(),typeof N=="function"){v.callback=N,F(k),z=!0;break t}v===t(h)&&i(h),F(k)}else i(h);v=t(h)}if(v!==null)z=!0;else{var G=t(m);G!==null&&ne(D,G.startTime-k),z=!1}}break e}finally{v=null,b=$,S=!1}z=void 0}}finally{z?Z():U=!1}}}var Z;if(typeof O=="function")Z=function(){O(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=j,Z=function(){Y.postMessage(null)}}else Z=function(){_(j,0)};function ne(k,z){B=_(function(){k(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var $=b;b=z;try{return k()}finally{b=$}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(k,z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=b;b=k;try{return z()}finally{b=$}},n.unstable_scheduleCallback=function(k,z,$){var X=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=$+N,k={id:g++,callback:z,priorityLevel:k,startTime:$,expirationTime:N,sortIndex:-1},$>X?(k.sortIndex=$,e(m,k),t(h)===null&&k===t(m)&&(A?(L(B),B=-1):A=!0,ne(D,$-X))):(k.sortIndex=N,e(h,k),M||S||(M=!0,U||(U=!0,Z()))),k},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(k){var z=b;return function(){var $=b;b=z;try{return k.apply(this,arguments)}finally{b=$}}}})(B_)),B_}var j2;function B4(){return j2||(j2=1,z_.exports=z4()),z_.exports}var I_={exports:{}},Ba={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function I4(){if(X2)return Ba;X2=1;var n=fr();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ba.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ba.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return r(h,m,null,g)},Ba.flushSync=function(h){var m=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=m,i.p=g,i.d.f()}},Ba.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Ba.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ba.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ba.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Ba.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ba.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=u(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Ba.requestFormReset=function(h){i.d.r(h)},Ba.unstable_batchedUpdates=function(h,m){return h(m)},Ba.useFormState=function(h,m,g){return l.H.useFormState(h,m,g)},Ba.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ba.version="19.1.1",Ba}var W2;function F4(){if(W2)return I_.exports;W2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),I_.exports=I4(),I_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function V4(){if(Y2)return Dp;Y2=1;var n=B4(),e=fr(),t=F4();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function r(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(r(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=r(s),o===null)throw Error(i(188));return o!==s?null:s}for(var d=s,x=o;;){var E=d.return;if(E===null)break;var C=E.alternate;if(C===null){if(x=E.return,x!==null){d=x;continue}break}if(E.child===C.child){for(C=E.child;C;){if(C===d)return u(E),s;if(C===x)return u(E),o;C=C.sibling}throw Error(i(188))}if(d.return!==x.return)d=E,x=C;else{for(var q=!1,J=E.child;J;){if(J===d){q=!0,d=E,x=C;break}if(J===x){q=!0,x=E,d=C;break}J=J.sibling}if(!q){for(J=C.child;J;){if(J===d){q=!0,d=C,x=E;break}if(J===x){q=!0,x=C,d=E;break}J=J.sibling}if(!q)throw Error(i(189))}}if(d.alternate!==x)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var W=Symbol.for("react.client.reference");function Y(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===W?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case U:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case O:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return o=s.displayName||null,o!==null?o:Y(s.type)||"Memo";case H:o=s._payload,s=s._init;try{return Y(s(o))}catch{}}return null}var ne=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},X=[],N=-1;function G(s){return{current:s}}function ae(s){0>N||(s.current=X[N],X[N]=null,N--)}function fe(s,o){N++,X[N]=s.current,s.current=o}var ce=G(null),_e=G(null),oe=G(null),me=G(null);function Oe(s,o){switch(fe(oe,o),fe(_e,s),fe(ce,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?g2(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=g2(o),s=x2(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(ce),fe(ce,s)}function Ye(){ae(ce),ae(_e),ae(oe)}function Ie(s){s.memoizedState!==null&&fe(me,s);var o=ce.current,d=x2(o,s.type);o!==d&&(fe(_e,s),fe(ce,d))}function rt(s){_e.current===s&&(ae(ce),ae(_e)),me.current===s&&(ae(me),Tp._currentValue=$)}var yt=Object.prototype.hasOwnProperty,tt=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback,ie=n.unstable_shouldYield,Be=n.unstable_requestPaint,Te=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,Qe=n.unstable_UserBlockingPriority,Ze=n.unstable_NormalPriority,ut=n.unstable_LowPriority,se=n.unstable_IdlePriority,Q=n.log,ye=n.unstable_setDisableYieldValue,Pe=null,ze=null;function Ce(s){if(typeof Q=="function"&&ye(s),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pe,s)}catch{}}var mt=Math.clz32?Math.clz32:St,ot=Math.log,At=Math.LN2;function St(s){return s>>>=0,s===0?32:31-(ot(s)/At|0)|0}var Ge=256,Je=4194304;function wt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ct(s,o,d){var x=s.pendingLanes;if(x===0)return 0;var E=0,C=s.suspendedLanes,q=s.pingedLanes;s=s.warmLanes;var J=x&134217727;return J!==0?(x=J&~C,x!==0?E=wt(x):(q&=J,q!==0?E=wt(q):d||(d=J&~s,d!==0&&(E=wt(d))))):(J=x&~C,J!==0?E=wt(J):q!==0?E=wt(q):d||(d=x&~s,d!==0&&(E=wt(d)))),E===0?0:o!==0&&o!==E&&(o&C)===0&&(C=E&-E,d=o&-o,C>=d||C===32&&(d&4194048)!==0)?o:E}function lt(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ut(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var s=Ge;return Ge<<=1,(Ge&4194048)===0&&(Ge=256),s}function ct(){var s=Je;return Je<<=1,(Je&62914560)===0&&(Je=4194304),s}function it(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function at(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ke(s,o,d,x,E,C){var q=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var J=s.entanglements,le=s.expirationTimes,Ee=s.hiddenUpdates;for(d=q&~d;0<d;){var Ve=31-mt(d),je=1<<Ve;J[Ve]=0,le[Ve]=-1;var we=Ee[Ve];if(we!==null)for(Ee[Ve]=null,Ve=0;Ve<we.length;Ve++){var Re=we[Ve];Re!==null&&(Re.lane&=-536870913)}d&=~je}x!==0&&qe(s,x,0),C!==0&&E===0&&s.tag!==0&&(s.suspendedLanes|=C&~(q&~o))}function qe(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var x=31-mt(o);s.entangledLanes|=o,s.entanglements[x]=s.entanglements[x]|1073741824|d&4194090}function _t(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var x=31-mt(d),E=1<<x;E&o|s[x]&o&&(s[x]|=o),d&=~E}}function zt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function gn(){var s=z.p;return s!==0?s:(s=window.event,s===void 0?32:z2(s.type))}function Wa(s,o){var d=z.p;try{return z.p=s,o()}finally{z.p=d}}var ui=Math.random().toString(36).slice(2),Ri="__reactFiber$"+ui,Di="__reactProps$"+ui,Gs="__reactContainer$"+ui,Hi="__reactEvents$"+ui,cc="__reactListeners$"+ui,qs="__reactHandles$"+ui,Ya="__reactResources$"+ui,Za="__reactMarker$"+ui;function kn(s){delete s[Ri],delete s[Di],delete s[Hi],delete s[cc],delete s[qs]}function Ka(s){var o=s[Ri];if(o)return o;for(var d=s.parentNode;d;){if(o=d[Gs]||d[Ri]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=_2(s);s!==null;){if(d=s[Ri])return d;s=_2(s)}return o}s=d,d=s.parentNode}return null}function js(s){if(s=s[Ri]||s[Gs]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Fr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Vr(s){var o=s[Ya];return o||(o=s[Ya]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bi(s){s[Za]=!0}var uc=new Set,fc={};function Xs(s,o){fi(s,o),fi(s+"Capture",o)}function fi(s,o){for(fc[s]=o,s=0;s<o.length;s++)uc.add(o[s])}var ee=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xe={},Ne={};function Le(s){return yt.call(Ne,s)?!0:yt.call(xe,s)?!1:ee.test(s)?Ne[s]=!0:(xe[s]=!0,!1)}function ge(s,o,d){if(Le(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function et(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function st(s,o,d,x){if(x===null)s.removeAttribute(d);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+x)}}var bt,xt;function Nt(s){if(bt===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);bt=o&&o[1]||"",xt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+s+xt}var Pt=!1;function Tt(s,o){if(!s||Pt)return"";Pt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(Re){var we=Re}Reflect.construct(s,[],je)}else{try{je.call()}catch(Re){we=Re}s.call(je.prototype)}}else{try{throw Error()}catch(Re){we=Re}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(Re){if(Re&&we&&typeof Re.stack=="string")return[Re.stack,we.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=x.DetermineComponentFrameRoot(),q=C[0],J=C[1];if(q&&J){var le=q.split(`
`),Ee=J.split(`
`);for(E=x=0;x<le.length&&!le[x].includes("DetermineComponentFrameRoot");)x++;for(;E<Ee.length&&!Ee[E].includes("DetermineComponentFrameRoot");)E++;if(x===le.length||E===Ee.length)for(x=le.length-1,E=Ee.length-1;1<=x&&0<=E&&le[x]!==Ee[E];)E--;for(;1<=x&&0<=E;x--,E--)if(le[x]!==Ee[E]){if(x!==1||E!==1)do if(x--,E--,0>E||le[x]!==Ee[E]){var Ve=`
`+le[x].replace(" at new "," at ");return s.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",s.displayName)),Ve}while(1<=x&&0<=E);break}}}finally{Pt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Nt(d):""}function rn(s){switch(s.tag){case 26:case 27:case 5:return Nt(s.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Tt(s.type,!1);case 11:return Tt(s.type.render,!1);case 1:return Tt(s.type,!0);case 31:return Nt("Activity");default:return""}}function Sn(s){try{var o="";do o+=rn(s),s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function fn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Gn(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function On(s){var o=Gn(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),x=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var E=d.get,C=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return E.call(this)},set:function(q){x=""+q,C.call(this,q)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return x},setValue:function(q){x=""+q},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Rt(s){s._valueTracker||(s._valueTracker=On(s))}function zn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),x="";return s&&(x=Gn(s)?s.checked?"true":"false":s.value),s=x,s!==d?(o.setValue(s),!0):!1}function cn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qi=/[\n"\\]/g;function _i(s){return s.replace(Qi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ki(s,o,d,x,E,C,q,J){s.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.type=q:s.removeAttribute("type"),o!=null?q==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+fn(o)):s.value!==""+fn(o)&&(s.value=""+fn(o)):q!=="submit"&&q!=="reset"||s.removeAttribute("value"),o!=null?Un(s,q,fn(o)):d!=null?Un(s,q,fn(d)):x!=null&&s.removeAttribute("value"),E==null&&C!=null&&(s.defaultChecked=!!C),E!=null&&(s.checked=E&&typeof E!="function"&&typeof E!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.name=""+fn(J):s.removeAttribute("name")}function Hr(s,o,d,x,E,C,q,J){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),o!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||o!=null))return;d=d!=null?""+fn(d):"",o=o!=null?""+fn(o):d,J||o===s.value||(s.value=o),s.defaultValue=o}x=x??E,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=J?s.checked:!!x,s.defaultChecked=!!x,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(s.name=q)}function Un(s,o,d){o==="number"&&cn(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function ii(s,o,d,x){if(s=s.options,o){o={};for(var E=0;E<d.length;E++)o["$"+d[E]]=!0;for(d=0;d<s.length;d++)E=o.hasOwnProperty("$"+s[d].value),s[d].selected!==E&&(s[d].selected=E),E&&x&&(s[d].defaultSelected=!0)}else{for(d=""+fn(d),o=null,E=0;E<s.length;E++){if(s[E].value===d){s[E].selected=!0,x&&(s[E].defaultSelected=!0);return}o!==null||s[E].disabled||(o=s[E])}o!==null&&(o.selected=!0)}}function ga(s,o,d){if(o!=null&&(o=""+fn(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+fn(d):""}function Oi(s,o,d,x){if(o==null){if(x!=null){if(d!=null)throw Error(i(92));if(ne(x)){if(1<x.length)throw Error(i(93));x=x[0]}d=x}d==null&&(d=""),o=d}d=fn(o),s.defaultValue=d,x=s.textContent,x===d&&x!==""&&x!==null&&(s.value=x)}function qn(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qa(s,o,d){var x=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?x?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":x?s.setProperty(o,d):typeof d!="number"||d===0||dc.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function Cu(s,o,d){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,d!=null){for(var x in d)!d.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var E in o)x=o[E],o.hasOwnProperty(E)&&d[E]!==x&&Qa(s,E,x)}else for(var C in o)o.hasOwnProperty(C)&&Qa(s,C,o[C])}function rd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nu(s){return dg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var od=null;function ld(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var To=null,bl=null;function ym(s){var o=js(s);if(o&&(s=o.stateNode)){var d=s[Di]||null;e:switch(s=o.stateNode,o.type){case"input":if(ki(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+_i(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var x=d[o];if(x!==s&&x.form===s.form){var E=x[Di]||null;if(!E)throw Error(i(90));ki(x,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(o=0;o<d.length;o++)x=d[o],x.form===s.form&&zn(x)}break e;case"textarea":ga(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&ii(s,!!d.multiple,o,!1)}}}var Ru=!1;function bm(s,o,d){if(Ru)return s(o,d);Ru=!0;try{var x=s(o);return x}finally{if(Ru=!1,(To!==null||bl!==null)&&(Ar(),To&&(o=To,s=bl,bl=To=null,ym(o),s)))for(o=0;o<s.length;o++)ym(s[o])}}function hc(s,o){var d=s.stateNode;if(d===null)return null;var x=d[Di]||null;if(x===null)return null;d=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(i(231,o,typeof d));return d}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(dr)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){Du=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{Du=!1}var kr=null,_m=null,cd=null;function Sm(){if(cd)return cd;var s,o=_m,d=o.length,x,E="value"in kr?kr.value:kr.textContent,C=E.length;for(s=0;s<d&&o[s]===E[s];s++);var q=d-s;for(x=1;x<=q&&o[d-x]===E[C-x];x++);return cd=E.slice(s,1<x?1-x:void 0)}function Ao(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pc(){return!0}function Ou(){return!1}function xa(s){function o(d,x,E,C,q){this._reactName=d,this._targetInst=E,this.type=x,this.nativeEvent=C,this.target=q,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(d=s[J],this[J]=d?d(C):C[J]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?pc:Ou,this.isPropagationStopped=Ou,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),o}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=xa(Co),xc=g({},Co,{view:0,detail:0}),hg=xa(xc),Gr,vc,yc,bc=g({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yc&&(yc&&s.type==="mousemove"?(Gr=s.screenX-yc.screenX,vc=s.screenY-yc.screenY):vc=Gr=0,yc=s),Gr)},movementY:function(s){return"movementY"in s?s.movementY:vc}}),Em=xa(bc),mg=g({},bc,{dataTransfer:0}),Jb=xa(mg),Ji=g({},xc,{relatedTarget:0}),ud=xa(Ji),pg=g({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),gg=xa(pg),xg=g({},Co,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vg=xa(xg),Lu=g({},Co,{data:0}),fd=xa(Lu),yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_g[s])?!!o[s]:!1}function Uu(){return Mm}var Sg=g({},xc,{key:function(s){if(s.key){var o=yg[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ao(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?bg[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(s){return s.type==="keypress"?Ao(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ao(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wm=xa(Sg),Tm=g({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=xa(Tm),Eg=g({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),Am=xa(Eg),Mg=g({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=xa(Mg),Cm=g({},bc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$b=xa(Cm),wg=g({},Co,{newState:0,oldState:0}),No=xa(wg),jr=[9,13,27,32],Pu=dr&&"CompositionEvent"in window,_l=null;dr&&"documentMode"in document&&(_l=document.documentMode);var zu=dr&&"TextEvent"in window&&!_l,Bu=dr&&(!Pu||_l&&8<_l&&11>=_l),Ro=" ",$i=!1;function Iu(s,o){switch(s){case"keyup":return jr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function Fu(s,o){switch(s){case"compositionend":return Nm(o);case"keypress":return o.which!==32?null:($i=!0,Ro);case"textInput":return s=o.data,s===Ro&&$i?null:s;default:return null}}function Rm(s,o){if(Do)return s==="compositionend"||!Pu&&Iu(s,o)?(s=Sm(),cd=_m=kr=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Bu&&o.locale!=="ko"?null:o.data;default:return null}}var hd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!hd[s.type]:o==="textarea"}function Na(s,o,d,x){To?bl?bl.push(x):bl=[x]:To=x,o=Mx(o,"onChange"),0<o.length&&(d=new gc("onChange","change",null,d,x),s.push({event:d,listeners:o}))}var _c=null,Sl=null;function Tg(s){f2(s,0)}function Vu(s){var o=Fr(s);if(zn(o))return s}function md(s,o){if(s==="change")return o}var pd=!1;if(dr){var gd;if(dr){var Sc="oninput"in document;if(!Sc){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),Sc=typeof Ec.oninput=="function"}gd=Sc}else gd=!1;pd=gd&&(!document.documentMode||9<document.documentMode)}function ei(){_c&&(_c.detachEvent("onpropertychange",Ag),Sl=_c=null)}function Ag(s){if(s.propertyName==="value"&&Vu(Sl)){var o=[];Na(o,Sl,s,ld(s)),bm(Tg,o)}}function e_(s,o,d){s==="focusin"?(ei(),_c=o,Sl=d,_c.attachEvent("onpropertychange",Ag)):s==="focusout"&&ei()}function Cg(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vu(Sl)}function Hu(s,o){if(s==="click")return Vu(o)}function Oo(s,o){if(s==="input"||s==="change")return Vu(o)}function Ng(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ra=typeof Object.is=="function"?Object.is:Ng;function Ws(s,o){if(Ra(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),x=Object.keys(o);if(d.length!==x.length)return!1;for(x=0;x<d.length;x++){var E=d[x];if(!yt.call(o,E)||!Ra(s[E],o[E]))return!1}return!0}function Da(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Om(s,o){var d=Da(s);s=0;for(var x;d;){if(d.nodeType===3){if(x=s+d.textContent.length,s<=o&&x>=o)return{node:d,offset:o-s};s=x}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Da(d)}}function Lm(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Lm(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Um(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=cn(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=cn(s.document)}return o}function ku(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Pm=dr&&"documentMode"in document&&11>=document.documentMode,Xr=null,xd=null,Gu=null,vd=!1;function zm(s,o,d){var x=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;vd||Xr==null||Xr!==cn(x)||(x=Xr,"selectionStart"in x&&ku(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Gu&&Ws(Gu,x)||(Gu=x,x=Mx(xd,"onSelect"),0<x.length&&(o=new gc("onSelect","select",null,o,d),s.push({event:o,listeners:x}),o.target=Xr)))}function ea(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var Lo={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},yd={},Rg={};dr&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Wr(s){if(yd[s])return yd[s];if(!Lo[s])return s;var o=Lo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in Rg)return yd[s]=o[d];return s}var va=Wr("animationend"),Bm=Wr("animationiteration"),Oa=Wr("animationstart"),Dg=Wr("transitionrun"),Yr=Wr("transitionstart"),Mc=Wr("transitioncancel"),Zr=Wr("transitionend"),bd=new Map,qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qu.push("scrollEnd");function Gi(s,o){bd.set(s,o),Xs(o,[s])}var Im=new WeakMap;function ta(s,o){if(typeof s=="object"&&s!==null){var d=Im.get(s);return d!==void 0?d:(o={value:s,source:o,stack:Sn(o)},Im.set(s,o),o)}return{value:s,source:o,stack:Sn(o)}}var ca=[],ys=0,_d=0;function ju(){for(var s=ys,o=_d=ys=0;o<s;){var d=ca[o];ca[o++]=null;var x=ca[o];ca[o++]=null;var E=ca[o];ca[o++]=null;var C=ca[o];if(ca[o++]=null,x!==null&&E!==null){var q=x.pending;q===null?E.next=E:(E.next=q.next,q.next=E),x.pending=E}C!==0&&Fm(d,E,C)}}function Uo(s,o,d,x){ca[ys++]=s,ca[ys++]=o,ca[ys++]=d,ca[ys++]=x,_d|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Sd(s,o,d,x){return Uo(s,o,d,x),wc(s)}function Kr(s,o){return Uo(s,null,null,o),wc(s)}function Fm(s,o,d){s.lanes|=d;var x=s.alternate;x!==null&&(x.lanes|=d);for(var E=!1,C=s.return;C!==null;)C.childLanes|=d,x=C.alternate,x!==null&&(x.childLanes|=d),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(E=!0)),s=C,C=C.return;return s.tag===3?(C=s.stateNode,E&&o!==null&&(E=31-mt(d),s=C.hiddenUpdates,x=s[E],x===null?s[E]=[o]:x.push(o),o.lane=d|536870912),C):null}function wc(s){if(50<Tr)throw Tr=0,Vl=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Po={};function Vm(s,o,d,x){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(s,o,d,x){return new Vm(s,o,d,x)}function Xu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function di(s,o){var d=s.alternate;return d===null?(d=La(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Hm(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function qi(s,o,d,x,E,C){var q=0;if(x=s,typeof s=="function")Xu(s)&&(q=1);else if(typeof s=="string")q=_4(s,d,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=La(31,d,o,E),s.elementType=I,s.lanes=C,s;case M:return zo(d.children,E,C,o);case A:q=8,E|=24;break;case T:return s=La(12,d,o,E|2),s.elementType=T,s.lanes=C,s;case D:return s=La(13,d,o,E),s.elementType=D,s.lanes=C,s;case U:return s=La(19,d,o,E),s.elementType=U,s.lanes=C,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case O:q=10;break e;case L:q=9;break e;case F:q=11;break e;case B:q=14;break e;case H:q=16,x=null;break e}q=29,d=Error(i(130,s===null?"null":typeof s,"")),x=null}return o=La(q,d,o,E),o.elementType=s,o.type=x,o.lanes=C,o}function zo(s,o,d,x){return s=La(7,s,x,o),s.lanes=d,s}function Wu(s,o,d){return s=La(6,s,null,o),s.lanes=d,s}function Ed(s,o,d){return o=La(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Tc=[],Ua=0,Yu=null,Ac=0,na=[],Ja=0,Bo=null,hr=1,mr="";function Qr(s,o){Tc[Ua++]=Ac,Tc[Ua++]=Yu,Yu=s,Ac=o}function Md(s,o,d){na[Ja++]=hr,na[Ja++]=mr,na[Ja++]=Bo,Bo=s;var x=hr;s=mr;var E=32-mt(x)-1;x&=~(1<<E),d+=1;var C=32-mt(o)+E;if(30<C){var q=E-E%5;C=(x&(1<<q)-1).toString(32),x>>=q,E-=q,hr=1<<32-mt(o)+E|d<<E|x,mr=C+s}else hr=1<<C|d<<E|x,mr=s}function km(s){s.return!==null&&(Qr(s,1),Md(s,1,0))}function Gm(s){for(;s===Yu;)Yu=Tc[--Ua],Tc[Ua]=null,Ac=Tc[--Ua],Tc[Ua]=null;for(;s===Bo;)Bo=na[--Ja],na[Ja]=null,mr=na[--Ja],na[Ja]=null,hr=na[--Ja],na[Ja]=null}var ya=null,ti=null,En=!1,bs=null,$a=!1,wd=Error(i(519));function Io(s){var o=Error(i(418,""));throw El(ta(o,s)),wd}function Og(s){var o=s.stateNode,d=s.type,x=s.memoizedProps;switch(o[Ri]=s,o[Di]=x,d){case"dialog":pn("cancel",o),pn("close",o);break;case"iframe":case"object":case"embed":pn("load",o);break;case"video":case"audio":for(d=0;d<bp.length;d++)pn(bp[d],o);break;case"source":pn("error",o);break;case"img":case"image":case"link":pn("error",o),pn("load",o);break;case"details":pn("toggle",o);break;case"input":pn("invalid",o),Hr(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Rt(o);break;case"select":pn("invalid",o);break;case"textarea":pn("invalid",o),Oi(o,x.value,x.defaultValue,x.children),Rt(o)}d=x.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||x.suppressHydrationWarning===!0||p2(o.textContent,d)?(x.popover!=null&&(pn("beforetoggle",o),pn("toggle",o)),x.onScroll!=null&&pn("scroll",o),x.onScrollEnd!=null&&pn("scrollend",o),x.onClick!=null&&(o.onclick=wx),o=!0):o=!1,o||Io(s)}function qm(s){for(ya=s.return;ya;)switch(ya.tag){case 5:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:ya=ya.return}}function Ys(s){if(s!==ya)return!1;if(!En)return qm(s),En=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||b_(s.type,s.memoizedProps)),d=!d),d&&ti&&Io(s),qm(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(o===0){ti=fo(s.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;s=s.nextSibling}ti=null}}else o===27?(o=ti,Jc(s.type)?(s=M_,M_=null,ti=s):ti=o):ti=ya?fo(s.stateNode.nextSibling):null;return!0}function Cc(){ti=ya=null,En=!1}function Cn(){var s=bs;return s!==null&&(It===null?It=s:It.push.apply(It,s),bs=null),s}function El(s){bs===null?bs=[s]:bs.push(s)}var jm=G(null),Fo=null,Jr=null;function Vo(s,o,d){fe(jm,o._currentValue),o._currentValue=d}function $r(s){s._currentValue=jm.current,ae(jm)}function Xm(s,o,d){for(;s!==null;){var x=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),s===d)break;s=s.return}}function Zu(s,o,d,x){var E=s.child;for(E!==null&&(E.return=s);E!==null;){var C=E.dependencies;if(C!==null){var q=E.child;C=C.firstContext;e:for(;C!==null;){var J=C;C=E;for(var le=0;le<o.length;le++)if(J.context===o[le]){C.lanes|=d,J=C.alternate,J!==null&&(J.lanes|=d),Xm(C.return,d,s),x||(q=null);break e}C=J.next}}else if(E.tag===18){if(q=E.return,q===null)throw Error(i(341));q.lanes|=d,C=q.alternate,C!==null&&(C.lanes|=d),Xm(q,d,s),q=null}else q=E.child;if(q!==null)q.return=E;else for(q=E;q!==null;){if(q===s){q=null;break}if(E=q.sibling,E!==null){E.return=q.return,q=E;break}q=q.return}E=q}}function _s(s,o,d,x){s=null;for(var E=o,C=!1;E!==null;){if(!C){if((E.flags&524288)!==0)C=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var q=E.alternate;if(q===null)throw Error(i(387));if(q=q.memoizedProps,q!==null){var J=E.type;Ra(E.pendingProps.value,q.value)||(s!==null?s.push(J):s=[J])}}else if(E===me.current){if(q=E.alternate,q===null)throw Error(i(387));q.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(s!==null?s.push(Tp):s=[Tp])}E=E.return}s!==null&&Zu(o,s,d,x),o.flags|=262144}function Ku(s){for(s=s.firstContext;s!==null;){if(!Ra(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function pr(s){Fo=s,Jr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ai(s){return Td(Fo,s)}function Qu(s,o){return Fo===null&&pr(s),Td(s,o)}function Td(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Jr===null){if(s===null)throw Error(i(308));Jr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Jr=Jr.next=o;return d}var Wm=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,x){s.push(x)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},t_=n.unstable_scheduleCallback,Lg=n.unstable_NormalPriority,Si={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new Wm,data:new Map,refCount:0}}function Nc(s){s.refCount--,s.refCount===0&&t_(Lg,function(){s.controller.abort()})}var Rc=null,Ju=0,Qt=0,Dc=null;function es(s,o){if(Rc===null){var d=Rc=[];Ju=0,Qt=f_(),Dc={status:"pending",value:void 0,then:function(x){d.push(x)}}}return Ju++,o.then(Cd,Cd),o}function Cd(){if(--Ju===0&&Rc!==null){Dc!==null&&(Dc.status="fulfilled");var s=Rc;Rc=null,Qt=0,Dc=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function n_(s,o){var d=[],x={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return s.then(function(){x.status="fulfilled",x.value=o;for(var E=0;E<d.length;E++)(0,d[E])(o)},function(E){for(x.status="rejected",x.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),x}var $u=k.S;k.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&es(s,o),$u!==null&&$u(s,o)};var Ss=G(null);function Ho(){var s=Ss.current;return s!==null?s:Yt.pooledCache}function ef(s,o){o===null?fe(Ss,Ss.current):fe(Ss,o.pool)}function Nd(){var s=Ho();return s===null?null:{parent:Si._currentValue,pool:s}}var tf=Error(i(460)),Ym=Error(i(474)),Zs=Error(i(542)),nf={then:function(){}};function Rd(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Oc(){}function Dd(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(Oc,Oc),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Ug(s),s;default:if(typeof o.status=="string")o.then(Oc,Oc);else{if(s=Yt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(x){if(o.status==="pending"){var E=o;E.status="fulfilled",E.value=x}},function(x){if(o.status==="pending"){var E=o;E.status="rejected",E.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Ug(s),s}throw Es=o,tf}}var Es=null;function Zm(){if(Es===null)throw Error(i(459));var s=Es;return Es=null,s}function Ug(s){if(s===tf||s===Zs)throw Error(i(483))}var eo=!1;function Km(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ht(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function gr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function to(s,o,d){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Nn&2)!==0){var E=x.pending;return E===null?o.next=o:(o.next=E.next,E.next=o),x.pending=o,o=wc(s),Fm(s,null,d),o}return Uo(s,x,o,d),wc(s)}function Ml(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var x=o.lanes;x&=s.pendingLanes,d|=x,o.lanes=d,_t(s,d)}}function Lc(s,o){var d=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,d===x)){var E=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var q={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?E=C=q:C=C.next=q,d=d.next}while(d!==null);C===null?E=C=o:C=C.next=o}else E=C=o;d={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:C,shared:x.shared,callbacks:x.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var Qm=!1;function af(){if(Qm){var s=Dc;if(s!==null)throw s}}function Uc(s,o,d,x){Qm=!1;var E=s.updateQueue;eo=!1;var C=E.firstBaseUpdate,q=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var le=J,Ee=le.next;le.next=null,q===null?C=Ee:q.next=Ee,q=le;var Ve=s.alternate;Ve!==null&&(Ve=Ve.updateQueue,J=Ve.lastBaseUpdate,J!==q&&(J===null?Ve.firstBaseUpdate=Ee:J.next=Ee,Ve.lastBaseUpdate=le))}if(C!==null){var je=E.baseState;q=0,Ve=Ee=le=null,J=C;do{var we=J.lane&-536870913,Re=we!==J.lane;if(Re?(Lt&we)===we:(x&we)===we){we!==0&&we===Qt&&(Qm=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var qt=s,Ft=J;we=o;var Zn=d;switch(Ft.tag){case 1:if(qt=Ft.payload,typeof qt=="function"){je=qt.call(Zn,je,we);break e}je=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Ft.payload,we=typeof qt=="function"?qt.call(Zn,je,we):qt,we==null)break e;je=g({},je,we);break e;case 2:eo=!0}}we=J.callback,we!==null&&(s.flags|=64,Re&&(s.flags|=8192),Re=E.callbacks,Re===null?E.callbacks=[we]:Re.push(we))}else Re={lane:we,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ve===null?(Ee=Ve=Re,le=je):Ve=Ve.next=Re,q|=we;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Re=J,J=Re.next,Re.next=null,E.lastBaseUpdate=Re,E.shared.pending=null}}while(!0);Ve===null&&(le=je),E.baseState=le,E.firstBaseUpdate=Ee,E.lastBaseUpdate=Ve,C===null&&(E.shared.lanes=0),ir|=q,s.lanes=q,s.memoizedState=je}}function Pc(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Pg(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Pc(d[s],o)}var zc=G(null),Od=G(0);function zg(s,o){s=Ns,fe(Od,s),fe(zc,o),Ns=s|o.baseLanes}function Jm(){fe(Od,Ns),fe(zc,zc.current)}function sf(){Ns=Od.current,ae(zc),ae(Od)}var no=0,Jt=null,Ln=null,Ei=null,Ld=!1,ko=!1,ba=!1,Li=0,Ms=0,ia=null,Bg=0;function hi(){throw Error(i(321))}function ua(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Ra(s[d],o[d]))return!1;return!0}function io(s,o,d,x,E,C){return no=C,Jt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,k.H=s===null||s.memoizedState===null?kd:mp,ba=!1,C=d(x,E),ba=!1,ko&&(C=Fg(o,d,x,E)),Ig(s),C}function Ig(s){k.H=lf;var o=Ln!==null&&Ln.next!==null;if(no=0,Ei=Ln=Jt=null,Ld=!1,Ms=0,ia=null,o)throw Error(i(300));s===null||ji||(s=s.dependencies,s!==null&&Ku(s)&&(ji=!0))}function Fg(s,o,d,x){Jt=s;var E=0;do{if(ko&&(ia=null),Ms=0,ko=!1,25<=E)throw Error(i(301));if(E+=1,Ei=Ln=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}k.H=fx,C=o(d,x)}while(ko);return C}function i_(){var s=k.H,o=s.useState()[0];return o=typeof o.then=="function"?Ks(o):o,s=s.useState()[0],(Ln!==null?Ln.memoizedState:null)!==s&&(Jt.flags|=1024),o}function $m(){var s=Li!==0;return Li=0,s}function Ud(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function ep(s){if(Ld){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ld=!1}no=0,Ei=Ln=Jt=null,ko=!1,Ms=Li=0,ia=null}function _a(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ei===null?Jt.memoizedState=Ei=s:Ei=Ei.next=s,Ei}function Mi(){if(Ln===null){var s=Jt.alternate;s=s!==null?s.memoizedState:null}else s=Ln.next;var o=Ei===null?Jt.memoizedState:Ei.next;if(o!==null)Ei=o,Ln=s;else{if(s===null)throw Jt.alternate===null?Error(i(467)):Error(i(310));Ln=s,s={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Ei===null?Jt.memoizedState=Ei=s:Ei=Ei.next=s}return Ei}function Go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ks(s){var o=Ms;return Ms+=1,ia===null&&(ia=[]),s=Dd(ia,s,o),o=Jt,(Ei===null?o.memoizedState:Ei.next)===null&&(o=o.alternate,k.H=o===null||o.memoizedState===null?kd:mp),s}function Pd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ks(s);if(s.$$typeof===O)return ai(s)}throw Error(i(438,String(s)))}function tp(s){var o=null,d=Jt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var x=Jt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(E){return E.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Go(),Jt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),x=0;x<s;x++)d[x]=P;return o.index++,d}function ao(s,o){return typeof o=="function"?o(s):o}function qo(s){var o=Mi();return np(o,Ln,s)}function np(s,o,d){var x=s.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=d;var E=s.baseQueue,C=x.pending;if(C!==null){if(E!==null){var q=E.next;E.next=C.next,C.next=q}o.baseQueue=E=C,x.pending=null}if(C=s.baseState,E===null)s.memoizedState=C;else{o=E.next;var J=q=null,le=null,Ee=o,Ve=!1;do{var je=Ee.lane&-536870913;if(je!==Ee.lane?(Lt&je)===je:(no&je)===je){var we=Ee.revertLane;if(we===0)le!==null&&(le=le.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),je===Qt&&(Ve=!0);else if((no&we)===we){Ee=Ee.next,we===Qt&&(Ve=!0);continue}else je={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(J=le=je,q=C):le=le.next=je,Jt.lanes|=we,ir|=we;je=Ee.action,ba&&d(C,je),C=Ee.hasEagerState?Ee.eagerState:d(C,je)}else we={lane:je,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(J=le=we,q=C):le=le.next=we,Jt.lanes|=je,ir|=je;Ee=Ee.next}while(Ee!==null&&Ee!==o);if(le===null?q=C:le.next=J,!Ra(C,s.memoizedState)&&(ji=!0,Ve&&(d=Dc,d!==null)))throw d;s.memoizedState=C,s.baseState=q,s.baseQueue=le,x.lastRenderedState=C}return E===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function ip(s){var o=Mi(),d=o.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=s;var x=d.dispatch,E=d.pending,C=o.memoizedState;if(E!==null){d.pending=null;var q=E=E.next;do C=s(C,q.action),q=q.next;while(q!==E);Ra(C,o.memoizedState)||(ji=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),d.lastRenderedState=C}return[C,x]}function Vg(s,o,d){var x=Jt,E=Mi(),C=En;if(C){if(d===void 0)throw Error(i(407));d=d()}else d=o();var q=!Ra((Ln||E).memoizedState,d);q&&(E.memoizedState=d,ji=!0),E=E.queue;var J=kg.bind(null,x,E,s);if(Fc(2048,8,J,[s]),E.getSnapshot!==o||q||Ei!==null&&Ei.memoizedState.tag&1){if(x.flags|=2048,Ic(9,rf(),Hg.bind(null,x,E,d,o),null),Yt===null)throw Error(i(349));C||(no&124)!==0||Bc(x,o,d)}return d}function Bc(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=Jt.updateQueue,o===null?(o=Go(),Jt.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function Hg(s,o,d,x){o.value=d,o.getSnapshot=x,Gg(o)&&qg(s)}function kg(s,o,d){return d(function(){Gg(o)&&qg(s)})}function Gg(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Ra(s,d)}catch{return!0}}function qg(s){var o=Kr(s,2);o!==null&&Ma(o,s,2)}function ap(s){var o=_a();if(typeof s=="function"){var d=s;if(s=d(),ba){Ce(!0);try{d()}finally{Ce(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:s},o}function jg(s,o,d,x){return s.baseState=d,np(s,Ln,typeof x=="function"?x:ao)}function a_(s,o,d,x,E){if(Hd(s))throw Error(i(485));if(s=o.action,s!==null){var C={payload:E,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){C.listeners.push(q)}};k.T!==null?d(!0):C.isTransition=!1,x(C),d=o.pending,d===null?(C.next=o.pending=C,Xg(o,C)):(C.next=d.next,o.pending=d.next=C)}}function Xg(s,o){var d=o.action,x=o.payload,E=s.state;if(o.isTransition){var C=k.T,q={};k.T=q;try{var J=d(E,x),le=k.S;le!==null&&le(q,J),Wg(s,o,J)}catch(Ee){sp(s,o,Ee)}finally{k.T=C}}else try{C=d(E,x),Wg(s,o,C)}catch(Ee){sp(s,o,Ee)}}function Wg(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(x){Yg(s,o,x)},function(x){return sp(s,o,x)}):Yg(s,o,d)}function Yg(s,o,d){o.status="fulfilled",o.value=d,Zg(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,Xg(s,d)))}function sp(s,o,d){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=d,Zg(o),o=o.next;while(o!==x)}s.action=null}function Zg(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function rp(s,o){return o}function Kg(s,o){if(En){var d=Yt.formState;if(d!==null){e:{var x=Jt;if(En){if(ti){t:{for(var E=ti,C=$a;E.nodeType!==8;){if(!C){E=null;break t}if(E=fo(E.nextSibling),E===null){E=null;break t}}C=E.data,E=C==="F!"||C==="F"?E:null}if(E){ti=fo(E.nextSibling),x=E.data==="F!";break e}}Io(x)}x=!1}x&&(o=d[0])}}return d=_a(),d.memoizedState=d.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:o},d.queue=x,d=cx.bind(null,Jt,x),x.dispatch=d,x=ap(!1),C=Vd.bind(null,Jt,!1,x.queue),x=_a(),E={state:o,dispatch:null,action:s,pending:null},x.queue=E,d=a_.bind(null,Jt,E,C,d),E.dispatch=d,x.memoizedState=s,[o,d,!1]}function Qg(s){var o=Mi();return Jg(o,Ln,s)}function Jg(s,o,d){if(o=np(s,o,rp)[0],s=qo(ao)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=Ks(o)}catch(q){throw q===tf?Zs:q}else x=o;o=Mi();var E=o.queue,C=E.dispatch;return d!==o.memoizedState&&(Jt.flags|=2048,Ic(9,rf(),s_.bind(null,E,d),null)),[x,C,s]}function s_(s,o){s.action=o}function $g(s){var o=Mi(),d=Ln;if(d!==null)return Jg(o,d,s);Mi(),o=o.memoizedState,d=Mi();var x=d.queue.dispatch;return d.memoizedState=s,[o,x,!1]}function Ic(s,o,d,x){return s={tag:s,create:d,deps:x,inst:o,next:null},o=Jt.updateQueue,o===null&&(o=Go(),Jt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(x=d.next,d.next=s,s.next=x,o.lastEffect=s),s}function rf(){return{destroy:void 0,resource:void 0}}function op(){return Mi().memoizedState}function zd(s,o,d,x){var E=_a();x=x===void 0?null:x,Jt.flags|=s,E.memoizedState=Ic(1|o,rf(),d,x)}function Fc(s,o,d,x){var E=Mi();x=x===void 0?null:x;var C=E.memoizedState.inst;Ln!==null&&x!==null&&ua(x,Ln.memoizedState.deps)?E.memoizedState=Ic(o,C,d,x):(Jt.flags|=s,E.memoizedState=Ic(1|o,C,d,x))}function lp(s,o){zd(8390656,8,s,o)}function cp(s,o){Fc(2048,8,s,o)}function Bd(s,o){return Fc(4,2,s,o)}function Id(s,o){return Fc(4,4,s,o)}function ex(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function tx(s,o,d){d=d!=null?d.concat([s]):null,Fc(4,4,ex.bind(null,o,s),d)}function up(){}function nx(s,o){var d=Mi();o=o===void 0?null:o;var x=d.memoizedState;return o!==null&&ua(o,x[1])?x[0]:(d.memoizedState=[s,o],s)}function fp(s,o){var d=Mi();o=o===void 0?null:o;var x=d.memoizedState;if(o!==null&&ua(o,x[1]))return x[0];if(x=s(),ba){Ce(!0);try{s()}finally{Ce(!1)}}return d.memoizedState=[x,o],x}function Fd(s,o,d){return d===void 0||(no&1073741824)!==0?s.memoizedState=o:(s.memoizedState=d,s=$d(),Jt.lanes|=s,ir|=s,d)}function ix(s,o,d,x){return Ra(d,o)?d:zc.current!==null?(s=Fd(s,d,x),Ra(s,o)||(ji=!0),s):(no&42)===0?(ji=!0,s.memoizedState=d):(s=$d(),Jt.lanes|=s,ir|=s,o)}function ax(s,o,d,x,E){var C=z.p;z.p=C!==0&&8>C?C:8;var q=k.T,J={};k.T=J,Vd(s,!1,o,d);try{var le=E(),Ee=k.S;if(Ee!==null&&Ee(J,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ve=n_(le,x);of(s,o,Ve,oi(s))}else of(s,o,x,oi(s))}catch(je){of(s,o,{then:function(){},status:"rejected",reason:je},oi())}finally{z.p=C,k.T=q}}function r_(){}function dp(s,o,d,x){if(s.tag!==5)throw Error(i(476));var E=sx(s).queue;ax(s,E,o,$,d===null?r_:function(){return rx(s),d(x)})}function sx(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:$},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function rx(s){var o=sx(s).next.queue;of(s,o,{},oi())}function hp(){return ai(Tp)}function ox(){return Mi().memoizedState}function lx(){return Mi().memoizedState}function o_(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=oi();s=gr(d);var x=to(o,s,d);x!==null&&(Ma(x,o,d),Ml(x,o,d)),o={cache:Ad()},s.payload=o;return}o=o.return}}function l_(s,o,d){var x=oi();d={lane:x,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Hd(s)?ux(o,d):(d=Sd(s,o,d,x),d!==null&&(Ma(d,s,x),ts(d,o,x)))}function cx(s,o,d){var x=oi();of(s,o,d,x)}function of(s,o,d,x){var E={lane:x,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Hd(s))ux(o,E);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var q=o.lastRenderedState,J=C(q,d);if(E.hasEagerState=!0,E.eagerState=J,Ra(J,q))return Uo(s,o,E,0),Yt===null&&ju(),!1}catch{}finally{}if(d=Sd(s,o,E,x),d!==null)return Ma(d,s,x),ts(d,o,x),!0}return!1}function Vd(s,o,d,x){if(x={lane:2,revertLane:f_(),action:x,hasEagerState:!1,eagerState:null,next:null},Hd(s)){if(o)throw Error(i(479))}else o=Sd(s,d,x,2),o!==null&&Ma(o,s,2)}function Hd(s){var o=s.alternate;return s===Jt||o!==null&&o===Jt}function ux(s,o){ko=Ld=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function ts(s,o,d){if((d&4194048)!==0){var x=o.lanes;x&=s.pendingLanes,d|=x,o.lanes=d,_t(s,d)}}var lf={readContext:ai,use:Pd,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useLayoutEffect:hi,useInsertionEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useSyncExternalStore:hi,useId:hi,useHostTransitionStatus:hi,useFormState:hi,useActionState:hi,useOptimistic:hi,useMemoCache:hi,useCacheRefresh:hi},kd={readContext:ai,use:Pd,useCallback:function(s,o){return _a().memoizedState=[s,o===void 0?null:o],s},useContext:ai,useEffect:lp,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,zd(4194308,4,ex.bind(null,o,s),d)},useLayoutEffect:function(s,o){return zd(4194308,4,s,o)},useInsertionEffect:function(s,o){zd(4,2,s,o)},useMemo:function(s,o){var d=_a();o=o===void 0?null:o;var x=s();if(ba){Ce(!0);try{s()}finally{Ce(!1)}}return d.memoizedState=[x,o],x},useReducer:function(s,o,d){var x=_a();if(d!==void 0){var E=d(o);if(ba){Ce(!0);try{d(o)}finally{Ce(!1)}}}else E=o;return x.memoizedState=x.baseState=E,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:E},x.queue=s,s=s.dispatch=l_.bind(null,Jt,s),[x.memoizedState,s]},useRef:function(s){var o=_a();return s={current:s},o.memoizedState=s},useState:function(s){s=ap(s);var o=s.queue,d=cx.bind(null,Jt,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:up,useDeferredValue:function(s,o){var d=_a();return Fd(d,s,o)},useTransition:function(){var s=ap(!1);return s=ax.bind(null,Jt,s.queue,!0,!1),_a().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var x=Jt,E=_a();if(En){if(d===void 0)throw Error(i(407));d=d()}else{if(d=o(),Yt===null)throw Error(i(349));(Lt&124)!==0||Bc(x,o,d)}E.memoizedState=d;var C={value:d,getSnapshot:o};return E.queue=C,lp(kg.bind(null,x,C,s),[s]),x.flags|=2048,Ic(9,rf(),Hg.bind(null,x,C,d,o),null),d},useId:function(){var s=_a(),o=Yt.identifierPrefix;if(En){var d=mr,x=hr;d=(x&~(1<<32-mt(x)-1)).toString(32)+d,o=""+o+"R"+d,d=Li++,0<d&&(o+="H"+d.toString(32)),o+=""}else d=Bg++,o=""+o+"r"+d.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:hp,useFormState:Kg,useActionState:Kg,useOptimistic:function(s){var o=_a();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Vd.bind(null,Jt,!0,d),d.dispatch=o,[s,o]},useMemoCache:tp,useCacheRefresh:function(){return _a().memoizedState=o_.bind(null,Jt)}},mp={readContext:ai,use:Pd,useCallback:nx,useContext:ai,useEffect:cp,useImperativeHandle:tx,useInsertionEffect:Bd,useLayoutEffect:Id,useMemo:fp,useReducer:qo,useRef:op,useState:function(){return qo(ao)},useDebugValue:up,useDeferredValue:function(s,o){var d=Mi();return ix(d,Ln.memoizedState,s,o)},useTransition:function(){var s=qo(ao)[0],o=Mi().memoizedState;return[typeof s=="boolean"?s:Ks(s),o]},useSyncExternalStore:Vg,useId:ox,useHostTransitionStatus:hp,useFormState:Qg,useActionState:Qg,useOptimistic:function(s,o){var d=Mi();return jg(d,Ln,s,o)},useMemoCache:tp,useCacheRefresh:lx},fx={readContext:ai,use:Pd,useCallback:nx,useContext:ai,useEffect:cp,useImperativeHandle:tx,useInsertionEffect:Bd,useLayoutEffect:Id,useMemo:fp,useReducer:ip,useRef:op,useState:function(){return ip(ao)},useDebugValue:up,useDeferredValue:function(s,o){var d=Mi();return Ln===null?Fd(d,s,o):ix(d,Ln.memoizedState,s,o)},useTransition:function(){var s=ip(ao)[0],o=Mi().memoizedState;return[typeof s=="boolean"?s:Ks(s),o]},useSyncExternalStore:Vg,useId:ox,useHostTransitionStatus:hp,useFormState:$g,useActionState:$g,useOptimistic:function(s,o){var d=Mi();return Ln!==null?jg(d,Ln,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:tp,useCacheRefresh:lx},wl=null,cf=0;function uf(s){var o=cf;return cf+=1,wl===null&&(wl=[]),Dd(wl,s,o)}function Vc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Gd(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function dx(s){var o=s._init;return o(s._payload)}function hx(s){function o(ve,pe){if(s){var Se=ve.deletions;Se===null?(ve.deletions=[pe],ve.flags|=16):Se.push(pe)}}function d(ve,pe){if(!s)return null;for(;pe!==null;)o(ve,pe),pe=pe.sibling;return null}function x(ve){for(var pe=new Map;ve!==null;)ve.key!==null?pe.set(ve.key,ve):pe.set(ve.index,ve),ve=ve.sibling;return pe}function E(ve,pe){return ve=di(ve,pe),ve.index=0,ve.sibling=null,ve}function C(ve,pe,Se){return ve.index=Se,s?(Se=ve.alternate,Se!==null?(Se=Se.index,Se<pe?(ve.flags|=67108866,pe):Se):(ve.flags|=67108866,pe)):(ve.flags|=1048576,pe)}function q(ve){return s&&ve.alternate===null&&(ve.flags|=67108866),ve}function J(ve,pe,Se,ke){return pe===null||pe.tag!==6?(pe=Wu(Se,ve.mode,ke),pe.return=ve,pe):(pe=E(pe,Se),pe.return=ve,pe)}function le(ve,pe,Se,ke){var Et=Se.type;return Et===M?Ve(ve,pe,Se.props.children,ke,Se.key):pe!==null&&(pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===H&&dx(Et)===pe.type)?(pe=E(pe,Se.props),Vc(pe,Se),pe.return=ve,pe):(pe=qi(Se.type,Se.key,Se.props,null,ve.mode,ke),Vc(pe,Se),pe.return=ve,pe)}function Ee(ve,pe,Se,ke){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Se.containerInfo||pe.stateNode.implementation!==Se.implementation?(pe=Ed(Se,ve.mode,ke),pe.return=ve,pe):(pe=E(pe,Se.children||[]),pe.return=ve,pe)}function Ve(ve,pe,Se,ke,Et){return pe===null||pe.tag!==7?(pe=zo(Se,ve.mode,ke,Et),pe.return=ve,pe):(pe=E(pe,Se),pe.return=ve,pe)}function je(ve,pe,Se){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=Wu(""+pe,ve.mode,Se),pe.return=ve,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return Se=qi(pe.type,pe.key,pe.props,null,ve.mode,Se),Vc(Se,pe),Se.return=ve,Se;case S:return pe=Ed(pe,ve.mode,Se),pe.return=ve,pe;case H:var ke=pe._init;return pe=ke(pe._payload),je(ve,pe,Se)}if(ne(pe)||Z(pe))return pe=zo(pe,ve.mode,Se,null),pe.return=ve,pe;if(typeof pe.then=="function")return je(ve,uf(pe),Se);if(pe.$$typeof===O)return je(ve,Qu(ve,pe),Se);Gd(ve,pe)}return null}function we(ve,pe,Se,ke){var Et=pe!==null?pe.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Et!==null?null:J(ve,pe,""+Se,ke);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case b:return Se.key===Et?le(ve,pe,Se,ke):null;case S:return Se.key===Et?Ee(ve,pe,Se,ke):null;case H:return Et=Se._init,Se=Et(Se._payload),we(ve,pe,Se,ke)}if(ne(Se)||Z(Se))return Et!==null?null:Ve(ve,pe,Se,ke,null);if(typeof Se.then=="function")return we(ve,pe,uf(Se),ke);if(Se.$$typeof===O)return we(ve,pe,Qu(ve,Se),ke);Gd(ve,Se)}return null}function Re(ve,pe,Se,ke,Et){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ve=ve.get(Se)||null,J(pe,ve,""+ke,Et);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:return ve=ve.get(ke.key===null?Se:ke.key)||null,le(pe,ve,ke,Et);case S:return ve=ve.get(ke.key===null?Se:ke.key)||null,Ee(pe,ve,ke,Et);case H:var mn=ke._init;return ke=mn(ke._payload),Re(ve,pe,Se,ke,Et)}if(ne(ke)||Z(ke))return ve=ve.get(Se)||null,Ve(pe,ve,ke,Et,null);if(typeof ke.then=="function")return Re(ve,pe,Se,uf(ke),Et);if(ke.$$typeof===O)return Re(ve,pe,Se,Qu(pe,ke),Et);Gd(pe,ke)}return null}function qt(ve,pe,Se,ke){for(var Et=null,mn=null,Ot=pe,Vt=pe=0,ha=null;Ot!==null&&Vt<Se.length;Vt++){Ot.index>Vt?(ha=Ot,Ot=null):ha=Ot.sibling;var Dn=we(ve,Ot,Se[Vt],ke);if(Dn===null){Ot===null&&(Ot=ha);break}s&&Ot&&Dn.alternate===null&&o(ve,Ot),pe=C(Dn,pe,Vt),mn===null?Et=Dn:mn.sibling=Dn,mn=Dn,Ot=ha}if(Vt===Se.length)return d(ve,Ot),En&&Qr(ve,Vt),Et;if(Ot===null){for(;Vt<Se.length;Vt++)Ot=je(ve,Se[Vt],ke),Ot!==null&&(pe=C(Ot,pe,Vt),mn===null?Et=Ot:mn.sibling=Ot,mn=Ot);return En&&Qr(ve,Vt),Et}for(Ot=x(Ot);Vt<Se.length;Vt++)ha=Re(Ot,ve,Vt,Se[Vt],ke),ha!==null&&(s&&ha.alternate!==null&&Ot.delete(ha.key===null?Vt:ha.key),pe=C(ha,pe,Vt),mn===null?Et=ha:mn.sibling=ha,mn=ha);return s&&Ot.forEach(function(iu){return o(ve,iu)}),En&&Qr(ve,Vt),Et}function Ft(ve,pe,Se,ke){if(Se==null)throw Error(i(151));for(var Et=null,mn=null,Ot=pe,Vt=pe=0,ha=null,Dn=Se.next();Ot!==null&&!Dn.done;Vt++,Dn=Se.next()){Ot.index>Vt?(ha=Ot,Ot=null):ha=Ot.sibling;var iu=we(ve,Ot,Dn.value,ke);if(iu===null){Ot===null&&(Ot=ha);break}s&&Ot&&iu.alternate===null&&o(ve,Ot),pe=C(iu,pe,Vt),mn===null?Et=iu:mn.sibling=iu,mn=iu,Ot=ha}if(Dn.done)return d(ve,Ot),En&&Qr(ve,Vt),Et;if(Ot===null){for(;!Dn.done;Vt++,Dn=Se.next())Dn=je(ve,Dn.value,ke),Dn!==null&&(pe=C(Dn,pe,Vt),mn===null?Et=Dn:mn.sibling=Dn,mn=Dn);return En&&Qr(ve,Vt),Et}for(Ot=x(Ot);!Dn.done;Vt++,Dn=Se.next())Dn=Re(Ot,ve,Vt,Dn.value,ke),Dn!==null&&(s&&Dn.alternate!==null&&Ot.delete(Dn.key===null?Vt:Dn.key),pe=C(Dn,pe,Vt),mn===null?Et=Dn:mn.sibling=Dn,mn=Dn);return s&&Ot.forEach(function(L4){return o(ve,L4)}),En&&Qr(ve,Vt),Et}function Zn(ve,pe,Se,ke){if(typeof Se=="object"&&Se!==null&&Se.type===M&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case b:e:{for(var Et=Se.key;pe!==null;){if(pe.key===Et){if(Et=Se.type,Et===M){if(pe.tag===7){d(ve,pe.sibling),ke=E(pe,Se.props.children),ke.return=ve,ve=ke;break e}}else if(pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===H&&dx(Et)===pe.type){d(ve,pe.sibling),ke=E(pe,Se.props),Vc(ke,Se),ke.return=ve,ve=ke;break e}d(ve,pe);break}else o(ve,pe);pe=pe.sibling}Se.type===M?(ke=zo(Se.props.children,ve.mode,ke,Se.key),ke.return=ve,ve=ke):(ke=qi(Se.type,Se.key,Se.props,null,ve.mode,ke),Vc(ke,Se),ke.return=ve,ve=ke)}return q(ve);case S:e:{for(Et=Se.key;pe!==null;){if(pe.key===Et)if(pe.tag===4&&pe.stateNode.containerInfo===Se.containerInfo&&pe.stateNode.implementation===Se.implementation){d(ve,pe.sibling),ke=E(pe,Se.children||[]),ke.return=ve,ve=ke;break e}else{d(ve,pe);break}else o(ve,pe);pe=pe.sibling}ke=Ed(Se,ve.mode,ke),ke.return=ve,ve=ke}return q(ve);case H:return Et=Se._init,Se=Et(Se._payload),Zn(ve,pe,Se,ke)}if(ne(Se))return qt(ve,pe,Se,ke);if(Z(Se)){if(Et=Z(Se),typeof Et!="function")throw Error(i(150));return Se=Et.call(Se),Ft(ve,pe,Se,ke)}if(typeof Se.then=="function")return Zn(ve,pe,uf(Se),ke);if(Se.$$typeof===O)return Zn(ve,pe,Qu(ve,Se),ke);Gd(ve,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,pe!==null&&pe.tag===6?(d(ve,pe.sibling),ke=E(pe,Se),ke.return=ve,ve=ke):(d(ve,pe),ke=Wu(Se,ve.mode,ke),ke.return=ve,ve=ke),q(ve)):d(ve,pe)}return function(ve,pe,Se,ke){try{cf=0;var Et=Zn(ve,pe,Se,ke);return wl=null,Et}catch(Ot){if(Ot===tf||Ot===Zs)throw Ot;var mn=La(29,Ot,null,ve.mode);return mn.lanes=ke,mn.return=ve,mn}finally{}}}var Tl=hx(!0),mx=hx(!1),Bn=G(null),Qs=null;function jo(s){var o=s.alternate;fe(mi,mi.current&1),fe(Bn,s),Qs===null&&(o===null||zc.current!==null||o.memoizedState!==null)&&(Qs=s)}function px(s){if(s.tag===22){if(fe(mi,mi.current),fe(Bn,s),Qs===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Qs=s)}}else Xo()}function Xo(){fe(mi,mi.current),fe(Bn,Bn.current)}function xr(s){ae(Bn),Qs===s&&(Qs=null),ae(mi)}var mi=G(0);function so(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||E_(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Wo(s,o,d,x){o=s.memoizedState,d=d(x,o),d=d==null?o:g({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Sa={enqueueSetState:function(s,o,d){s=s._reactInternals;var x=oi(),E=gr(x);E.payload=o,d!=null&&(E.callback=d),o=to(s,E,x),o!==null&&(Ma(o,s,x),Ml(o,s,x))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var x=oi(),E=gr(x);E.tag=1,E.payload=o,d!=null&&(E.callback=d),o=to(s,E,x),o!==null&&(Ma(o,s,x),Ml(o,s,x))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=oi(),x=gr(d);x.tag=2,o!=null&&(x.callback=o),o=to(s,x,d),o!==null&&(Ma(o,s,d),Ml(o,s,d))}};function gx(s,o,d,x,E,C,q){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,C,q):o.prototype&&o.prototype.isPureReactComponent?!Ws(d,x)||!Ws(E,C):!0}function xx(s,o,d,x){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,x),o.state!==s&&Sa.enqueueReplaceState(o,o.state,null)}function vr(s,o){var d=o;if("ref"in o){d={};for(var x in o)x!=="ref"&&(d[x]=o[x])}if(s=s.defaultProps){d===o&&(d=g({},d));for(var E in s)d[E]===void 0&&(d[E]=s[E])}return d}var Al=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ff(s){Al(s)}function qd(s){console.error(s)}function vx(s){Al(s)}function jd(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function ws(s,o,d){try{var x=s.onCaughtError;x(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Xd(s,o,d){return d=gr(d),d.tag=3,d.payload={element:null},d.callback=function(){jd(s,o)},d}function yx(s){return s=gr(s),s.tag=3,s}function Wd(s,o,d,x){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var C=x.value;s.payload=function(){return E(C)},s.callback=function(){ws(o,d,x)}}var q=d.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(s.callback=function(){ws(o,d,x),typeof E!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var J=x.stack;this.componentDidCatch(x.value,{componentStack:J!==null?J:""})})}function c_(s,o,d,x,E){if(d.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=d.alternate,o!==null&&_s(o,d,E,!0),d=Bn.current,d!==null){switch(d.tag){case 13:return Qs===null?c():d.alternate===null&&Qn===0&&(Qn=3),d.flags&=-257,d.flags|=65536,d.lanes=E,x===nf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([x]):o.add(x),De(s,x,E)),!1;case 22:return d.flags|=65536,x===nf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([x]):d.add(x)),De(s,x,E)),!1}throw Error(i(435,d.tag))}return De(s,x,E),c(),!1}if(En)return o=Bn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=E,x!==wd&&(s=Error(i(422),{cause:x}),El(ta(s,d)))):(x!==wd&&(o=Error(i(423),{cause:x}),El(ta(o,d))),s=s.current.alternate,s.flags|=65536,E&=-E,s.lanes|=E,x=ta(x,d),E=Xd(s.stateNode,x,E),Lc(s,E),Qn!==4&&(Qn=2)),!1;var C=Error(i(520),{cause:x});if(C=ta(C,d),Rn===null?Rn=[C]:Rn.push(C),Qn!==4&&(Qn=2),o===null)return!0;x=ta(x,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=E&-E,d.lanes|=s,s=Xd(d.stateNode,x,s),Lc(d,s),!1;case 1:if(o=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(cs===null||!cs.has(C))))return d.flags|=65536,E&=-E,d.lanes|=E,E=yx(E),Wd(E,s,d,x),Lc(d,E),!1}d=d.return}while(d!==null);return!1}var bx=Error(i(461)),ji=!1;function pi(s,o,d,x){o.child=s===null?mx(o,null,d,x):Tl(o,s.child,d,x)}function Pa(s,o,d,x,E){d=d.render;var C=o.ref;if("ref"in x){var q={};for(var J in x)J!=="ref"&&(q[J]=x[J])}else q=x;return pr(o),x=io(s,o,d,q,C,E),J=$m(),s!==null&&!ji?(Ud(s,o,E),Xi(s,o,E)):(En&&J&&km(o),o.flags|=1,pi(s,o,x,E),o.child)}function za(s,o,d,x,E){if(s===null){var C=d.type;return typeof C=="function"&&!Xu(C)&&C.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=C,pp(s,o,C,x,E)):(s=qi(d.type,null,x,o,o.mode,E),s.ref=o.ref,s.return=o,o.child=s)}if(C=s.child,!df(s,E)){var q=C.memoizedProps;if(d=d.compare,d=d!==null?d:Ws,d(q,x)&&s.ref===o.ref)return Xi(s,o,E)}return o.flags|=1,s=di(C,x),s.ref=o.ref,s.return=o,o.child=s}function pp(s,o,d,x,E){if(s!==null){var C=s.memoizedProps;if(Ws(C,x)&&s.ref===o.ref)if(ji=!1,o.pendingProps=x=C,df(s,E))(s.flags&131072)!==0&&(ji=!0);else return o.lanes=s.lanes,Xi(s,o,E)}return Hc(s,o,d,x,E)}function Cl(s,o,d){var x=o.pendingProps,E=x.children,C=s!==null?s.memoizedState:null;if(x.mode==="hidden"){if((o.flags&128)!==0){if(x=C!==null?C.baseLanes|d:d,s!==null){for(E=o.child=s.child,C=0;E!==null;)C=C|E.lanes|E.childLanes,E=E.sibling;o.childLanes=C&~x}else o.childLanes=0,o.child=null;return Nl(s,o,x,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&ef(o,C!==null?C.cachePool:null),C!==null?zg(o,C):Jm(),px(o);else return o.lanes=o.childLanes=536870912,Nl(s,o,C!==null?C.baseLanes|d:d,d)}else C!==null?(ef(o,C.cachePool),zg(o,C),Xo(),o.memoizedState=null):(s!==null&&ef(o,null),Jm(),Xo());return pi(s,o,E,d),o.child}function Nl(s,o,d,x){var E=Ho();return E=E===null?null:{parent:Si._currentValue,pool:E},o.memoizedState={baseLanes:d,cachePool:E},s!==null&&ef(o,null),Jm(),px(o),s!==null&&_s(s,o,x,!0),null}function Rl(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Hc(s,o,d,x,E){return pr(o),d=io(s,o,d,x,void 0,E),x=$m(),s!==null&&!ji?(Ud(s,o,E),Xi(s,o,E)):(En&&x&&km(o),o.flags|=1,pi(s,o,d,E),o.child)}function ns(s,o,d,x,E,C){return pr(o),o.updateQueue=null,d=Fg(o,x,d,E),Ig(s),x=$m(),s!==null&&!ji?(Ud(s,o,C),Xi(s,o,C)):(En&&x&&km(o),o.flags|=1,pi(s,o,d,C),o.child)}function is(s,o,d,x,E){if(pr(o),o.stateNode===null){var C=Po,q=d.contextType;typeof q=="object"&&q!==null&&(C=ai(q)),C=new d(x,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Sa,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=x,C.state=o.memoizedState,C.refs={},Km(o),q=d.contextType,C.context=typeof q=="object"&&q!==null?ai(q):Po,C.state=o.memoizedState,q=d.getDerivedStateFromProps,typeof q=="function"&&(Wo(o,d,q,x),C.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(q=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),q!==C.state&&Sa.enqueueReplaceState(C,C.state,null),Uc(o,x,C,E),af(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(s===null){C=o.stateNode;var J=o.memoizedProps,le=vr(d,J);C.props=le;var Ee=C.context,Ve=d.contextType;q=Po,typeof Ve=="object"&&Ve!==null&&(q=ai(Ve));var je=d.getDerivedStateFromProps;Ve=typeof je=="function"||typeof C.getSnapshotBeforeUpdate=="function",J=o.pendingProps!==J,Ve||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(J||Ee!==q)&&xx(o,C,x,q),eo=!1;var we=o.memoizedState;C.state=we,Uc(o,x,C,E),af(),Ee=o.memoizedState,J||we!==Ee||eo?(typeof je=="function"&&(Wo(o,d,je,x),Ee=o.memoizedState),(le=eo||gx(o,d,le,x,we,Ee,q))?(Ve||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=Ee),C.props=x,C.state=Ee,C.context=q,x=le):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{C=o.stateNode,Ht(s,o),q=o.memoizedProps,Ve=vr(d,q),C.props=Ve,je=o.pendingProps,we=C.context,Ee=d.contextType,le=Po,typeof Ee=="object"&&Ee!==null&&(le=ai(Ee)),J=d.getDerivedStateFromProps,(Ee=typeof J=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(q!==je||we!==le)&&xx(o,C,x,le),eo=!1,we=o.memoizedState,C.state=we,Uc(o,x,C,E),af();var Re=o.memoizedState;q!==je||we!==Re||eo||s!==null&&s.dependencies!==null&&Ku(s.dependencies)?(typeof J=="function"&&(Wo(o,d,J,x),Re=o.memoizedState),(Ve=eo||gx(o,d,Ve,x,we,Re,le)||s!==null&&s.dependencies!==null&&Ku(s.dependencies))?(Ee||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(x,Re,le),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(x,Re,le)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||q===s.memoizedProps&&we===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&we===s.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=Re),C.props=x,C.state=Re,C.context=le,x=Ve):(typeof C.componentDidUpdate!="function"||q===s.memoizedProps&&we===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&we===s.memoizedState||(o.flags|=1024),x=!1)}return C=x,Rl(s,o),x=(o.flags&128)!==0,C||x?(C=o.stateNode,d=x&&typeof d.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,s!==null&&x?(o.child=Tl(o,s.child,null,E),o.child=Tl(o,null,d,E)):pi(s,o,d,E),o.memoizedState=C.state,s=o.child):s=Xi(s,o,E),s}function Yo(s,o,d,x){return Cc(),o.flags|=256,pi(s,o,d,x),o.child}var Js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(s){return{baseLanes:s,cachePool:Nd()}}function Ui(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=Rs),s}function kc(s,o,d){var x=o.pendingProps,E=!1,C=(o.flags&128)!==0,q;if((q=C)||(q=s!==null&&s.memoizedState===null?!1:(mi.current&2)!==0),q&&(E=!0,o.flags&=-129),q=(o.flags&32)!==0,o.flags&=-33,s===null){if(En){if(E?jo(o):Xo(),En){var J=ti,le;if(le=J){e:{for(le=J,J=$a;le.nodeType!==8;){if(!J){J=null;break e}if(le=fo(le.nextSibling),le===null){J=null;break e}}J=le}J!==null?(o.memoizedState={dehydrated:J,treeContext:Bo!==null?{id:hr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},le=La(18,null,null,0),le.stateNode=J,le.return=o,o.child=le,ya=o,ti=null,le=!0):le=!1}le||Io(o)}if(J=o.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return E_(J)?o.lanes=32:o.lanes=536870912,null;xr(o)}return J=x.children,x=x.fallback,E?(Xo(),E=o.mode,J=Dl({mode:"hidden",children:J},E),x=zo(x,E,d,null),J.return=o,x.return=o,J.sibling=x,o.child=J,E=o.child,E.memoizedState=$s(d),E.childLanes=Ui(s,q,d),o.memoizedState=Js,x):(jo(o),yr(o,J))}if(le=s.memoizedState,le!==null&&(J=le.dehydrated,J!==null)){if(C)o.flags&256?(jo(o),o.flags&=-257,o=aa(s,o,d)):o.memoizedState!==null?(Xo(),o.child=s.child,o.flags|=128,o=null):(Xo(),E=x.fallback,J=o.mode,x=Dl({mode:"visible",children:x.children},J),E=zo(E,J,d,null),E.flags|=2,x.return=o,E.return=o,x.sibling=E,o.child=x,Tl(o,s.child,null,d),x=o.child,x.memoizedState=$s(d),x.childLanes=Ui(s,q,d),o.memoizedState=Js,o=E);else if(jo(o),E_(J)){if(q=J.nextSibling&&J.nextSibling.dataset,q)var Ee=q.dgst;q=Ee,x=Error(i(419)),x.stack="",x.digest=q,El({value:x,source:null,stack:null}),o=aa(s,o,d)}else if(ji||_s(s,o,d,!1),q=(d&s.childLanes)!==0,ji||q){if(q=Yt,q!==null&&(x=d&-d,x=(x&42)!==0?1:zt(x),x=(x&(q.suspendedLanes|d))!==0?0:x,x!==0&&x!==le.retryLane))throw le.retryLane=x,Kr(s,x),Ma(q,s,x),bx;J.data==="$?"||c(),o=aa(s,o,d)}else J.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=le.treeContext,ti=fo(J.nextSibling),ya=o,En=!0,bs=null,$a=!1,s!==null&&(na[Ja++]=hr,na[Ja++]=mr,na[Ja++]=Bo,hr=s.id,mr=s.overflow,Bo=o),o=yr(o,x.children),o.flags|=4096);return o}return E?(Xo(),E=x.fallback,J=o.mode,le=s.child,Ee=le.sibling,x=di(le,{mode:"hidden",children:x.children}),x.subtreeFlags=le.subtreeFlags&65011712,Ee!==null?E=di(Ee,E):(E=zo(E,J,d,null),E.flags|=2),E.return=o,x.return=o,x.sibling=E,o.child=x,x=E,E=o.child,J=s.child.memoizedState,J===null?J=$s(d):(le=J.cachePool,le!==null?(Ee=Si._currentValue,le=le.parent!==Ee?{parent:Ee,pool:Ee}:le):le=Nd(),J={baseLanes:J.baseLanes|d,cachePool:le}),E.memoizedState=J,E.childLanes=Ui(s,q,d),o.memoizedState=Js,x):(jo(o),d=s.child,s=d.sibling,d=di(d,{mode:"visible",children:x.children}),d.return=o,d.sibling=null,s!==null&&(q=o.deletions,q===null?(o.deletions=[s],o.flags|=16):q.push(s)),o.child=d,o.memoizedState=null,d)}function yr(s,o){return o=Dl({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Dl(s,o){return s=La(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function aa(s,o,d){return Tl(o,s.child,null,d),s=yr(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function sa(s,o,d){s.lanes|=o;var x=s.alternate;x!==null&&(x.lanes|=o),Xm(s.return,o,d)}function xn(s,o,d,x,E){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:d,tailMode:E}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=x,C.tail=d,C.tailMode=E)}function Ts(s,o,d){var x=o.pendingProps,E=x.revealOrder,C=x.tail;if(pi(s,o,x.children,d),x=mi.current,(x&2)!==0)x=x&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sa(s,d,o);else if(s.tag===19)sa(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}switch(fe(mi,x),E){case"forwards":for(d=o.child,E=null;d!==null;)s=d.alternate,s!==null&&so(s)===null&&(E=d),d=d.sibling;d=E,d===null?(E=o.child,o.child=null):(E=d.sibling,d.sibling=null),xn(o,!1,E,d,C);break;case"backwards":for(d=null,E=o.child,o.child=null;E!==null;){if(s=E.alternate,s!==null&&so(s)===null){o.child=E;break}s=E.sibling,E.sibling=d,d=E,E=s}xn(o,!0,d,null,C);break;case"together":xn(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xi(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),ir|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(_s(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,d=di(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=di(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function df(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Ku(s)))}function As(s,o,d){switch(o.tag){case 3:Oe(o,o.stateNode.containerInfo),Vo(o,Si,s.memoizedState.cache),Cc();break;case 27:case 5:Ie(o);break;case 4:Oe(o,o.stateNode.containerInfo);break;case 10:Vo(o,o.type,o.memoizedProps.value);break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(jo(o),o.flags|=128,null):(d&o.child.childLanes)!==0?kc(s,o,d):(jo(o),s=Xi(s,o,d),s!==null?s.sibling:null);jo(o);break;case 19:var E=(s.flags&128)!==0;if(x=(d&o.childLanes)!==0,x||(_s(s,o,d,!1),x=(d&o.childLanes)!==0),E){if(x)return Ts(s,o,d);o.flags|=128}if(E=o.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),fe(mi,mi.current),x)break;return null;case 22:case 23:return o.lanes=0,Cl(s,o,d);case 24:Vo(o,Si,s.memoizedState.cache)}return Xi(s,o,d)}function Ol(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)ji=!0;else{if(!df(s,d)&&(o.flags&128)===0)return ji=!1,As(s,o,d);ji=(s.flags&131072)!==0}else ji=!1,En&&(o.flags&1048576)!==0&&Md(o,Ac,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var x=o.elementType,E=x._init;if(x=E(x._payload),o.type=x,typeof x=="function")Xu(x)?(s=vr(x,s),o.tag=1,o=is(null,o,x,s,d)):(o.tag=0,o=Hc(null,o,x,s,d));else{if(x!=null){if(E=x.$$typeof,E===F){o.tag=11,o=Pa(null,o,x,s,d);break e}else if(E===B){o.tag=14,o=za(null,o,x,s,d);break e}}throw o=Y(x)||x,Error(i(306,o,""))}}return o;case 0:return Hc(s,o,o.type,o.pendingProps,d);case 1:return x=o.type,E=vr(x,o.pendingProps),is(s,o,x,E,d);case 3:e:{if(Oe(o,o.stateNode.containerInfo),s===null)throw Error(i(387));x=o.pendingProps;var C=o.memoizedState;E=C.element,Ht(s,o),Uc(o,x,null,d);var q=o.memoizedState;if(x=q.cache,Vo(o,Si,x),x!==C.cache&&Zu(o,[Si],d,!0),af(),x=q.element,C.isDehydrated)if(C={element:x,isDehydrated:!1,cache:q.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=Yo(s,o,x,d);break e}else if(x!==E){E=ta(Error(i(424)),o),El(E),o=Yo(s,o,x,d);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ti=fo(s.firstChild),ya=o,En=!0,bs=null,$a=!0,d=mx(o,null,x,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Cc(),x===E){o=Xi(s,o,d);break e}pi(s,o,x,d)}o=o.child}return o;case 26:return Rl(s,o),s===null?(d=w2(o.type,null,o.pendingProps,null))?o.memoizedState=d:En||(d=o.type,s=o.pendingProps,x=Tx(oe.current).createElement(d),x[Ri]=o,x[Di]=s,wa(x,d,s),bi(x),o.stateNode=x):o.memoizedState=w2(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ie(o),s===null&&En&&(x=o.stateNode=S2(o.type,o.pendingProps,oe.current),ya=o,$a=!0,E=ti,Jc(o.type)?(M_=E,ti=fo(x.firstChild)):ti=E),pi(s,o,o.pendingProps.children,d),Rl(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&En&&((E=x=ti)&&(x=l4(x,o.type,o.pendingProps,$a),x!==null?(o.stateNode=x,ya=o,ti=fo(x.firstChild),$a=!1,E=!0):E=!1),E||Io(o)),Ie(o),E=o.type,C=o.pendingProps,q=s!==null?s.memoizedProps:null,x=C.children,b_(E,C)?x=null:q!==null&&b_(E,q)&&(o.flags|=32),o.memoizedState!==null&&(E=io(s,o,i_,null,null,d),Tp._currentValue=E),Rl(s,o),pi(s,o,x,d),o.child;case 6:return s===null&&En&&((s=d=ti)&&(d=c4(d,o.pendingProps,$a),d!==null?(o.stateNode=d,ya=o,ti=null,s=!0):s=!1),s||Io(o)),null;case 13:return kc(s,o,d);case 4:return Oe(o,o.stateNode.containerInfo),x=o.pendingProps,s===null?o.child=Tl(o,null,x,d):pi(s,o,x,d),o.child;case 11:return Pa(s,o,o.type,o.pendingProps,d);case 7:return pi(s,o,o.pendingProps,d),o.child;case 8:return pi(s,o,o.pendingProps.children,d),o.child;case 12:return pi(s,o,o.pendingProps.children,d),o.child;case 10:return x=o.pendingProps,Vo(o,o.type,x.value),pi(s,o,x.children,d),o.child;case 9:return E=o.type._context,x=o.pendingProps.children,pr(o),E=ai(E),x=x(E),o.flags|=1,pi(s,o,x,d),o.child;case 14:return za(s,o,o.type,o.pendingProps,d);case 15:return pp(s,o,o.type,o.pendingProps,d);case 19:return Ts(s,o,d);case 31:return x=o.pendingProps,d=o.mode,x={mode:x.mode,children:x.children},s===null?(d=Dl(x,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=di(s.child,x),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return Cl(s,o,d);case 24:return pr(o),x=ai(Si),s===null?(E=Ho(),E===null&&(E=Yt,C=Ad(),E.pooledCache=C,C.refCount++,C!==null&&(E.pooledCacheLanes|=d),E=C),o.memoizedState={parent:x,cache:E},Km(o),Vo(o,Si,E)):((s.lanes&d)!==0&&(Ht(s,o),Uc(o,null,null,d),af()),E=s.memoizedState,C=o.memoizedState,E.parent!==x?(E={parent:x,cache:x},o.memoizedState=E,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=E),Vo(o,Si,x)):(x=C.cache,Vo(o,Si,x),x!==E.cache&&Zu(o,[Si],d,!0))),pi(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function er(s){s.flags|=4}function hf(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!R2(o)){if(o=Bn.current,o!==null&&((Lt&4194048)===Lt?Qs!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||o!==Qs))throw Es=nf,Ym;s.flags|=8192}}function ro(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?ct():536870912,s.lanes|=o,bn|=o)}function Ll(s,o){if(!En)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function jn(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,x=0;if(o)for(var E=s.child;E!==null;)d|=E.lanes|E.childLanes,x|=E.subtreeFlags&65011712,x|=E.flags&65011712,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)d|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=x,s.childLanes=d,o}function gp(s,o,d){var x=o.pendingProps;switch(Gm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(o),null;case 1:return jn(o),null;case 3:return d=o.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),$r(Si),Ye(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Ys(o)?er(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cn())),jn(o),null;case 26:return d=o.memoizedState,s===null?(er(o),d!==null?(jn(o),hf(o,d)):(jn(o),o.flags&=-16777217)):d?d!==s.memoizedState?(er(o),jn(o),hf(o,d)):(jn(o),o.flags&=-16777217):(s.memoizedProps!==x&&er(o),jn(o),o.flags&=-16777217),null;case 27:rt(o),d=oe.current;var E=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==x&&er(o);else{if(!x){if(o.stateNode===null)throw Error(i(166));return jn(o),null}s=ce.current,Ys(o)?Og(o):(s=S2(E,x,d),o.stateNode=s,er(o))}return jn(o),null;case 5:if(rt(o),d=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==x&&er(o);else{if(!x){if(o.stateNode===null)throw Error(i(166));return jn(o),null}if(s=ce.current,Ys(o))Og(o);else{switch(E=Tx(oe.current),s){case 1:s=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof x.is=="string"?E.createElement("select",{is:x.is}):E.createElement("select"),x.multiple?s.multiple=!0:x.size&&(s.size=x.size);break;default:s=typeof x.is=="string"?E.createElement(d,{is:x.is}):E.createElement(d)}}s[Ri]=o,s[Di]=x;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)s.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=s;e:switch(wa(s,d,x),d){case"button":case"input":case"select":case"textarea":s=!!x.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&er(o)}}return jn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==x&&er(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(i(166));if(s=oe.current,Ys(o)){if(s=o.stateNode,d=o.memoizedProps,x=null,E=ya,E!==null)switch(E.tag){case 27:case 5:x=E.memoizedProps}s[Ri]=o,s=!!(s.nodeValue===d||x!==null&&x.suppressHydrationWarning===!0||p2(s.nodeValue,d)),s||Io(o)}else s=Tx(s).createTextNode(x),s[Ri]=o,o.stateNode=s}return jn(o),null;case 13:if(x=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(E=Ys(o),x!==null&&x.dehydrated!==null){if(s===null){if(!E)throw Error(i(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[Ri]=o}else Cc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jn(o),E=!1}else E=Cn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=E),E=!0;if(!E)return o.flags&256?(xr(o),o):(xr(o),null)}if(xr(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=x!==null,s=s!==null&&s.memoizedState!==null,d){x=o.child,E=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(E=x.alternate.memoizedState.cachePool.pool);var C=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==E&&(x.flags|=2048)}return d!==s&&d&&(o.child.flags|=8192),ro(o,o.updateQueue),jn(o),null;case 4:return Ye(),s===null&&p_(o.stateNode.containerInfo),jn(o),null;case 10:return $r(o.type),jn(o),null;case 19:if(ae(mi),E=o.memoizedState,E===null)return jn(o),null;if(x=(o.flags&128)!==0,C=E.rendering,C===null)if(x)Ll(E,!1);else{if(Qn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=so(s),C!==null){for(o.flags|=128,Ll(E,!1),s=C.updateQueue,o.updateQueue=s,ro(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)Hm(d,s),d=d.sibling;return fe(mi,mi.current&1|2),o.child}s=s.sibling}E.tail!==null&&Te()>fa&&(o.flags|=128,x=!0,Ll(E,!1),o.lanes=4194304)}else{if(!x)if(s=so(C),s!==null){if(o.flags|=128,x=!0,s=s.updateQueue,o.updateQueue=s,ro(o,s),Ll(E,!0),E.tail===null&&E.tailMode==="hidden"&&!C.alternate&&!En)return jn(o),null}else 2*Te()-E.renderingStartTime>fa&&d!==536870912&&(o.flags|=128,x=!0,Ll(E,!1),o.lanes=4194304);E.isBackwards?(C.sibling=o.child,o.child=C):(s=E.last,s!==null?s.sibling=C:o.child=C,E.last=C)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=Te(),o.sibling=null,s=mi.current,fe(mi,x?s&1|2:s&1),o):(jn(o),null);case 22:case 23:return xr(o),sf(),x=o.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(d&536870912)!==0&&(o.flags&128)===0&&(jn(o),o.subtreeFlags&6&&(o.flags|=8192)):jn(o),d=o.updateQueue,d!==null&&ro(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==d&&(o.flags|=2048),s!==null&&ae(Ss),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),$r(Si),jn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Gc(s,o){switch(Gm(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return $r(Si),Ye(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return rt(o),null;case 13:if(xr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Cc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ae(mi),null;case 4:return Ye(),null;case 10:return $r(o.type),null;case 22:case 23:return xr(o),sf(),s!==null&&ae(Ss),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return $r(Si),null;case 25:return null;default:return null}}function qc(s,o){switch(Gm(o),o.tag){case 3:$r(Si),Ye();break;case 26:case 27:case 5:rt(o);break;case 4:Ye();break;case 13:xr(o);break;case 19:ae(mi);break;case 10:$r(o.type);break;case 22:case 23:xr(o),sf(),s!==null&&ae(Ss);break;case 24:$r(Si)}}function Ul(s,o){try{var d=o.updateQueue,x=d!==null?d.lastEffect:null;if(x!==null){var E=x.next;d=E;do{if((d.tag&s)===s){x=void 0;var C=d.create,q=d.inst;x=C(),q.destroy=x}d=d.next}while(d!==E)}}catch(J){he(o,o.return,J)}}function as(s,o,d){try{var x=o.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var C=E.next;x=C;do{if((x.tag&s)===s){var q=x.inst,J=q.destroy;if(J!==void 0){q.destroy=void 0,E=o;var le=d,Ee=J;try{Ee()}catch(Ve){he(E,le,Ve)}}}x=x.next}while(x!==C)}}catch(Ve){he(o,o.return,Ve)}}function Pl(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{Pg(o,d)}catch(x){he(s,s.return,x)}}}function oo(s,o,d){d.props=vr(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(x){he(s,o,x)}}function zl(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof d=="function"?s.refCleanup=d(x):d.current=x}}catch(E){he(s,o,E)}}function br(s,o){var d=s.ref,x=s.refCleanup;if(d!==null)if(typeof x=="function")try{x()}catch(E){he(s,o,E)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){he(s,o,E)}else d.current=null}function jc(s){var o=s.type,d=s.memoizedProps,x=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&x.focus();break e;case"img":d.src?x.src=d.src:d.srcSet&&(x.srcset=d.srcSet)}}catch(E){he(s,s.return,E)}}function mf(s,o,d){try{var x=s.stateNode;i4(x,s.type,d,o),x[Di]=o}catch(E){he(s,s.return,E)}}function pf(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Jc(s.type)||s.tag===4}function Zo(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pf(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Jc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ko(s,o,d){var x=s.tag;if(x===5||x===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=wx));else if(x!==4&&(x===27&&Jc(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(Ko(s,o,d),s=s.sibling;s!==null;)Ko(s,o,d),s=s.sibling}function Qo(s,o,d){var x=s.tag;if(x===5||x===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(x!==4&&(x===27&&Jc(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Qo(s,o,d),s=s.sibling;s!==null;)Qo(s,o,d),s=s.sibling}function Jo(s){var o=s.stateNode,d=s.memoizedProps;try{for(var x=s.type,E=o.attributes;E.length;)o.removeAttributeNode(E[0]);wa(o,x,d),o[Ri]=s,o[Di]=d}catch(C){he(s,s.return,C)}}var _r=!1,Xn=!1,Xc=!1,ss=typeof WeakSet=="function"?WeakSet:Set,In=null;function Pi(s,o){if(s=s.containerInfo,v_=Ox,s=Um(s),ku(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var x=d.getSelection&&d.getSelection();if(x&&x.rangeCount!==0){d=x.anchorNode;var E=x.anchorOffset,C=x.focusNode;x=x.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var q=0,J=-1,le=-1,Ee=0,Ve=0,je=s,we=null;t:for(;;){for(var Re;je!==d||E!==0&&je.nodeType!==3||(J=q+E),je!==C||x!==0&&je.nodeType!==3||(le=q+x),je.nodeType===3&&(q+=je.nodeValue.length),(Re=je.firstChild)!==null;)we=je,je=Re;for(;;){if(je===s)break t;if(we===d&&++Ee===E&&(J=q),we===C&&++Ve===x&&(le=q),(Re=je.nextSibling)!==null)break;je=we,we=je.parentNode}je=Re}d=J===-1||le===-1?null:{start:J,end:le}}else d=null}d=d||{start:0,end:0}}else d=null;for(y_={focusedElem:s,selectionRange:d},Ox=!1,In=o;In!==null;)if(o=In,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,In=s;else for(;In!==null;){switch(o=In,C=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,d=o,E=C.memoizedProps,C=C.memoizedState,x=d.stateNode;try{var qt=vr(d.type,E,d.elementType===d.type);s=x.getSnapshotBeforeUpdate(qt,C),x.__reactInternalSnapshotBeforeUpdate=s}catch(Ft){he(d,d.return,Ft)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)S_(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":S_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,In=s;break}In=o.return}}function lo(s,o,d){var x=d.flags;switch(d.tag){case 0:case 11:case 15:Ea(s,d),x&4&&Ul(5,d);break;case 1:if(Ea(s,d),x&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(q){he(d,d.return,q)}else{var E=vr(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(E,o,s.__reactInternalSnapshotBeforeUpdate)}catch(q){he(d,d.return,q)}}x&64&&Pl(d),x&512&&zl(d,d.return);break;case 3:if(Ea(s,d),x&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Pg(s,o)}catch(q){he(d,d.return,q)}}break;case 27:o===null&&x&4&&Jo(d);case 26:case 5:Ea(s,d),o===null&&x&4&&jc(d),x&512&&zl(d,d.return);break;case 12:Ea(s,d);break;case 13:Ea(s,d),x&4&&$o(s,d),x&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=Jn.bind(null,d),u4(s,d))));break;case 22:if(x=d.memoizedState!==null||_r,!x){o=o!==null&&o.memoizedState!==null||Xn,E=_r;var C=Xn;_r=x,(Xn=o)&&!C?Sr(s,d,(d.subtreeFlags&8772)!==0):Ea(s,d),_r=E,Xn=C}break;case 30:break;default:Ea(s,d)}}function nn(s){var o=s.alternate;o!==null&&(s.alternate=null,nn(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&kn(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Bt=null,yn=!1;function Cs(s,o,d){for(d=d.child;d!==null;)Bl(s,o,d),d=d.sibling}function Bl(s,o,d){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pe,d)}catch{}switch(d.tag){case 26:Xn||br(d,o),Cs(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Xn||br(d,o);var x=Bt,E=yn;Jc(d.type)&&(Bt=d.stateNode,yn=!1),Cs(s,o,d),Sp(d.stateNode),Bt=x,yn=E;break;case 5:Xn||br(d,o);case 6:if(x=Bt,E=yn,Bt=null,Cs(s,o,d),Bt=x,yn=E,Bt!==null)if(yn)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(d.stateNode)}catch(C){he(d,o,C)}else try{Bt.removeChild(d.stateNode)}catch(C){he(d,o,C)}break;case 18:Bt!==null&&(yn?(s=Bt,b2(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Rp(s)):b2(Bt,d.stateNode));break;case 4:x=Bt,E=yn,Bt=d.stateNode.containerInfo,yn=!0,Cs(s,o,d),Bt=x,yn=E;break;case 0:case 11:case 14:case 15:Xn||as(2,d,o),Xn||as(4,d,o),Cs(s,o,d);break;case 1:Xn||(br(d,o),x=d.stateNode,typeof x.componentWillUnmount=="function"&&oo(d,o,x)),Cs(s,o,d);break;case 21:Cs(s,o,d);break;case 22:Xn=(x=Xn)||d.memoizedState!==null,Cs(s,o,d),Xn=x;break;default:Cs(s,o,d)}}function $o(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rp(s)}catch(d){he(o,o.return,d)}}function Yd(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new ss),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new ss),o;default:throw Error(i(435,s.tag))}}function Il(s,o){var d=Yd(s);o.forEach(function(x){var E=kt.bind(null,s,x);d.has(x)||(d.add(x),x.then(E,E))})}function Wi(s,o){var d=o.deletions;if(d!==null)for(var x=0;x<d.length;x++){var E=d[x],C=s,q=o,J=q;e:for(;J!==null;){switch(J.tag){case 27:if(Jc(J.type)){Bt=J.stateNode,yn=!1;break e}break;case 5:Bt=J.stateNode,yn=!1;break e;case 3:case 4:Bt=J.stateNode.containerInfo,yn=!0;break e}J=J.return}if(Bt===null)throw Error(i(160));Bl(C,q,E),Bt=null,yn=!1,C=E.alternate,C!==null&&(C.return=null),E.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Zd(o,s),o=o.sibling}var tr=null;function Zd(s,o){var d=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wi(o,s),si(s),x&4&&(as(3,s,s.return),Ul(3,s),as(5,s,s.return));break;case 1:Wi(o,s),si(s),x&512&&(Xn||d===null||br(d,d.return)),x&64&&_r&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?x:d.concat(x))));break;case 26:var E=tr;if(Wi(o,s),si(s),x&512&&(Xn||d===null||br(d,d.return)),x&4){var C=d!==null?d.memoizedState:null;if(x=s.memoizedState,d===null)if(x===null)if(s.stateNode===null){e:{x=s.type,d=s.memoizedProps,E=E.ownerDocument||E;t:switch(x){case"title":C=E.getElementsByTagName("title")[0],(!C||C[Za]||C[Ri]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=E.createElement(x),E.head.insertBefore(C,E.querySelector("head > title"))),wa(C,x,d),C[Ri]=s,bi(C),x=C;break e;case"link":var q=C2("link","href",E).get(x+(d.href||""));if(q){for(var J=0;J<q.length;J++)if(C=q[J],C.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){q.splice(J,1);break t}}C=E.createElement(x),wa(C,x,d),E.head.appendChild(C);break;case"meta":if(q=C2("meta","content",E).get(x+(d.content||""))){for(J=0;J<q.length;J++)if(C=q[J],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){q.splice(J,1);break t}}C=E.createElement(x),wa(C,x,d),E.head.appendChild(C);break;default:throw Error(i(468,x))}C[Ri]=s,bi(C),x=C}s.stateNode=x}else N2(E,s.type,s.stateNode);else s.stateNode=A2(E,x,s.memoizedProps);else C!==x?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,x===null?N2(E,s.type,s.stateNode):A2(E,x,s.memoizedProps)):x===null&&s.stateNode!==null&&mf(s,s.memoizedProps,d.memoizedProps)}break;case 27:Wi(o,s),si(s),x&512&&(Xn||d===null||br(d,d.return)),d!==null&&x&4&&mf(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Wi(o,s),si(s),x&512&&(Xn||d===null||br(d,d.return)),s.flags&32){E=s.stateNode;try{qn(E,"")}catch(Re){he(s,s.return,Re)}}x&4&&s.stateNode!=null&&(E=s.memoizedProps,mf(s,E,d!==null?d.memoizedProps:E)),x&1024&&(Xc=!0);break;case 6:if(Wi(o,s),si(s),x&4){if(s.stateNode===null)throw Error(i(162));x=s.memoizedProps,d=s.stateNode;try{d.nodeValue=x}catch(Re){he(s,s.return,Re)}}break;case 3:if(Nx=null,E=tr,tr=Ax(o.containerInfo),Wi(o,s),tr=E,si(s),x&4&&d!==null&&d.memoizedState.isDehydrated)try{Rp(o.containerInfo)}catch(Re){he(s,s.return,Re)}Xc&&(Xc=!1,el(s));break;case 4:x=tr,tr=Ax(s.stateNode.containerInfo),Wi(o,s),si(s),tr=x;break;case 12:Wi(o,s),si(s);break;case 13:Wi(o,s),si(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pn=Te()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Il(s,x)));break;case 22:E=s.memoizedState!==null;var le=d!==null&&d.memoizedState!==null,Ee=_r,Ve=Xn;if(_r=Ee||E,Xn=Ve||le,Wi(o,s),Xn=Ve,_r=Ee,si(s),x&8192)e:for(o=s.stateNode,o._visibility=E?o._visibility&-2:o._visibility|1,E&&(d===null||le||_r||Xn||rs(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){le=d=o;try{if(C=le.stateNode,E)q=C.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{J=le.stateNode;var je=le.memoizedProps.style,we=je!=null&&je.hasOwnProperty("display")?je.display:null;J.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Re){he(le,le.return,Re)}}}else if(o.tag===6){if(d===null){le=o;try{le.stateNode.nodeValue=E?"":le.memoizedProps}catch(Re){he(le,le.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=s.updateQueue,x!==null&&(d=x.retryQueue,d!==null&&(x.retryQueue=null,Il(s,d))));break;case 19:Wi(o,s),si(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Il(s,x)));break;case 30:break;case 21:break;default:Wi(o,s),si(s)}}function si(s){var o=s.flags;if(o&2){try{for(var d,x=s.return;x!==null;){if(pf(x)){d=x;break}x=x.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var E=d.stateNode,C=Zo(s);Qo(s,C,E);break;case 5:var q=d.stateNode;d.flags&32&&(qn(q,""),d.flags&=-33);var J=Zo(s);Qo(s,J,q);break;case 3:case 4:var le=d.stateNode.containerInfo,Ee=Zo(s);Ko(s,Ee,le);break;default:throw Error(i(161))}}catch(Ve){he(s,s.return,Ve)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function el(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;el(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ea(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)lo(s,o.alternate,o),o=o.sibling}function rs(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:as(4,o,o.return),rs(o);break;case 1:br(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&oo(o,o.return,d),rs(o);break;case 27:Sp(o.stateNode);case 26:case 5:br(o,o.return),rs(o);break;case 22:o.memoizedState===null&&rs(o);break;case 30:rs(o);break;default:rs(o)}s=s.sibling}}function Sr(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,E=s,C=o,q=C.flags;switch(C.tag){case 0:case 11:case 15:Sr(E,C,d),Ul(4,C);break;case 1:if(Sr(E,C,d),x=C,E=x.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ee){he(x,x.return,Ee)}if(x=C,E=x.updateQueue,E!==null){var J=x.stateNode;try{var le=E.shared.hiddenCallbacks;if(le!==null)for(E.shared.hiddenCallbacks=null,E=0;E<le.length;E++)Pc(le[E],J)}catch(Ee){he(x,x.return,Ee)}}d&&q&64&&Pl(C),zl(C,C.return);break;case 27:Jo(C);case 26:case 5:Sr(E,C,d),d&&x===null&&q&4&&jc(C),zl(C,C.return);break;case 12:Sr(E,C,d);break;case 13:Sr(E,C,d),d&&q&4&&$o(E,C);break;case 22:C.memoizedState===null&&Sr(E,C,d),zl(C,C.return);break;case 30:break;default:Sr(E,C,d)}o=o.sibling}}function Kd(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Nc(d))}function Qd(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Nc(s))}function Fn(s,o,d,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Jd(s,o,d,x),o=o.sibling}function Jd(s,o,d,x){var E=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(s,o,d,x),E&2048&&Ul(9,o);break;case 1:Fn(s,o,d,x);break;case 3:Fn(s,o,d,x),E&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Nc(s)));break;case 12:if(E&2048){Fn(s,o,d,x),s=o.stateNode;try{var C=o.memoizedProps,q=C.id,J=C.onPostCommit;typeof J=="function"&&J(q,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(le){he(o,o.return,le)}}else Fn(s,o,d,x);break;case 13:Fn(s,o,d,x);break;case 23:break;case 22:C=o.stateNode,q=o.alternate,o.memoizedState!==null?C._visibility&2?Fn(s,o,d,x):nr(s,o):C._visibility&2?Fn(s,o,d,x):(C._visibility|=2,co(s,o,d,x,(o.subtreeFlags&10256)!==0)),E&2048&&Kd(q,o);break;case 24:Fn(s,o,d,x),E&2048&&Qd(o.alternate,o);break;default:Fn(s,o,d,x)}}function co(s,o,d,x,E){for(E=E&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var C=s,q=o,J=d,le=x,Ee=q.flags;switch(q.tag){case 0:case 11:case 15:co(C,q,J,le,E),Ul(8,q);break;case 23:break;case 22:var Ve=q.stateNode;q.memoizedState!==null?Ve._visibility&2?co(C,q,J,le,E):nr(C,q):(Ve._visibility|=2,co(C,q,J,le,E)),E&&Ee&2048&&Kd(q.alternate,q);break;case 24:co(C,q,J,le,E),E&&Ee&2048&&Qd(q.alternate,q);break;default:co(C,q,J,le,E)}o=o.sibling}}function nr(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,x=o,E=x.flags;switch(x.tag){case 22:nr(d,x),E&2048&&Kd(x.alternate,x);break;case 24:nr(d,x),E&2048&&Qd(x.alternate,x);break;default:nr(d,x)}o=o.sibling}}var os=8192;function Wc(s){if(s.subtreeFlags&os)for(s=s.child;s!==null;)_x(s),s=s.sibling}function _x(s){switch(s.tag){case 26:Wc(s),s.flags&os&&s.memoizedState!==null&&E4(tr,s.memoizedState,s.memoizedProps);break;case 5:Wc(s);break;case 3:case 4:var o=tr;tr=Ax(s.stateNode.containerInfo),Wc(s),tr=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=os,os=16777216,Wc(s),os=o):Wc(s));break;default:Wc(s)}}function Sx(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Wn(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var x=o[d];In=x,Mr(x,s)}Sx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xp(s),s=s.sibling}function xp(s){switch(s.tag){case 0:case 11:case 15:Wn(s),s.flags&2048&&as(9,s,s.return);break;case 3:Wn(s);break;case 12:Wn(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Er(s)):Wn(s);break;default:Wn(s)}}function Er(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var x=o[d];In=x,Mr(x,s)}Sx(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:as(8,o,o.return),Er(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Er(o));break;default:Er(o)}s=s.sibling}}function Mr(s,o){for(;In!==null;){var d=In;switch(d.tag){case 0:case 11:case 15:as(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var x=d.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Nc(d.memoizedState.cache)}if(x=d.child,x!==null)x.return=d,In=x;else e:for(d=s;In!==null;){x=In;var E=x.sibling,C=x.return;if(nn(x),x===d){In=null;break e}if(E!==null){E.return=C,In=E;break e}In=C}}}var ri={getCacheForType:function(s){var o=ai(Si),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d}},vp=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Yt=null,un=null,Lt=0,$t=0,ni=null,ls=!1,Yc=!1,Zc=!1,Ns=0,Qn=0,ir=0,wr=0,Fl=0,Rs=0,bn=0,Rn=null,It=null,hn=!1,Pn=0,fa=1/0,Ds=null,cs=null,zi=0,da=null,Vn=null,us=0,uo=0,gf=null,fs=null,Tr=0,Vl=null;function oi(){if((Nn&2)!==0&&Lt!==0)return Lt&-Lt;if(k.T!==null){var s=Qt;return s!==0?s:f_()}return gn()}function $d(){Rs===0&&(Rs=(Lt&536870912)===0||En?de():536870912);var s=Bn.current;return s!==null&&(s.flags|=32),Rs}function Ma(s,o,d){(s===Yt&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(nl(s,0),ar(s,Lt,Rs,!1)),at(s,d),((Nn&2)===0||s!==Yt)&&(s===Yt&&((Nn&2)===0&&(wr|=d),Qn===4&&ar(s,Lt,Rs,!1)),sl(s))}function Kc(s,o,d){if((Nn&6)!==0)throw Error(i(327));var x=!d&&(o&124)===0&&(o&s.expiredLanes)===0||lt(s,o),E=x?w(s,o):f(s,o,!0),C=x;do{if(E===0){Yc&&!x&&ar(s,o,0,!1);break}else{if(d=s.current.alternate,C&&!tl(d)){E=f(s,o,!1),C=!1;continue}if(E===2){if(C=o,s.errorRecoveryDisabledLanes&C)var q=0;else q=s.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){o=q;e:{var J=s;E=Rn;var le=J.current.memoizedState.isDehydrated;if(le&&(nl(J,q).flags|=256),q=f(J,q,!1),q!==2){if(Zc&&!le){J.errorRecoveryDisabledLanes|=C,wr|=C,E=4;break e}C=It,It=E,C!==null&&(It===null?It=C:It.push.apply(It,C))}E=q}if(C=!1,E!==2)continue}}if(E===1){nl(s,0),ar(s,o,0,!0);break}e:{switch(x=s,C=E,C){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ar(x,o,Rs,!ls);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(E=Pn+300-Te(),10<E)){if(ar(x,o,Rs,!ls),Ct(x,0,!0)!==0)break e;x.timeoutHandle=v2(xf.bind(null,x,d,It,Ds,hn,o,Rs,wr,bn,ls,C,2,-0,0),E);break e}xf(x,d,It,Ds,hn,o,Rs,wr,bn,ls,C,0,-0,0)}}break}while(!0);sl(s)}function xf(s,o,d,x,E,C,q,J,le,Ee,Ve,je,we,Re){if(s.timeoutHandle=-1,je=o.subtreeFlags,(je&8192||(je&16785408)===16785408)&&(wp={stylesheets:null,count:0,unsuspend:S4},_x(o),je=M4(),je!==null)){s.cancelPendingCommit=je(nt.bind(null,s,o,C,d,x,E,q,J,le,Ve,1,we,Re)),ar(s,C,q,!Ee);return}nt(s,o,C,d,x,E,q,J,le)}function tl(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var x=0;x<d.length;x++){var E=d[x],C=E.getSnapshot;E=E.value;try{if(!Ra(C(),E))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ar(s,o,d,x){o&=~Fl,o&=~wr,s.suspendedLanes|=o,s.pingedLanes&=~o,x&&(s.warmLanes|=o),x=s.expirationTimes;for(var E=o;0<E;){var C=31-mt(E),q=1<<C;x[C]=-1,E&=~q}d!==0&&qe(s,d,o)}function Ar(){return(Nn&6)===0?(yp(0),!1):!0}function Hl(){if(un!==null){if($t===0)var s=un.return;else s=un,Jr=Fo=null,ep(s),wl=null,cf=0,s=un;for(;s!==null;)qc(s.alternate,s),s=s.return;un=null}}function nl(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,s4(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Hl(),Yt=s,un=d=di(s.current,null),Lt=o,$t=0,ni=null,ls=!1,Yc=lt(s,o),Zc=!1,bn=Rs=Fl=wr=ir=Qn=0,It=Rn=null,hn=!1,(o&8)!==0&&(o|=o&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=o;0<x;){var E=31-mt(x),C=1<<E;o|=s[E],x&=~C}return Ns=o,ju(),d}function eh(s,o){Jt=null,k.H=lf,o===tf||o===Zs?(o=Zm(),$t=3):o===Ym?(o=Zm(),$t=4):$t=o===bx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ni=o,un===null&&(Qn=1,jd(s,ta(o,s.current)))}function Qc(){var s=k.H;return k.H=lf,s===null?lf:s}function th(){var s=k.A;return k.A=ri,s}function c(){Qn=4,ls||(Lt&4194048)!==Lt&&Bn.current!==null||(Yc=!0),(ir&134217727)===0&&(wr&134217727)===0||Yt===null||ar(Yt,Lt,Rs,!1)}function f(s,o,d){var x=Nn;Nn|=2;var E=Qc(),C=th();(Yt!==s||Lt!==o)&&(Ds=null,nl(s,o)),o=!1;var q=Qn;e:do try{if($t!==0&&un!==null){var J=un,le=ni;switch($t){case 8:Hl(),q=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(o=!0);var Ee=$t;if($t=0,ni=null,ue(s,J,le,Ee),d&&Yc){q=0;break e}break;default:Ee=$t,$t=0,ni=null,ue(s,J,le,Ee)}}y(),q=Qn;break}catch(Ve){eh(s,Ve)}while(!0);return o&&s.shellSuspendCounter++,Jr=Fo=null,Nn=x,k.H=E,k.A=C,un===null&&(Yt=null,Lt=0,ju()),q}function y(){for(;un!==null;)V(un)}function w(s,o){var d=Nn;Nn|=2;var x=Qc(),E=th();Yt!==s||Lt!==o?(Ds=null,fa=Te()+500,nl(s,o)):Yc=lt(s,o);e:do try{if($t!==0&&un!==null){o=un;var C=ni;t:switch($t){case 1:$t=0,ni=null,ue(s,o,C,1);break;case 2:case 9:if(Rd(C)){$t=0,ni=null,te(o);break}o=function(){$t!==2&&$t!==9||Yt!==s||($t=7),sl(s)},C.then(o,o);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Rd(C)?($t=0,ni=null,te(o)):($t=0,ni=null,ue(s,o,C,7));break;case 5:var q=null;switch(un.tag){case 26:q=un.memoizedState;case 5:case 27:var J=un;if(!q||R2(q)){$t=0,ni=null;var le=J.sibling;if(le!==null)un=le;else{var Ee=J.return;Ee!==null?(un=Ee,be(Ee)):un=null}break t}}$t=0,ni=null,ue(s,o,C,5);break;case 6:$t=0,ni=null,ue(s,o,C,6);break;case 8:Hl(),Qn=6;break e;default:throw Error(i(462))}}R();break}catch(Ve){eh(s,Ve)}while(!0);return Jr=Fo=null,k.H=x,k.A=E,Nn=d,un!==null?0:(Yt=null,Lt=0,ju(),Qn)}function R(){for(;un!==null&&!ie();)V(un)}function V(s){var o=Ol(s.alternate,s,Ns);s.memoizedProps=s.pendingProps,o===null?be(s):un=o}function te(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=ns(d,o,o.pendingProps,o.type,void 0,Lt);break;case 11:o=ns(d,o,o.pendingProps,o.type.render,o.ref,Lt);break;case 5:ep(o);default:qc(d,o),o=un=Hm(o,Ns),o=Ol(d,o,Ns)}s.memoizedProps=s.pendingProps,o===null?be(s):un=o}function ue(s,o,d,x){Jr=Fo=null,ep(o),wl=null,cf=0;var E=o.return;try{if(c_(s,E,o,d,Lt)){Qn=1,jd(s,ta(d,s.current)),un=null;return}}catch(C){if(E!==null)throw un=E,C;Qn=1,jd(s,ta(d,s.current)),un=null;return}o.flags&32768?(En||x===1?s=!0:Yc||(Lt&536870912)!==0?s=!1:(ls=s=!0,(x===2||x===9||x===3||x===6)&&(x=Bn.current,x!==null&&x.tag===13&&(x.flags|=16384))),Fe(o,s)):be(o)}function be(s){var o=s;do{if((o.flags&32768)!==0){Fe(o,ls);return}s=o.return;var d=gp(o.alternate,o,Ns);if(d!==null){un=d;return}if(o=o.sibling,o!==null){un=o;return}un=o=s}while(o!==null);Qn===0&&(Qn=5)}function Fe(s,o){do{var d=Gc(s.alternate,s);if(d!==null){d.flags&=32767,un=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){un=s;return}un=s=d}while(s!==null);Qn=6,un=null}function nt(s,o,d,x,E,C,q,J,le){s.cancelPendingCommit=null;do il();while(zi!==0);if((Nn&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(C=o.lanes|o.childLanes,C|=_d,Ke(s,d,C,q,J,le),s===Yt&&(un=Yt=null,Lt=0),Vn=o,da=s,us=d,uo=C,gf=E,fs=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Mn(Ze,function(){return al(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=k.T,k.T=null,E=z.p,z.p=2,q=Nn,Nn|=4;try{Pi(s,o,d)}finally{Nn=q,z.p=E,k.T=x}}zi=1,ft(),pt(),Zt()}}function ft(){if(zi===1){zi=0;var s=da,o=Vn,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=k.T,k.T=null;var x=z.p;z.p=2;var E=Nn;Nn|=4;try{Zd(o,s);var C=y_,q=Um(s.containerInfo),J=C.focusedElem,le=C.selectionRange;if(q!==J&&J&&J.ownerDocument&&Lm(J.ownerDocument.documentElement,J)){if(le!==null&&ku(J)){var Ee=le.start,Ve=le.end;if(Ve===void 0&&(Ve=Ee),"selectionStart"in J)J.selectionStart=Ee,J.selectionEnd=Math.min(Ve,J.value.length);else{var je=J.ownerDocument||document,we=je&&je.defaultView||window;if(we.getSelection){var Re=we.getSelection(),qt=J.textContent.length,Ft=Math.min(le.start,qt),Zn=le.end===void 0?Ft:Math.min(le.end,qt);!Re.extend&&Ft>Zn&&(q=Zn,Zn=Ft,Ft=q);var ve=Om(J,Ft),pe=Om(J,Zn);if(ve&&pe&&(Re.rangeCount!==1||Re.anchorNode!==ve.node||Re.anchorOffset!==ve.offset||Re.focusNode!==pe.node||Re.focusOffset!==pe.offset)){var Se=je.createRange();Se.setStart(ve.node,ve.offset),Re.removeAllRanges(),Ft>Zn?(Re.addRange(Se),Re.extend(pe.node,pe.offset)):(Se.setEnd(pe.node,pe.offset),Re.addRange(Se))}}}}for(je=[],Re=J;Re=Re.parentNode;)Re.nodeType===1&&je.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<je.length;J++){var ke=je[J];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Ox=!!v_,y_=v_=null}finally{Nn=E,z.p=x,k.T=d}}s.current=o,zi=2}}function pt(){if(zi===2){zi=0;var s=da,o=Vn,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=k.T,k.T=null;var x=z.p;z.p=2;var E=Nn;Nn|=4;try{lo(s,o.alternate,o)}finally{Nn=E,z.p=x,k.T=d}}zi=3}}function Zt(){if(zi===4||zi===3){zi=0,Be();var s=da,o=Vn,d=us,x=fs;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zi=5:(zi=0,Vn=da=null,ds(s,s.pendingLanes));var E=s.pendingLanes;if(E===0&&(cs=null),vn(d),o=o.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pe,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=k.T,E=z.p,z.p=2,k.T=null;try{for(var C=s.onRecoverableError,q=0;q<x.length;q++){var J=x[q];C(J.value,{componentStack:J.stack})}}finally{k.T=o,z.p=E}}(us&3)!==0&&il(),sl(s),E=s.pendingLanes,(d&4194090)!==0&&(E&42)!==0?s===Vl?Tr++:(Tr=0,Vl=s):Tr=0,yp(0)}}function ds(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Nc(o)))}function il(s){return ft(),pt(),Zt(),al()}function al(){if(zi!==5)return!1;var s=da,o=uo;uo=0;var d=vn(us),x=k.T,E=z.p;try{z.p=32>d?32:d,k.T=null,d=gf,gf=null;var C=da,q=us;if(zi=0,Vn=da=null,us=0,(Nn&6)!==0)throw Error(i(331));var J=Nn;if(Nn|=4,xp(C.current),Jd(C,C.current,q,d),Nn=J,yp(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pe,C)}catch{}return!0}finally{z.p=E,k.T=x,ds(s,o)}}function Me(s,o,d){o=ta(d,o),o=Xd(s.stateNode,o,2),s=to(s,o,2),s!==null&&(at(s,2),sl(s))}function he(s,o,d){if(s.tag===3)Me(s,s,d);else for(;o!==null;){if(o.tag===3){Me(o,s,d);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(cs===null||!cs.has(x))){s=ta(d,s),d=yx(2),x=to(o,d,2),x!==null&&(Wd(d,x,o,s),at(x,2),sl(x));break}}o=o.return}}function De(s,o,d){var x=s.pingCache;if(x===null){x=s.pingCache=new vp;var E=new Set;x.set(o,E)}else E=x.get(o),E===void 0&&(E=new Set,x.set(o,E));E.has(d)||(Zc=!0,E.add(d),s=$e.bind(null,s,o,d),o.then(s,s))}function $e(s,o,d){var x=s.pingCache;x!==null&&x.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Yt===s&&(Lt&d)===d&&(Qn===4||Qn===3&&(Lt&62914560)===Lt&&300>Te()-Pn?(Nn&2)===0&&nl(s,0):Fl|=d,bn===Lt&&(bn=0)),sl(s)}function Dt(s,o){o===0&&(o=ct()),s=Kr(s,o),s!==null&&(at(s,o),sl(s))}function Jn(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),Dt(s,d)}function kt(s,o){var d=0;switch(s.tag){case 13:var x=s.stateNode,E=s.memoizedState;E!==null&&(d=E.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(o),Dt(s,d)}function Mn(s,o){return tt(s,o)}var gi=null,dn=null,Cr=!1,nh=!1,u_=!1,vf=0;function sl(s){s!==dn&&s.next===null&&(dn===null?gi=dn=s:dn=dn.next=s),nh=!0,Cr||(Cr=!0,KO())}function yp(s,o){if(!u_&&nh){u_=!0;do for(var d=!1,x=gi;x!==null;){if(s!==0){var E=x.pendingLanes;if(E===0)var C=0;else{var q=x.suspendedLanes,J=x.pingedLanes;C=(1<<31-mt(42|s)+1)-1,C&=E&~(q&~J),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(d=!0,l2(x,C))}else C=Lt,C=Ct(x,x===Yt?C:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(C&3)===0||lt(x,C)||(d=!0,l2(x,C));x=x.next}while(d);u_=!1}}function ZO(){s2()}function s2(){nh=Cr=!1;var s=0;vf!==0&&(a4()&&(s=vf),vf=0);for(var o=Te(),d=null,x=gi;x!==null;){var E=x.next,C=r2(x,o);C===0?(x.next=null,d===null?gi=E:d.next=E,E===null&&(dn=d)):(d=x,(s!==0||(C&3)!==0)&&(nh=!0)),x=E}yp(s)}function r2(s,o){for(var d=s.suspendedLanes,x=s.pingedLanes,E=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var q=31-mt(C),J=1<<q,le=E[q];le===-1?((J&d)===0||(J&x)!==0)&&(E[q]=Ut(J,o)):le<=o&&(s.expiredLanes|=J),C&=~J}if(o=Yt,d=Lt,d=Ct(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,d===0||s===o&&($t===2||$t===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Ae(x),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||lt(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(x!==null&&Ae(x),vn(d)){case 2:case 8:d=Qe;break;case 32:d=Ze;break;case 268435456:d=se;break;default:d=Ze}return x=o2.bind(null,s),d=tt(d,x),s.callbackPriority=o,s.callbackNode=d,o}return x!==null&&x!==null&&Ae(x),s.callbackPriority=2,s.callbackNode=null,2}function o2(s,o){if(zi!==0&&zi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(il()&&s.callbackNode!==d)return null;var x=Lt;return x=Ct(s,s===Yt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(Kc(s,x,o),r2(s,Te()),s.callbackNode!=null&&s.callbackNode===d?o2.bind(null,s):null)}function l2(s,o){if(il())return null;Kc(s,o,!0)}function KO(){r4(function(){(Nn&6)!==0?tt(He,ZO):s2()})}function f_(){return vf===0&&(vf=de()),vf}function c2(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Nu(""+s)}function u2(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function QO(s,o,d,x,E){if(o==="submit"&&d&&d.stateNode===E){var C=c2((E[Di]||null).action),q=x.submitter;q&&(o=(o=q[Di]||null)?c2(o.formAction):q.getAttribute("formAction"),o!==null&&(C=o,q=null));var J=new gc("action","action",null,x,E);s.push({event:J,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(vf!==0){var le=q?u2(E,q):new FormData(E);dp(d,{pending:!0,data:le,method:E.method,action:C},null,le)}}else typeof C=="function"&&(J.preventDefault(),le=q?u2(E,q):new FormData(E),dp(d,{pending:!0,data:le,method:E.method,action:C},C,le))},currentTarget:E}]})}}for(var d_=0;d_<qu.length;d_++){var h_=qu[d_],JO=h_.toLowerCase(),$O=h_[0].toUpperCase()+h_.slice(1);Gi(JO,"on"+$O)}Gi(va,"onAnimationEnd"),Gi(Bm,"onAnimationIteration"),Gi(Oa,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Dg,"onTransitionRun"),Gi(Yr,"onTransitionStart"),Gi(Mc,"onTransitionCancel"),Gi(Zr,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bp));function f2(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var x=s[d],E=x.event;x=x.listeners;e:{var C=void 0;if(o)for(var q=x.length-1;0<=q;q--){var J=x[q],le=J.instance,Ee=J.currentTarget;if(J=J.listener,le!==C&&E.isPropagationStopped())break e;C=J,E.currentTarget=Ee;try{C(E)}catch(Ve){Al(Ve)}E.currentTarget=null,C=le}else for(q=0;q<x.length;q++){if(J=x[q],le=J.instance,Ee=J.currentTarget,J=J.listener,le!==C&&E.isPropagationStopped())break e;C=J,E.currentTarget=Ee;try{C(E)}catch(Ve){Al(Ve)}E.currentTarget=null,C=le}}}}function pn(s,o){var d=o[Hi];d===void 0&&(d=o[Hi]=new Set);var x=s+"__bubble";d.has(x)||(d2(o,s,2,!1),d.add(x))}function m_(s,o,d){var x=0;o&&(x|=4),d2(d,s,x,o)}var Ex="_reactListening"+Math.random().toString(36).slice(2);function p_(s){if(!s[Ex]){s[Ex]=!0,uc.forEach(function(d){d!=="selectionchange"&&(e4.has(d)||m_(d,!1,s),m_(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ex]||(o[Ex]=!0,m_("selectionchange",!1,o))}}function d2(s,o,d,x){switch(z2(o)){case 2:var E=A4;break;case 8:E=C4;break;default:E=N_}d=E.bind(null,o,d,s),E=void 0,!Du||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(E=!0),x?E!==void 0?s.addEventListener(o,d,{capture:!0,passive:E}):s.addEventListener(o,d,!0):E!==void 0?s.addEventListener(o,d,{passive:E}):s.addEventListener(o,d,!1)}function g_(s,o,d,x,E){var C=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var q=x.tag;if(q===3||q===4){var J=x.stateNode.containerInfo;if(J===E)break;if(q===4)for(q=x.return;q!==null;){var le=q.tag;if((le===3||le===4)&&q.stateNode.containerInfo===E)return;q=q.return}for(;J!==null;){if(q=Ka(J),q===null)return;if(le=q.tag,le===5||le===6||le===26||le===27){x=C=q;continue e}J=J.parentNode}}x=x.return}bm(function(){var Ee=C,Ve=ld(d),je=[];e:{var we=bd.get(s);if(we!==void 0){var Re=gc,qt=s;switch(s){case"keypress":if(Ao(d)===0)break e;case"keydown":case"keyup":Re=wm;break;case"focusin":qt="focus",Re=ud;break;case"focusout":qt="blur",Re=ud;break;case"beforeblur":case"afterblur":Re=ud;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Jb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Am;break;case va:case Bm:case Oa:Re=gg;break;case Zr:Re=qr;break;case"scroll":case"scrollend":Re=hg;break;case"wheel":Re=$b;break;case"copy":case"cut":case"paste":Re=vg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=dd;break;case"toggle":case"beforetoggle":Re=No}var Ft=(o&4)!==0,Zn=!Ft&&(s==="scroll"||s==="scrollend"),ve=Ft?we!==null?we+"Capture":null:we;Ft=[];for(var pe=Ee,Se;pe!==null;){var ke=pe;if(Se=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||Se===null||ve===null||(ke=hc(pe,ve),ke!=null&&Ft.push(_p(pe,ke,Se))),Zn)break;pe=pe.return}0<Ft.length&&(we=new Re(we,qt,null,d,Ve),je.push({event:we,listeners:Ft}))}}if((o&7)===0){e:{if(we=s==="mouseover"||s==="pointerover",Re=s==="mouseout"||s==="pointerout",we&&d!==od&&(qt=d.relatedTarget||d.fromElement)&&(Ka(qt)||qt[Gs]))break e;if((Re||we)&&(we=Ve.window===Ve?Ve:(we=Ve.ownerDocument)?we.defaultView||we.parentWindow:window,Re?(qt=d.relatedTarget||d.toElement,Re=Ee,qt=qt?Ka(qt):null,qt!==null&&(Zn=r(qt),Ft=qt.tag,qt!==Zn||Ft!==5&&Ft!==27&&Ft!==6)&&(qt=null)):(Re=null,qt=Ee),Re!==qt)){if(Ft=Em,ke="onMouseLeave",ve="onMouseEnter",pe="mouse",(s==="pointerout"||s==="pointerover")&&(Ft=dd,ke="onPointerLeave",ve="onPointerEnter",pe="pointer"),Zn=Re==null?we:Fr(Re),Se=qt==null?we:Fr(qt),we=new Ft(ke,pe+"leave",Re,d,Ve),we.target=Zn,we.relatedTarget=Se,ke=null,Ka(Ve)===Ee&&(Ft=new Ft(ve,pe+"enter",qt,d,Ve),Ft.target=Se,Ft.relatedTarget=Zn,ke=Ft),Zn=ke,Re&&qt)t:{for(Ft=Re,ve=qt,pe=0,Se=Ft;Se;Se=ih(Se))pe++;for(Se=0,ke=ve;ke;ke=ih(ke))Se++;for(;0<pe-Se;)Ft=ih(Ft),pe--;for(;0<Se-pe;)ve=ih(ve),Se--;for(;pe--;){if(Ft===ve||ve!==null&&Ft===ve.alternate)break t;Ft=ih(Ft),ve=ih(ve)}Ft=null}else Ft=null;Re!==null&&h2(je,we,Re,Ft,!1),qt!==null&&Zn!==null&&h2(je,Zn,qt,Ft,!0)}}e:{if(we=Ee?Fr(Ee):window,Re=we.nodeName&&we.nodeName.toLowerCase(),Re==="select"||Re==="input"&&we.type==="file")var Et=md;else if(Dm(we))if(pd)Et=Oo;else{Et=Cg;var mn=e_}else Re=we.nodeName,!Re||Re.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?Ee&&rd(Ee.elementType)&&(Et=md):Et=Hu;if(Et&&(Et=Et(s,Ee))){Na(je,Et,d,Ve);break e}mn&&mn(s,we,Ee),s==="focusout"&&Ee&&we.type==="number"&&Ee.memoizedProps.value!=null&&Un(we,"number",we.value)}switch(mn=Ee?Fr(Ee):window,s){case"focusin":(Dm(mn)||mn.contentEditable==="true")&&(Xr=mn,xd=Ee,Gu=null);break;case"focusout":Gu=xd=Xr=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,zm(je,d,Ve);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":zm(je,d,Ve)}var Ot;if(Pu)e:{switch(s){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Do?Iu(s,d)&&(Vt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Vt="onCompositionStart");Vt&&(Bu&&d.locale!=="ko"&&(Do||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Do&&(Ot=Sm()):(kr=Ve,_m="value"in kr?kr.value:kr.textContent,Do=!0)),mn=Mx(Ee,Vt),0<mn.length&&(Vt=new fd(Vt,s,null,d,Ve),je.push({event:Vt,listeners:mn}),Ot?Vt.data=Ot:(Ot=Nm(d),Ot!==null&&(Vt.data=Ot)))),(Ot=zu?Fu(s,d):Rm(s,d))&&(Vt=Mx(Ee,"onBeforeInput"),0<Vt.length&&(mn=new fd("onBeforeInput","beforeinput",null,d,Ve),je.push({event:mn,listeners:Vt}),mn.data=Ot)),QO(je,s,Ee,d,Ve)}f2(je,o)})}function _p(s,o,d){return{instance:s,listener:o,currentTarget:d}}function Mx(s,o){for(var d=o+"Capture",x=[];s!==null;){var E=s,C=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||C===null||(E=hc(s,d),E!=null&&x.unshift(_p(s,E,C)),E=hc(s,o),E!=null&&x.push(_p(s,E,C))),s.tag===3)return x;s=s.return}return[]}function ih(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function h2(s,o,d,x,E){for(var C=o._reactName,q=[];d!==null&&d!==x;){var J=d,le=J.alternate,Ee=J.stateNode;if(J=J.tag,le!==null&&le===x)break;J!==5&&J!==26&&J!==27||Ee===null||(le=Ee,E?(Ee=hc(d,C),Ee!=null&&q.unshift(_p(d,Ee,le))):E||(Ee=hc(d,C),Ee!=null&&q.push(_p(d,Ee,le)))),d=d.return}q.length!==0&&s.push({event:o,listeners:q})}var t4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function m2(s){return(typeof s=="string"?s:""+s).replace(t4,`
`).replace(n4,"")}function p2(s,o){return o=m2(o),m2(s)===o}function wx(){}function Yn(s,o,d,x,E,C){switch(d){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||qn(s,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&qn(s,""+x);break;case"className":et(s,"class",x);break;case"tabIndex":et(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":et(s,d,x);break;case"style":Cu(s,x,C);break;case"data":if(o!=="object"){et(s,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(d);break}x=Nu(""+x),s.setAttribute(d,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(o!=="input"&&Yn(s,o,"name",E.name,E,null),Yn(s,o,"formEncType",E.formEncType,E,null),Yn(s,o,"formMethod",E.formMethod,E,null),Yn(s,o,"formTarget",E.formTarget,E,null)):(Yn(s,o,"encType",E.encType,E,null),Yn(s,o,"method",E.method,E,null),Yn(s,o,"target",E.target,E,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(d);break}x=Nu(""+x),s.setAttribute(d,x);break;case"onClick":x!=null&&(s.onclick=wx);break;case"onScroll":x!=null&&pn("scroll",s);break;case"onScrollEnd":x!=null&&pn("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(d=x.__html,d!=null){if(E.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}d=Nu(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(d,""+x):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":x===!0?s.setAttribute(d,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(d,x):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(d,x):s.removeAttribute(d);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(d):s.setAttribute(d,x);break;case"popover":pn("beforetoggle",s),pn("toggle",s),ge(s,"popover",x);break;case"xlinkActuate":st(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":st(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":st(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":st(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":st(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":st(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":st(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":st(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":st(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ge(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=vm.get(d)||d,ge(s,d,x))}}function x_(s,o,d,x,E,C){switch(d){case"style":Cu(s,x,C);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(d=x.__html,d!=null){if(E.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"children":typeof x=="string"?qn(s,x):(typeof x=="number"||typeof x=="bigint")&&qn(s,""+x);break;case"onScroll":x!=null&&pn("scroll",s);break;case"onScrollEnd":x!=null&&pn("scrollend",s);break;case"onClick":x!=null&&(s.onclick=wx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),o=d.slice(2,E?d.length-7:void 0),C=s[Di]||null,C=C!=null?C[d]:null,typeof C=="function"&&s.removeEventListener(o,C,E),typeof x=="function")){typeof C!="function"&&C!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,x,E);break e}d in s?s[d]=x:x===!0?s.setAttribute(d,""):ge(s,d,x)}}}function wa(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",s),pn("load",s);var x=!1,E=!1,C;for(C in d)if(d.hasOwnProperty(C)){var q=d[C];if(q!=null)switch(C){case"src":x=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Yn(s,o,C,q,d,null)}}E&&Yn(s,o,"srcSet",d.srcSet,d,null),x&&Yn(s,o,"src",d.src,d,null);return;case"input":pn("invalid",s);var J=C=q=E=null,le=null,Ee=null;for(x in d)if(d.hasOwnProperty(x)){var Ve=d[x];if(Ve!=null)switch(x){case"name":E=Ve;break;case"type":q=Ve;break;case"checked":le=Ve;break;case"defaultChecked":Ee=Ve;break;case"value":C=Ve;break;case"defaultValue":J=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,o));break;default:Yn(s,o,x,Ve,d,null)}}Hr(s,C,J,le,Ee,q,E,!1),Rt(s);return;case"select":pn("invalid",s),x=q=C=null;for(E in d)if(d.hasOwnProperty(E)&&(J=d[E],J!=null))switch(E){case"value":C=J;break;case"defaultValue":q=J;break;case"multiple":x=J;default:Yn(s,o,E,J,d,null)}o=C,d=q,s.multiple=!!x,o!=null?ii(s,!!x,o,!1):d!=null&&ii(s,!!x,d,!0);return;case"textarea":pn("invalid",s),C=E=x=null;for(q in d)if(d.hasOwnProperty(q)&&(J=d[q],J!=null))switch(q){case"value":x=J;break;case"defaultValue":E=J;break;case"children":C=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(91));break;default:Yn(s,o,q,J,d,null)}Oi(s,x,E,C),Rt(s);return;case"option":for(le in d)if(d.hasOwnProperty(le)&&(x=d[le],x!=null))switch(le){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Yn(s,o,le,x,d,null)}return;case"dialog":pn("beforetoggle",s),pn("toggle",s),pn("cancel",s),pn("close",s);break;case"iframe":case"object":pn("load",s);break;case"video":case"audio":for(x=0;x<bp.length;x++)pn(bp[x],s);break;case"image":pn("error",s),pn("load",s);break;case"details":pn("toggle",s);break;case"embed":case"source":case"link":pn("error",s),pn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in d)if(d.hasOwnProperty(Ee)&&(x=d[Ee],x!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Yn(s,o,Ee,x,d,null)}return;default:if(rd(o)){for(Ve in d)d.hasOwnProperty(Ve)&&(x=d[Ve],x!==void 0&&x_(s,o,Ve,x,d,void 0));return}}for(J in d)d.hasOwnProperty(J)&&(x=d[J],x!=null&&Yn(s,o,J,x,d,null))}function i4(s,o,d,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,C=null,q=null,J=null,le=null,Ee=null,Ve=null;for(Re in d){var je=d[Re];if(d.hasOwnProperty(Re)&&je!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":le=je;default:x.hasOwnProperty(Re)||Yn(s,o,Re,null,x,je)}}for(var we in x){var Re=x[we];if(je=d[we],x.hasOwnProperty(we)&&(Re!=null||je!=null))switch(we){case"type":C=Re;break;case"name":E=Re;break;case"checked":Ee=Re;break;case"defaultChecked":Ve=Re;break;case"value":q=Re;break;case"defaultValue":J=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,o));break;default:Re!==je&&Yn(s,o,we,Re,x,je)}}ki(s,q,J,le,Ee,Ve,C,E);return;case"select":Re=q=J=we=null;for(C in d)if(le=d[C],d.hasOwnProperty(C)&&le!=null)switch(C){case"value":break;case"multiple":Re=le;default:x.hasOwnProperty(C)||Yn(s,o,C,null,x,le)}for(E in x)if(C=x[E],le=d[E],x.hasOwnProperty(E)&&(C!=null||le!=null))switch(E){case"value":we=C;break;case"defaultValue":J=C;break;case"multiple":q=C;default:C!==le&&Yn(s,o,E,C,x,le)}o=J,d=q,x=Re,we!=null?ii(s,!!d,we,!1):!!x!=!!d&&(o!=null?ii(s,!!d,o,!0):ii(s,!!d,d?[]:"",!1));return;case"textarea":Re=we=null;for(J in d)if(E=d[J],d.hasOwnProperty(J)&&E!=null&&!x.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Yn(s,o,J,null,x,E)}for(q in x)if(E=x[q],C=d[q],x.hasOwnProperty(q)&&(E!=null||C!=null))switch(q){case"value":we=E;break;case"defaultValue":Re=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==C&&Yn(s,o,q,E,x,C)}ga(s,we,Re);return;case"option":for(var qt in d)if(we=d[qt],d.hasOwnProperty(qt)&&we!=null&&!x.hasOwnProperty(qt))switch(qt){case"selected":s.selected=!1;break;default:Yn(s,o,qt,null,x,we)}for(le in x)if(we=x[le],Re=d[le],x.hasOwnProperty(le)&&we!==Re&&(we!=null||Re!=null))switch(le){case"selected":s.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:Yn(s,o,le,we,x,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in d)we=d[Ft],d.hasOwnProperty(Ft)&&we!=null&&!x.hasOwnProperty(Ft)&&Yn(s,o,Ft,null,x,we);for(Ee in x)if(we=x[Ee],Re=d[Ee],x.hasOwnProperty(Ee)&&we!==Re&&(we!=null||Re!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,o));break;default:Yn(s,o,Ee,we,x,Re)}return;default:if(rd(o)){for(var Zn in d)we=d[Zn],d.hasOwnProperty(Zn)&&we!==void 0&&!x.hasOwnProperty(Zn)&&x_(s,o,Zn,void 0,x,we);for(Ve in x)we=x[Ve],Re=d[Ve],!x.hasOwnProperty(Ve)||we===Re||we===void 0&&Re===void 0||x_(s,o,Ve,we,x,Re);return}}for(var ve in d)we=d[ve],d.hasOwnProperty(ve)&&we!=null&&!x.hasOwnProperty(ve)&&Yn(s,o,ve,null,x,we);for(je in x)we=x[je],Re=d[je],!x.hasOwnProperty(je)||we===Re||we==null&&Re==null||Yn(s,o,je,we,x,Re)}var v_=null,y_=null;function Tx(s){return s.nodeType===9?s:s.ownerDocument}function g2(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x2(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function b_(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var __=null;function a4(){var s=window.event;return s&&s.type==="popstate"?s===__?!1:(__=s,!0):(__=null,!1)}var v2=typeof setTimeout=="function"?setTimeout:void 0,s4=typeof clearTimeout=="function"?clearTimeout:void 0,y2=typeof Promise=="function"?Promise:void 0,r4=typeof queueMicrotask=="function"?queueMicrotask:typeof y2<"u"?function(s){return y2.resolve(null).then(s).catch(o4)}:v2;function o4(s){setTimeout(function(){throw s})}function Jc(s){return s==="head"}function b2(s,o){var d=o,x=0,E=0;do{var C=d.nextSibling;if(s.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"){if(0<x&&8>x){d=x;var q=s.ownerDocument;if(d&1&&Sp(q.documentElement),d&2&&Sp(q.body),d&4)for(d=q.head,Sp(d),q=d.firstChild;q;){var J=q.nextSibling,le=q.nodeName;q[Za]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&q.rel.toLowerCase()==="stylesheet"||d.removeChild(q),q=J}}if(E===0){s.removeChild(C),Rp(o);return}E--}else d==="$"||d==="$?"||d==="$!"?E++:x=d.charCodeAt(0)-48;else x=0;d=C}while(d);Rp(o)}function S_(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":S_(d),kn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function l4(s,o,d,x){for(;s.nodeType===1;){var E=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[Za])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==E.rel||s.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||s.getAttribute("title")!==(E.title==null?null:E.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(E.src==null?null:E.src)||s.getAttribute("type")!==(E.type==null?null:E.type)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var C=E.name==null?null:""+E.name;if(E.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=fo(s.nextSibling),s===null)break}return null}function c4(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=fo(s.nextSibling),s===null))return null;return s}function E_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function u4(s,o){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")o();else{var x=function(){o(),d.removeEventListener("DOMContentLoaded",x)};d.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function fo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var M_=null;function _2(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}function S2(s,o,d){switch(o=Tx(d),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Sp(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);kn(s)}var Nr=new Map,E2=new Set;function Ax(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var kl=z.d;z.d={f:f4,r:d4,D:h4,C:m4,L:p4,m:g4,X:v4,S:x4,M:y4};function f4(){var s=kl.f(),o=Ar();return s||o}function d4(s){var o=js(s);o!==null&&o.tag===5&&o.type==="form"?rx(o):kl.r(s)}var ah=typeof document>"u"?null:document;function M2(s,o,d){var x=ah;if(x&&typeof o=="string"&&o){var E=_i(o);E='link[rel="'+s+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),E2.has(E)||(E2.add(E),s={rel:s,crossOrigin:d,href:o},x.querySelector(E)===null&&(o=x.createElement("link"),wa(o,"link",s),bi(o),x.head.appendChild(o)))}}function h4(s){kl.D(s),M2("dns-prefetch",s,null)}function m4(s,o){kl.C(s,o),M2("preconnect",s,o)}function p4(s,o,d){kl.L(s,o,d);var x=ah;if(x&&s&&o){var E='link[rel="preload"][as="'+_i(o)+'"]';o==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+_i(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+_i(d.imageSizes)+'"]')):E+='[href="'+_i(s)+'"]';var C=E;switch(o){case"style":C=sh(s);break;case"script":C=rh(s)}Nr.has(C)||(s=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),Nr.set(C,s),x.querySelector(E)!==null||o==="style"&&x.querySelector(Ep(C))||o==="script"&&x.querySelector(Mp(C))||(o=x.createElement("link"),wa(o,"link",s),bi(o),x.head.appendChild(o)))}}function g4(s,o){kl.m(s,o);var d=ah;if(d&&s){var x=o&&typeof o.as=="string"?o.as:"script",E='link[rel="modulepreload"][as="'+_i(x)+'"][href="'+_i(s)+'"]',C=E;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=rh(s)}if(!Nr.has(C)&&(s=g({rel:"modulepreload",href:s},o),Nr.set(C,s),d.querySelector(E)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Mp(C)))return}x=d.createElement("link"),wa(x,"link",s),bi(x),d.head.appendChild(x)}}}function x4(s,o,d){kl.S(s,o,d);var x=ah;if(x&&s){var E=Vr(x).hoistableStyles,C=sh(s);o=o||"default";var q=E.get(C);if(!q){var J={loading:0,preload:null};if(q=x.querySelector(Ep(C)))J.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},d),(d=Nr.get(C))&&w_(s,d);var le=q=x.createElement("link");bi(le),wa(le,"link",s),le._p=new Promise(function(Ee,Ve){le.onload=Ee,le.onerror=Ve}),le.addEventListener("load",function(){J.loading|=1}),le.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Cx(q,o,x)}q={type:"stylesheet",instance:q,count:1,state:J},E.set(C,q)}}}function v4(s,o){kl.X(s,o);var d=ah;if(d&&s){var x=Vr(d).hoistableScripts,E=rh(s),C=x.get(E);C||(C=d.querySelector(Mp(E)),C||(s=g({src:s,async:!0},o),(o=Nr.get(E))&&T_(s,o),C=d.createElement("script"),bi(C),wa(C,"link",s),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(E,C))}}function y4(s,o){kl.M(s,o);var d=ah;if(d&&s){var x=Vr(d).hoistableScripts,E=rh(s),C=x.get(E);C||(C=d.querySelector(Mp(E)),C||(s=g({src:s,async:!0,type:"module"},o),(o=Nr.get(E))&&T_(s,o),C=d.createElement("script"),bi(C),wa(C,"link",s),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(E,C))}}function w2(s,o,d,x){var E=(E=oe.current)?Ax(E):null;if(!E)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=sh(d.href),d=Vr(E).hoistableStyles,x=d.get(o),x||(x={type:"style",instance:null,count:0,state:null},d.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=sh(d.href);var C=Vr(E).hoistableStyles,q=C.get(s);if(q||(E=E.ownerDocument||E,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,q),(C=E.querySelector(Ep(s)))&&!C._p&&(q.instance=C,q.state.loading=5),Nr.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Nr.set(s,d),C||b4(E,s,d,q.state))),o&&x===null)throw Error(i(528,""));return q}if(o&&x!==null)throw Error(i(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rh(d),d=Vr(E).hoistableScripts,x=d.get(o),x||(x={type:"script",instance:null,count:0,state:null},d.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function sh(s){return'href="'+_i(s)+'"'}function Ep(s){return'link[rel="stylesheet"]['+s+"]"}function T2(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function b4(s,o,d,x){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=s.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),wa(o,"link",d),bi(o),s.head.appendChild(o))}function rh(s){return'[src="'+_i(s)+'"]'}function Mp(s){return"script[async]"+s}function A2(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var x=s.querySelector('style[data-href~="'+_i(d.href)+'"]');if(x)return o.instance=x,bi(x),x;var E=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),bi(x),wa(x,"style",E),Cx(x,d.precedence,s),o.instance=x;case"stylesheet":E=sh(d.href);var C=s.querySelector(Ep(E));if(C)return o.state.loading|=4,o.instance=C,bi(C),C;x=T2(d),(E=Nr.get(E))&&w_(x,E),C=(s.ownerDocument||s).createElement("link"),bi(C);var q=C;return q._p=new Promise(function(J,le){q.onload=J,q.onerror=le}),wa(C,"link",x),o.state.loading|=4,Cx(C,d.precedence,s),o.instance=C;case"script":return C=rh(d.src),(E=s.querySelector(Mp(C)))?(o.instance=E,bi(E),E):(x=d,(E=Nr.get(C))&&(x=g({},d),T_(x,E)),s=s.ownerDocument||s,E=s.createElement("script"),bi(E),wa(E,"link",x),s.head.appendChild(E),o.instance=E);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,Cx(x,d.precedence,s));return o.instance}function Cx(s,o,d){for(var x=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=x.length?x[x.length-1]:null,C=E,q=0;q<x.length;q++){var J=x[q];if(J.dataset.precedence===o)C=J;else if(C!==E)break}C?C.parentNode.insertBefore(s,C.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function w_(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function T_(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Nx=null;function C2(s,o,d){if(Nx===null){var x=new Map,E=Nx=new Map;E.set(d,x)}else E=Nx,x=E.get(d),x||(x=new Map,E.set(d,x));if(x.has(s))return x;for(x.set(s,null),d=d.getElementsByTagName(s),E=0;E<d.length;E++){var C=d[E];if(!(C[Za]||C[Ri]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var q=C.getAttribute(o)||"";q=s+q;var J=x.get(q);J?J.push(C):x.set(q,[C])}}return x}function N2(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function _4(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function R2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var wp=null;function S4(){}function E4(s,o,d){if(wp===null)throw Error(i(475));var x=wp;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var E=sh(d.href),C=s.querySelector(Ep(E));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(x.count++,x=Rx.bind(x),s.then(x,x)),o.state.loading|=4,o.instance=C,bi(C);return}C=s.ownerDocument||s,d=T2(d),(E=Nr.get(E))&&w_(d,E),C=C.createElement("link"),bi(C);var q=C;q._p=new Promise(function(J,le){q.onload=J,q.onerror=le}),wa(C,"link",d),o.instance=C}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(x.count++,o=Rx.bind(x),s.addEventListener("load",o),s.addEventListener("error",o))}}function M4(){if(wp===null)throw Error(i(475));var s=wp;return s.stylesheets&&s.count===0&&A_(s,s.stylesheets),0<s.count?function(o){var d=setTimeout(function(){if(s.stylesheets&&A_(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d)}}:null}function Rx(){if(this.count--,this.count===0){if(this.stylesheets)A_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Dx=null;function A_(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Dx=new Map,o.forEach(w4,s),Dx=null,Rx.call(s))}function w4(s,o){if(!(o.state.loading&4)){var d=Dx.get(s);if(d)var x=d.get(null);else{d=new Map,Dx.set(s,d);for(var E=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<E.length;C++){var q=E[C];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(d.set(q.dataset.precedence,q),x=q)}x&&d.set(null,x)}E=o.instance,q=E.getAttribute("data-precedence"),C=d.get(q)||x,C===x&&d.set(null,E),d.set(q,E),this.count++,x=Rx.bind(this),E.addEventListener("load",x),E.addEventListener("error",x),C?C.parentNode.insertBefore(E,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(E,s.firstChild)),o.state.loading|=4}}var Tp={$$typeof:O,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function T4(s,o,d,x,E,C,q,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=x,this.onUncaughtError=E,this.onCaughtError=C,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function D2(s,o,d,x,E,C,q,J,le,Ee,Ve,je){return s=new T4(s,o,d,q,J,le,Ee,je),o=1,C===!0&&(o|=24),C=La(3,null,null,o),s.current=C,C.stateNode=s,o=Ad(),o.refCount++,s.pooledCache=o,o.refCount++,C.memoizedState={element:x,isDehydrated:d,cache:o},Km(C),s}function O2(s){return s?(s=Po,s):Po}function L2(s,o,d,x,E,C){E=O2(E),x.context===null?x.context=E:x.pendingContext=E,x=gr(o),x.payload={element:d},C=C===void 0?null:C,C!==null&&(x.callback=C),d=to(s,x,o),d!==null&&(Ma(d,s,o),Ml(d,s,o))}function U2(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function C_(s,o){U2(s,o),(s=s.alternate)&&U2(s,o)}function P2(s){if(s.tag===13){var o=Kr(s,67108864);o!==null&&Ma(o,s,67108864),C_(s,67108864)}}var Ox=!0;function A4(s,o,d,x){var E=k.T;k.T=null;var C=z.p;try{z.p=2,N_(s,o,d,x)}finally{z.p=C,k.T=E}}function C4(s,o,d,x){var E=k.T;k.T=null;var C=z.p;try{z.p=8,N_(s,o,d,x)}finally{z.p=C,k.T=E}}function N_(s,o,d,x){if(Ox){var E=R_(x);if(E===null)g_(s,o,x,Lx,d),B2(s,x);else if(R4(E,s,o,d,x))x.stopPropagation();else if(B2(s,x),o&4&&-1<N4.indexOf(s)){for(;E!==null;){var C=js(E);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var q=wt(C.pendingLanes);if(q!==0){var J=C;for(J.pendingLanes|=2,J.entangledLanes|=2;q;){var le=1<<31-mt(q);J.entanglements[1]|=le,q&=~le}sl(C),(Nn&6)===0&&(fa=Te()+500,yp(0))}}break;case 13:J=Kr(C,2),J!==null&&Ma(J,C,2),Ar(),C_(C,2)}if(C=R_(x),C===null&&g_(s,o,x,Lx,d),C===E)break;E=C}E!==null&&x.stopPropagation()}else g_(s,o,x,null,d)}}function R_(s){return s=ld(s),D_(s)}var Lx=null;function D_(s){if(Lx=null,s=Ka(s),s!==null){var o=r(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=l(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Lx=s,null}function z2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case He:return 2;case Qe:return 8;case Ze:case ut:return 32;case se:return 268435456;default:return 32}default:return 32}}var O_=!1,$c=null,eu=null,tu=null,Ap=new Map,Cp=new Map,nu=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B2(s,o){switch(s){case"focusin":case"focusout":$c=null;break;case"dragenter":case"dragleave":eu=null;break;case"mouseover":case"mouseout":tu=null;break;case"pointerover":case"pointerout":Ap.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(o.pointerId)}}function Np(s,o,d,x,E,C){return s===null||s.nativeEvent!==C?(s={blockedOn:o,domEventName:d,eventSystemFlags:x,nativeEvent:C,targetContainers:[E]},o!==null&&(o=js(o),o!==null&&P2(o)),s):(s.eventSystemFlags|=x,o=s.targetContainers,E!==null&&o.indexOf(E)===-1&&o.push(E),s)}function R4(s,o,d,x,E){switch(o){case"focusin":return $c=Np($c,s,o,d,x,E),!0;case"dragenter":return eu=Np(eu,s,o,d,x,E),!0;case"mouseover":return tu=Np(tu,s,o,d,x,E),!0;case"pointerover":var C=E.pointerId;return Ap.set(C,Np(Ap.get(C)||null,s,o,d,x,E)),!0;case"gotpointercapture":return C=E.pointerId,Cp.set(C,Np(Cp.get(C)||null,s,o,d,x,E)),!0}return!1}function I2(s){var o=Ka(s.target);if(o!==null){var d=r(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){s.blockedOn=o,Wa(s.priority,function(){if(d.tag===13){var x=oi();x=zt(x);var E=Kr(d,x);E!==null&&Ma(E,d,x),C_(d,x)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ux(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=R_(s.nativeEvent);if(d===null){d=s.nativeEvent;var x=new d.constructor(d.type,d);od=x,d.target.dispatchEvent(x),od=null}else return o=js(d),o!==null&&P2(o),s.blockedOn=d,!1;o.shift()}return!0}function F2(s,o,d){Ux(s)&&d.delete(o)}function D4(){O_=!1,$c!==null&&Ux($c)&&($c=null),eu!==null&&Ux(eu)&&(eu=null),tu!==null&&Ux(tu)&&(tu=null),Ap.forEach(F2),Cp.forEach(F2)}function Px(s,o){s.blockedOn===o&&(s.blockedOn=null,O_||(O_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,D4)))}var zx=null;function V2(s){zx!==s&&(zx=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zx===s&&(zx=null);for(var o=0;o<s.length;o+=3){var d=s[o],x=s[o+1],E=s[o+2];if(typeof x!="function"){if(D_(x||d)===null)continue;break}var C=js(d);C!==null&&(s.splice(o,3),o-=3,dp(C,{pending:!0,data:E,method:d.method,action:x},x,E))}}))}function Rp(s){function o(le){return Px(le,s)}$c!==null&&Px($c,s),eu!==null&&Px(eu,s),tu!==null&&Px(tu,s),Ap.forEach(o),Cp.forEach(o);for(var d=0;d<nu.length;d++){var x=nu[d];x.blockedOn===s&&(x.blockedOn=null)}for(;0<nu.length&&(d=nu[0],d.blockedOn===null);)I2(d),d.blockedOn===null&&nu.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(x=0;x<d.length;x+=3){var E=d[x],C=d[x+1],q=E[Di]||null;if(typeof C=="function")q||V2(d);else if(q){var J=null;if(C&&C.hasAttribute("formAction")){if(E=C,q=C[Di]||null)J=q.formAction;else if(D_(E)!==null)continue}else J=q.action;typeof J=="function"?d[x+1]=J:(d.splice(x,3),x-=3),V2(d)}}}function L_(s){this._internalRoot=s}Bx.prototype.render=L_.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var d=o.current,x=oi();L2(d,x,s,o,null,null)},Bx.prototype.unmount=L_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;L2(s.current,2,null,s,null,null),Ar(),o[Gs]=null}};function Bx(s){this._internalRoot=s}Bx.prototype.unstable_scheduleHydration=function(s){if(s){var o=gn();s={blockedOn:null,target:s,priority:o};for(var d=0;d<nu.length&&o!==0&&o<nu[d].priority;d++);nu.splice(d,0,s),d===0&&I2(s)}};var H2=e.version;if(H2!=="19.1.1")throw Error(i(527,H2,"19.1.1"));z.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var O4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ix.isDisabled&&Ix.supportsFiber)try{Pe=Ix.inject(O4),ze=Ix}catch{}}return Dp.createRoot=function(s,o){if(!a(s))throw Error(i(299));var d=!1,x="",E=ff,C=qd,q=vx,J=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(E=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(q=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(J=o.unstable_transitionCallbacks)),o=D2(s,1,!1,null,null,d,x,E,C,q,J,null),s[Gs]=o.current,p_(s),new L_(o)},Dp.hydrateRoot=function(s,o,d){if(!a(s))throw Error(i(299));var x=!1,E="",C=ff,q=qd,J=vx,le=null,Ee=null;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(q=d.onCaughtError),d.onRecoverableError!==void 0&&(J=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(le=d.unstable_transitionCallbacks),d.formState!==void 0&&(Ee=d.formState)),o=D2(s,1,!0,o,d??null,x,E,C,q,J,le,Ee),o.context=O2(null),d=o.current,x=oi(),x=zt(x),E=gr(x),E.callback=null,to(d,E,x),d=x,o.current.lanes=d,at(o,d),sl(o),s[Gs]=o.current,p_(s),new Bx(o)},Dp.version="19.1.1",Dp}var Z2;function H4(){if(Z2)return P_.exports;Z2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),P_.exports=V4(),P_.exports}var k4=H4();const G4=k0(k4);var F_={exports:{}},Op={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function q4(){if(K2)return Op;K2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,r){var l=null;if(r!==void 0&&(l=""+r),a.key!==void 0&&(l=""+a.key),"key"in a){r={};for(var u in a)u!=="key"&&(r[u]=a[u])}else r=a;return a=r.ref,{$$typeof:n,type:i,key:l,ref:a!==void 0?a:null,props:r}}return Op.Fragment=e,Op.jsx=t,Op.jsxs=t,Op}var Q2;function j4(){return Q2||(Q2=1,F_.exports=q4()),F_.exports}var Ai=j4();const EE=K.createContext({});function ME(n){const e=K.useRef(null);return e.current===null&&(e.current=n()),e.current}const wE=typeof window<"u",$A=wE?K.useLayoutEffect:K.useEffect,nb=K.createContext(null);function TE(n,e){n.indexOf(e)===-1&&n.push(e)}function AE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tc=(n,e,t)=>t>e?e:t<n?n:t;let CE=()=>{};const nc={},eC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function tC(n){return typeof n=="object"&&n!==null}const nC=n=>/^0[^.\s]+$/u.test(n);function NE(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ur=n=>n,X4=(n,e)=>t=>e(n(t)),G0=(...n)=>n.reduce(X4),x0=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class RE{constructor(){this.subscriptions=[]}add(e){return TE(this.subscriptions,e),()=>AE(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let r=0;r<a;r++){const l=this.subscriptions[r];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dl=n=>n*1e3,hl=n=>n/1e3;function iC(n,e){return e?n*(1e3/e):0}const aC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,W4=1e-7,Y4=12;function Z4(n,e,t,i,a){let r,l,u=0;do l=e+(t-e)/2,r=aC(l,i,a)-n,r>0?t=l:e=l;while(Math.abs(r)>W4&&++u<Y4);return l}function q0(n,e,t,i){if(n===e&&t===i)return Ur;const a=r=>Z4(r,0,1,n,t);return r=>r===0||r===1?r:aC(a(r),e,i)}const sC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,rC=n=>e=>1-n(1-e),oC=q0(.33,1.53,.69,.99),DE=rC(oC),lC=sC(DE),cC=n=>(n*=2)<1?.5*DE(n):.5*(2-Math.pow(2,-10*(n-1))),OE=n=>1-Math.sin(Math.acos(n)),uC=rC(OE),fC=sC(OE),K4=q0(.42,0,1,1),Q4=q0(0,0,.58,1),dC=q0(.42,0,.58,1),J4=n=>Array.isArray(n)&&typeof n[0]!="number",hC=n=>Array.isArray(n)&&typeof n[0]=="number",$4={linear:Ur,easeIn:K4,easeInOut:dC,easeOut:Q4,circIn:OE,circInOut:fC,circOut:uC,backIn:DE,backInOut:lC,backOut:oC,anticipate:cC},eL=n=>typeof n=="string",J2=n=>{if(hC(n)){CE(n.length===4);const[e,t,i,a]=n;return q0(e,t,i,a)}else if(eL(n))return $4[n];return n},Vx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tL(n,e){let t=new Set,i=new Set,a=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(g){l.has(g)&&(m.schedule(g),n()),g(u)}const m={schedule:(g,v=!1,b=!1)=>{const M=b&&a?t:i;return v&&l.add(g),M.has(g)||M.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(u=g,a){r=!0;return}a=!0,[t,i]=[i,t],t.forEach(h),t.clear(),a=!1,r&&(r=!1,m.process(g))}};return m}const nL=40;function mC(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,l=Vx.reduce((O,F)=>(O[F]=tL(r),O),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:v,preRender:b,render:S,postRender:M}=l,A=()=>{const O=nc.useManualTiming?a.timestamp:performance.now();t=!1,nc.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(O-a.timestamp,nL),1)),a.timestamp=O,a.isProcessing=!0,u.process(a),h.process(a),m.process(a),g.process(a),v.process(a),b.process(a),S.process(a),M.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(A))},T=()=>{t=!0,i=!0,a.isProcessing||n(A)};return{schedule:Vx.reduce((O,F)=>{const D=l[F];return O[F]=(U,B=!1,H=!1)=>(t||T(),D.schedule(U,B,H)),O},{}),cancel:O=>{for(let F=0;F<Vx.length;F++)l[Vx[F]].cancel(O)},state:a,steps:l}}const{schedule:li,cancel:xu,state:Ta,steps:V_}=mC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ur,!0);let Fv;function iL(){Fv=void 0}const zs={now:()=>(Fv===void 0&&zs.set(Ta.isProcessing||nc.useManualTiming?Ta.timestamp:performance.now()),Fv),set:n=>{Fv=n,queueMicrotask(iL)}},pC=n=>e=>typeof e=="string"&&e.startsWith(n),LE=pC("--"),aL=pC("var(--"),UE=n=>aL(n)?sL.test(n.split("/*")[0].trim()):!1,sL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,im={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},v0={...im,transform:n=>tc(0,1,n)},Hx={...im,default:1},n0=n=>Math.round(n*1e5)/1e5,PE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rL(n){return n==null}const oL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zE=(n,e)=>t=>!!(typeof t=="string"&&oL.test(t)&&t.startsWith(n)||e&&!rL(t)&&Object.prototype.hasOwnProperty.call(t,e)),gC=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,r,l,u]=i.match(PE);return{[n]:parseFloat(a),[e]:parseFloat(r),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},lL=n=>tc(0,255,n),H_={...im,transform:n=>Math.round(lL(n))},If={test:zE("rgb","red"),parse:gC("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+H_.transform(n)+", "+H_.transform(e)+", "+H_.transform(t)+", "+n0(v0.transform(i))+")"};function cL(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const S1={test:zE("#"),parse:cL,transform:If.transform},j0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fu=j0("deg"),ml=j0("%"),jt=j0("px"),uL=j0("vh"),fL=j0("vw"),$2={...ml,parse:n=>ml.parse(n)/100,transform:n=>ml.transform(n*100)},Dh={test:zE("hsl","hue"),parse:gC("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ml.transform(n0(e))+", "+ml.transform(n0(t))+", "+n0(v0.transform(i))+")"},Zi={test:n=>If.test(n)||S1.test(n)||Dh.test(n),parse:n=>If.test(n)?If.parse(n):Dh.test(n)?Dh.parse(n):S1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?If.transform(n):Dh.transform(n),getAnimatableNone:n=>{const e=Zi.parse(n);return e.alpha=0,Zi.transform(e)}},dL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hL(n){return isNaN(n)&&typeof n=="string"&&(n.match(PE)?.length||0)+(n.match(dL)?.length||0)>0}const xC="number",vC="color",mL="var",pL="var(",ew="${}",gL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function y0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let r=0;const u=e.replace(gL,h=>(Zi.test(h)?(i.color.push(r),a.push(vC),t.push(Zi.parse(h))):h.startsWith(pL)?(i.var.push(r),a.push(mL),t.push(h)):(i.number.push(r),a.push(xC),t.push(parseFloat(h))),++r,ew)).split(ew);return{values:t,split:u,indexes:i,types:a}}function yC(n){return y0(n).values}function bC(n){const{split:e,types:t}=y0(n),i=e.length;return a=>{let r="";for(let l=0;l<i;l++)if(r+=e[l],a[l]!==void 0){const u=t[l];u===xC?r+=n0(a[l]):u===vC?r+=Zi.transform(a[l]):r+=a[l]}return r}}const xL=n=>typeof n=="number"?0:Zi.test(n)?Zi.getAnimatableNone(n):n;function vL(n){const e=yC(n);return bC(n)(e.map(xL))}const vu={test:hL,parse:yC,createTransformer:bC,getAnimatableNone:vL};function k_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function yL({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,r=0,l=0;if(!e)a=r=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;a=k_(h,u,n+1/3),r=k_(h,u,n),l=k_(h,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:i}}function $v(n,e){return t=>t>0?e:n}const vi=(n,e,t)=>n+(e-n)*t,G_=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},bL=[S1,If,Dh],_L=n=>bL.find(e=>e.test(n));function tw(n){const e=_L(n);if(!e)return!1;let t=e.parse(n);return e===Dh&&(t=yL(t)),t}const nw=(n,e)=>{const t=tw(n),i=tw(e);if(!t||!i)return $v(n,e);const a={...t};return r=>(a.red=G_(t.red,i.red,r),a.green=G_(t.green,i.green,r),a.blue=G_(t.blue,i.blue,r),a.alpha=vi(t.alpha,i.alpha,r),If.transform(a))},E1=new Set(["none","hidden"]);function SL(n,e){return E1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function EL(n,e){return t=>vi(n,e,t)}function BE(n){return typeof n=="number"?EL:typeof n=="string"?UE(n)?$v:Zi.test(n)?nw:TL:Array.isArray(n)?_C:typeof n=="object"?Zi.test(n)?nw:ML:$v}function _C(n,e){const t=[...n],i=t.length,a=n.map((r,l)=>BE(r)(r,e[l]));return r=>{for(let l=0;l<i;l++)t[l]=a[l](r);return t}}function ML(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=BE(n[a])(n[a],e[a]));return a=>{for(const r in i)t[r]=i[r](a);return t}}function wL(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const r=e.types[a],l=n.indexes[r][i[r]],u=n.values[l]??0;t[a]=u,i[r]++}return t}const TL=(n,e)=>{const t=vu.createTransformer(e),i=y0(n),a=y0(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?E1.has(n)&&!a.values.length||E1.has(e)&&!i.values.length?SL(n,e):G0(_C(wL(i,a),a.values),t):$v(n,e)};function SC(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?vi(n,e,t):BE(n)(n,e)}const AL=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>li.update(e,t),stop:()=>xu(e),now:()=>Ta.isProcessing?Ta.timestamp:zs.now()}},EC=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let r=0;r<a;r++)i+=Math.round(n(r/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ey=2e4;function IE(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<ey;)e+=t,i=n.next(e);return e>=ey?1/0:e}function CL(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(IE(i),ey);return{type:"keyframes",ease:r=>i.next(a*r).value/e,duration:hl(a)}}const NL=5;function MC(n,e,t){const i=Math.max(e-NL,0);return iC(t-n(i),e-i)}const Ti={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},q_=.001;function RL({duration:n=Ti.duration,bounce:e=Ti.bounce,velocity:t=Ti.velocity,mass:i=Ti.mass}){let a,r,l=1-e;l=tc(Ti.minDamping,Ti.maxDamping,l),n=tc(Ti.minDuration,Ti.maxDuration,hl(n)),l<1?(a=m=>{const g=m*l,v=g*n,b=g-t,S=M1(m,l),M=Math.exp(-v);return q_-b/S*M},r=m=>{const v=m*l*n,b=v*t+t,S=Math.pow(l,2)*Math.pow(m,2)*n,M=Math.exp(-v),A=M1(Math.pow(m,2),l);return(-a(m)+q_>0?-1:1)*((b-S)*M)/A}):(a=m=>{const g=Math.exp(-m*n),v=(m-t)*n+1;return-q_+g*v},r=m=>{const g=Math.exp(-m*n),v=(t-m)*(n*n);return g*v});const u=5/n,h=OL(a,r,u);if(n=dl(n),isNaN(h))return{stiffness:Ti.stiffness,damping:Ti.damping,duration:n};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:l*2*Math.sqrt(i*m),duration:n}}}const DL=12;function OL(n,e,t){let i=t;for(let a=1;a<DL;a++)i=i-n(i)/e(i);return i}function M1(n,e){return n*Math.sqrt(1-e*e)}const LL=["duration","bounce"],UL=["stiffness","damping","mass"];function iw(n,e){return e.some(t=>n[t]!==void 0)}function PL(n){let e={velocity:Ti.velocity,stiffness:Ti.stiffness,damping:Ti.damping,mass:Ti.mass,isResolvedFromDuration:!1,...n};if(!iw(n,UL)&&iw(n,LL))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,r=2*tc(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ti.mass,stiffness:a,damping:r}}else{const t=RL(n);e={...e,...t,mass:Ti.mass},e.isResolvedFromDuration=!0}return e}function ty(n=Ti.visualDuration,e=Ti.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const r=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:r},{stiffness:h,damping:m,mass:g,duration:v,velocity:b,isResolvedFromDuration:S}=PL({...t,velocity:-hl(t.velocity||0)}),M=b||0,A=m/(2*Math.sqrt(h*g)),T=l-r,_=hl(Math.sqrt(h/g)),L=Math.abs(T)<5;i||(i=L?Ti.restSpeed.granular:Ti.restSpeed.default),a||(a=L?Ti.restDelta.granular:Ti.restDelta.default);let O;if(A<1){const D=M1(_,A);O=U=>{const B=Math.exp(-A*_*U);return l-B*((M+A*_*T)/D*Math.sin(D*U)+T*Math.cos(D*U))}}else if(A===1)O=D=>l-Math.exp(-_*D)*(T+(M+_*T)*D);else{const D=_*Math.sqrt(A*A-1);O=U=>{const B=Math.exp(-A*_*U),H=Math.min(D*U,300);return l-B*((M+A*_*T)*Math.sinh(H)+D*T*Math.cosh(H))/D}}const F={calculatedDuration:S&&v||null,next:D=>{const U=O(D);if(S)u.done=D>=v;else{let B=D===0?M:0;A<1&&(B=D===0?dl(M):MC(O,D,U));const H=Math.abs(B)<=i,I=Math.abs(l-U)<=a;u.done=H&&I}return u.value=u.done?l:U,u},toString:()=>{const D=Math.min(IE(F),ey),U=EC(B=>F.next(D*B).value,D,30);return D+"ms "+U},toTransition:()=>{}};return F}ty.applyToOptions=n=>{const e=CL(n,100,ty);return n.ease=e.ease,n.duration=dl(e.duration),n.type="keyframes",n};function w1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},S=H=>u!==void 0&&H<u||h!==void 0&&H>h,M=H=>u===void 0?h:h===void 0||Math.abs(u-H)<Math.abs(h-H)?u:h;let A=t*e;const T=v+A,_=l===void 0?T:l(T);_!==T&&(A=_-v);const L=H=>-A*Math.exp(-H/i),O=H=>_+L(H),F=H=>{const I=L(H),P=O(H);b.done=Math.abs(I)<=m,b.value=b.done?_:P};let D,U;const B=H=>{S(b.value)&&(D=H,U=ty({keyframes:[b.value,M(b.value)],velocity:MC(O,H,b.value),damping:a,stiffness:r,restDelta:m,restSpeed:g}))};return B(0),{calculatedDuration:null,next:H=>{let I=!1;return!U&&D===void 0&&(I=!0,F(H),B(H)),D!==void 0&&H>=D?U.next(H-D):(!I&&F(H),b)}}}function zL(n,e,t){const i=[],a=t||nc.mix||SC,r=n.length-1;for(let l=0;l<r;l++){let u=a(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||Ur:e;u=G0(h,u)}i.push(u)}return i}function BL(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const r=n.length;if(CE(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=zL(e,i,a),h=u.length,m=g=>{if(l&&g<n[0])return e[0];let v=0;if(h>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=x0(n[v],n[v+1],g);return u[v](b)};return t?g=>m(tc(n[0],n[r-1],g)):m}function IL(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=x0(0,e,i);n.push(vi(t,1,a))}}function FL(n){const e=[0];return IL(e,n.length-1),e}function VL(n,e){return n.map(t=>t*e)}function HL(n,e){return n.map(()=>e||dC).splice(0,n.length-1)}function i0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=J4(i)?i.map(J2):J2(i),r={done:!1,value:e[0]},l=VL(t&&t.length===e.length?t:FL(e),n),u=BL(l,e,{ease:Array.isArray(a)?a:HL(e,a)});return{calculatedDuration:n,next:h=>(r.value=u(h),r.done=h>=n,r)}}const kL=n=>n!==null;function FE(n,{repeat:e,repeatType:t="loop"},i,a=1){const r=n.filter(kL),u=a<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!u||i===void 0?r[u]:i}const GL={decay:w1,inertia:w1,tween:i0,keyframes:i0,spring:ty};function wC(n){typeof n.type=="string"&&(n.type=GL[n.type])}class VE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const qL=n=>n/100;class HE extends VE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==zs.now()&&this.tick(zs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wC(e);const{type:t=i0,repeat:i=0,repeatDelay:a=0,repeatType:r,velocity:l=0}=e;let{keyframes:u}=e;const h=t||i0;h!==i0&&typeof u[0]!="number"&&(this.mixKeyframes=G0(qL,SC(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});r==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=IE(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:r,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:S,type:M,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const _=this.currentTime-m*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?_<0:_>a;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,F=i;if(v){const H=Math.min(this.currentTime,a)/u;let I=Math.floor(H),P=H%1;!P&&H>=1&&(P=1),P===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(b==="reverse"?(P=1-P,S&&(P-=S/u)):b==="mirror"&&(F=l)),O=tc(0,1,P)*u}const D=L?{done:!1,value:g[0]}:F.next(O);r&&(D.value=r(D.value));let{done:U}=D;!L&&h!==null&&(U=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return B&&M!==w1&&(D.value=FE(g,this.options,T,this.speed)),A&&A(D.value),B&&this.finish(),D}then(e,t){return this.finished.then(e,t)}get duration(){return hl(this.calculatedDuration)}get time(){return hl(this.currentTime)}set time(e){e=dl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=hl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=AL,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jL(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ff=n=>n*180/Math.PI,T1=n=>{const e=Ff(Math.atan2(n[1],n[0]));return A1(e)},XL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:T1,rotateZ:T1,skewX:n=>Ff(Math.atan(n[1])),skewY:n=>Ff(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},A1=n=>(n=n%360,n<0&&(n+=360),n),aw=T1,sw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),rw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),WL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sw,scaleY:rw,scale:n=>(sw(n)+rw(n))/2,rotateX:n=>A1(Ff(Math.atan2(n[6],n[5]))),rotateY:n=>A1(Ff(Math.atan2(-n[2],n[0]))),rotateZ:aw,rotate:aw,skewX:n=>Ff(Math.atan(n[4])),skewY:n=>Ff(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function C1(n){return n.includes("scale")?1:0}function N1(n,e){if(!n||n==="none")return C1(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=WL,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=XL,a=u}if(!a)return C1(e);const r=i[e],l=a[1].split(",").map(ZL);return typeof r=="function"?r(l):l[r]}const YL=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return N1(t,e)};function ZL(n){return parseFloat(n.trim())}const am=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sm=new Set(am),ow=n=>n===im||n===jt,KL=new Set(["x","y","z"]),QL=am.filter(n=>!KL.has(n));function JL(n){const e=[];return QL.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const jf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>N1(e,"x"),y:(n,{transform:e})=>N1(e,"y")};jf.translateX=jf.x;jf.translateY=jf.y;const Xf=new Set;let R1=!1,D1=!1,O1=!1;function TC(){if(D1){const n=Array.from(Xf).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=JL(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([r,l])=>{i.getValue(r)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}D1=!1,R1=!1,Xf.forEach(n=>n.complete(O1)),Xf.clear()}function AC(){Xf.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(D1=!0)})}function $L(){O1=!0,AC(),TC(),O1=!1}class kE{constructor(e,t,i,a,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Xf.add(this),R1||(R1=!0,li.read(AC),li.resolveKeyframes(TC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const r=a?.get(),l=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const u=i.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),a&&r===void 0&&a.set(e[0])}jL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xf.delete(this)}cancel(){this.state==="scheduled"&&(Xf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eU=n=>n.startsWith("--");function tU(n,e,t){eU(e)?n.style.setProperty(e,t):n.style[e]=t}const nU=NE(()=>window.ScrollTimeline!==void 0),iU={};function aU(n,e){const t=NE(n);return()=>iU[e]??t()}const CC=aU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jp=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,lw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jp([0,.65,.55,1]),circOut:Jp([.55,0,1,.45]),backIn:Jp([.31,.01,.66,-.59]),backOut:Jp([.33,1.53,.69,.99])};function NC(n,e){if(n)return typeof n=="function"?CC()?EC(n,e):"ease-out":hC(n)?Jp(n):Array.isArray(n)?n.map(t=>NC(t,e)||lw.easeOut):lw[n]}function sU(n,e,t,{delay:i=0,duration:a=300,repeat:r=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:t};h&&(g.offset=h);const v=NC(u,a);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),n.animate(g,b)}function RC(n){return typeof n=="function"&&"applyToOptions"in n}function rU({type:n,...e}){return RC(n)&&CC()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oU extends VE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=e,CE(typeof e.type!="string");const m=rU(e);this.animation=sU(t,i,a,m,r),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const g=FE(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):tU(t,i,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return hl(Number(e))}get time(){return hl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=dl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&nU()?(this.animation.timeline=e,Ur):t(this)}}const DC={anticipate:cC,backInOut:lC,circInOut:fC};function lU(n){return n in DC}function cU(n){typeof n.ease=="string"&&lU(n.ease)&&(n.ease=DC[n.ease])}const cw=10;class uU extends oU{constructor(e){cU(e),wC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:r,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new HE({...l,autoplay:!1}),h=dl(this.finishedTime??this.time);t.setWithVelocity(u.sample(h-cw).value,u.sample(h).value,cw),u.stop()}}const uw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(vu.test(n)||n==="0")&&!n.startsWith("url("));function fU(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function dU(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],l=uw(a,e),u=uw(r,e);return!l||!u?!1:fU(n)||(t==="spring"||RC(t))&&i}function L1(n){n.duration=0,n.type}const hU=new Set(["opacity","clipPath","filter","transform"]),mU=NE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pU(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:r,type:l}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return mU()&&t&&hU.has(t)&&(t!=="transform"||!m)&&!h&&!i&&a!=="mirror"&&r!==0&&l!=="inertia"}const gU=40;class xU extends VE{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zs.now();const b={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:r,repeatType:l,name:h,motionValue:m,element:g,...v},S=g?.KeyframeResolver||kE;this.keyframeResolver=new S(u,(M,A,T)=>this.onKeyframesResolved(M,A,b,!T),h,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:r,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:g}=i;this.resolvedAt=zs.now(),dU(e,r,l,u)||((nc.instantAnimations||!h)&&g?.(FE(e,i,t)),e[0]=e[e.length-1],L1(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>gU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},S=!m&&pU(b)?new uU({...b,element:b.motionValue.owner.current}):new HE(b);S.finished.then(()=>this.notifyFinished()).catch(Ur),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$L()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const vU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yU(n){const e=vU.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function OC(n,e,t=1){const[i,a]=yU(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const l=r.trim();return eC(l)?parseFloat(l):l}return UE(a)?OC(a,e,t+1):a}function GE(n,e){return n?.[e]??n?.default??n}const LC=new Set(["width","height","top","left","right","bottom",...am]),bU={test:n=>n==="auto",parse:n=>n},UC=n=>e=>e.test(n),PC=[im,jt,ml,fu,fL,uL,bU],fw=n=>PC.find(UC(n));function _U(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||nC(n):!0}const SU=new Set(["brightness","contrast","saturate","opacity"]);function EU(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(PE)||[];if(!i)return n;const a=t.replace(i,"");let r=SU.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+a+")"}const MU=/\b([a-z-]*)\(.*?\)/gu,U1={...vu,getAnimatableNone:n=>{const e=n.match(MU);return e?e.map(EU).join(" "):n}},dw={...im,transform:Math.round},wU={rotate:fu,rotateX:fu,rotateY:fu,rotateZ:fu,scale:Hx,scaleX:Hx,scaleY:Hx,scaleZ:Hx,skew:fu,skewX:fu,skewY:fu,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:v0,originX:$2,originY:$2,originZ:jt},qE={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt,...wU,zIndex:dw,fillOpacity:v0,strokeOpacity:v0,numOctaves:dw},TU={...qE,color:Zi,backgroundColor:Zi,outlineColor:Zi,fill:Zi,stroke:Zi,borderColor:Zi,borderTopColor:Zi,borderRightColor:Zi,borderBottomColor:Zi,borderLeftColor:Zi,filter:U1,WebkitFilter:U1},zC=n=>TU[n];function BC(n,e){let t=zC(n);return t!==U1&&(t=vu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const AU=new Set(["auto","none","0"]);function CU(n,e,t){let i=0,a;for(;i<n.length&&!a;){const r=n[i];typeof r=="string"&&!AU.has(r)&&y0(r).values.length&&(a=n[i]),i++}if(a&&t)for(const r of e)n[r]=BC(t,a)}class NU extends kE{constructor(e,t,i,a,r){super(e,t,i,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),UE(m))){const g=OC(m,t.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!LC.has(i)||e.length!==2)return;const[a,r]=e,l=fw(a),u=fw(r);if(l!==u)if(ow(l)&&ow(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else jf[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||_U(e[a]))&&i.push(a);i.length&&CU(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const r=i.length-1,l=i[r];i[r]=jf[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function RU(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const IC=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function FC(n){return tC(n)&&"offsetHeight"in n}const hw=30,DU=n=>!isNaN(parseFloat(n));class OU{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=zs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new RE);const i=this.events[e].add(t);return e==="change"?()=>{i(),li.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,hw);return iC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hh(n,e){return new OU(n,e)}const{schedule:jE}=mC(queueMicrotask,!1),go={x:!1,y:!1};function VC(){return go.x||go.y}function LU(n){return n==="x"||n==="y"?go[n]?null:(go[n]=!0,()=>{go[n]=!1}):go.x||go.y?null:(go.x=go.y=!0,()=>{go.x=go.y=!1})}function HC(n,e){const t=RU(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function mw(n){return!(n.pointerType==="touch"||VC())}function UU(n,e,t={}){const[i,a,r]=HC(n,t),l=u=>{if(!mw(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=v=>{mw(v)&&(m(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return i.forEach(u=>{u.addEventListener("pointerenter",l,a)}),r}const kC=(n,e)=>e?n===e?!0:kC(n,e.parentElement):!1,XE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,PU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zU(n){return PU.has(n.tagName)||n.tabIndex!==-1}const Vv=new WeakSet;function pw(n){return e=>{e.key==="Enter"&&n(e)}}function j_(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BU=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=pw(()=>{if(Vv.has(t))return;j_(t,"down");const a=pw(()=>{j_(t,"up")}),r=()=>j_(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function gw(n){return XE(n)&&!VC()}function IU(n,e,t={}){const[i,a,r]=HC(n,t),l=u=>{const h=u.currentTarget;if(!gw(u))return;Vv.add(h);const m=e(h,u),g=(S,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Vv.has(h)&&Vv.delete(h),gw(S)&&typeof m=="function"&&m(S,{success:M})},v=S=>{g(S,h===window||h===document||t.useGlobalTarget||kC(h,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),FC(u)&&(u.addEventListener("focus",m=>BU(m,a)),!zU(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function GC(n){return tC(n)&&"ownerSVGElement"in n}function FU(n){return GC(n)&&n.tagName==="svg"}const Ga=n=>!!(n&&n.getVelocity),VU=[...PC,Zi,vu],HU=n=>VU.find(UC(n)),WE=K.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class kU extends K.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,a=FC(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GU({children:n,isPresent:e,anchorX:t,root:i}){const a=K.useId(),r=K.useRef(null),l=K.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=K.useContext(WE);return K.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:v,right:b}=l.current;if(e||!r.current||!h||!m)return;const S=t==="left"?`left: ${v}`:`right: ${b}`;r.current.dataset.motionPopId=a;const M=document.createElement("style");u&&(M.nonce=u);const A=i??document.head;return A.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(M)&&A.removeChild(M)}},[e]),Ai.jsx(kU,{isPresent:e,childRef:r,sizeRef:l,children:K.cloneElement(n,{ref:r})})}const qU=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:l,anchorX:u,root:h})=>{const m=ME(jU),g=K.useId();let v=!0,b=K.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:t,custom:a,onExitComplete:S=>{m.set(S,!0);for(const M of m.values())if(!M)return;i&&i()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[t,m,i]);return r&&v&&(b={...b}),K.useMemo(()=>{m.forEach((S,M)=>m.set(M,!1))},[t]),K.useEffect(()=>{!t&&!m.size&&i&&i()},[t]),l==="popLayout"&&(n=Ai.jsx(GU,{isPresent:t,anchorX:u,root:h,children:n})),Ai.jsx(nb.Provider,{value:b,children:n})};function jU(){return new Map}function qC(n=!0){const e=K.useContext(nb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,r=K.useId();K.useEffect(()=>{if(n)return a(r)},[n]);const l=K.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,l]:[!0]}const kx=n=>n.key||"";function xw(n){const e=[];return K.Children.forEach(n,t=>{K.isValidElement(t)&&e.push(t)}),e}const XU=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[m,g]=qC(l),v=K.useMemo(()=>xw(n),[n]),b=l&&!m?[]:v.map(kx),S=K.useRef(!0),M=K.useRef(v),A=ME(()=>new Map),[T,_]=K.useState(v),[L,O]=K.useState(v);$A(()=>{S.current=!1,M.current=v;for(let U=0;U<L.length;U++){const B=kx(L[U]);b.includes(B)?A.delete(B):A.get(B)!==!0&&A.set(B,!1)}},[L,b.length,b.join("-")]);const F=[];if(v!==T){let U=[...v];for(let B=0;B<L.length;B++){const H=L[B],I=kx(H);b.includes(I)||(U.splice(B,0,H),F.push(H))}return r==="wait"&&F.length&&(U=F),O(xw(U)),_(v),null}const{forceRender:D}=K.useContext(EE);return Ai.jsx(Ai.Fragment,{children:L.map(U=>{const B=kx(U),H=l&&!m?!1:v===L||b.includes(B),I=()=>{if(A.has(B))A.set(B,!0);else return;let P=!0;A.forEach(j=>{j||(P=!1)}),P&&(D?.(),O(M.current),l&&g?.(),i&&i())};return Ai.jsx(qU,{isPresent:H,initial:!S.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:r,root:h,onExitComplete:H?void 0:I,anchorX:u,children:U},B)})})},jC=K.createContext({strict:!1}),vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kh={};for(const n in vw)kh[n]={isEnabled:e=>vw[n].some(t=>!!e[t])};function WU(n){for(const e in n)kh[e]={...kh[e],...n[e]}}const YU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ny(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||YU.has(n)}let XC=n=>!ny(n);function ZU(n){typeof n=="function"&&(XC=e=>e.startsWith("on")?!ny(e):n(e))}try{ZU(require("@emotion/is-prop-valid").default)}catch{}function KU(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(XC(a)||t===!0&&ny(a)||!e&&!ny(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const ib=K.createContext({});function ab(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function b0(n){return typeof n=="string"||Array.isArray(n)}const YE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZE=["initial",...YE];function sb(n){return ab(n.animate)||ZE.some(e=>b0(n[e]))}function WC(n){return!!(sb(n)||n.variants)}function QU(n,e){if(sb(n)){const{initial:t,animate:i}=n;return{initial:t===!1||b0(t)?t:void 0,animate:b0(i)?i:void 0}}return n.inherit!==!1?e:{}}function JU(n){const{initial:e,animate:t}=QU(n,K.useContext(ib));return K.useMemo(()=>({initial:e,animate:t}),[yw(e),yw(t)])}function yw(n){return Array.isArray(n)?n.join(" "):n}const _0={};function $U(n){for(const e in n)_0[e]=n[e],LE(e)&&(_0[e].isCSSVariable=!0)}function YC(n,{layout:e,layoutId:t}){return sm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!_0[n]||n==="opacity")}const eP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tP=am.length;function nP(n,e,t){let i="",a=!0;for(let r=0;r<tP;r++){const l=am[r],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const m=IC(u,qE[l]);if(!h){a=!1;const g=eP[l]||l;i+=`${g}(${m}) `}t&&(e[l]=m)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function KE(n,e,t){const{style:i,vars:a,transformOrigin:r}=n;let l=!1,u=!1;for(const h in e){const m=e[h];if(sm.has(h)){l=!0;continue}else if(LE(h)){a[h]=m;continue}else{const g=IC(m,qE[h]);h.startsWith("origin")?(u=!0,r[h]=g):i[h]=g}}if(e.transform||(l||t?i.transform=nP(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=r;i.transformOrigin=`${h} ${m} ${g}`}}const QE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZC(n,e,t){for(const i in e)!Ga(e[i])&&!YC(i,t)&&(n[i]=e[i])}function iP({transformTemplate:n},e){return K.useMemo(()=>{const t=QE();return KE(t,e,n),Object.assign({},t.vars,t.style)},[e])}function aP(n,e){const t=n.style||{},i={};return ZC(i,t,n),Object.assign(i,iP(n,e)),i}function sP(n,e){const t={},i=aP(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const rP={offset:"stroke-dashoffset",array:"stroke-dasharray"},oP={offset:"strokeDashoffset",array:"strokeDasharray"};function lP(n,e,t=1,i=0,a=!0){n.pathLength=1;const r=a?rP:oP;n[r.offset]=jt.transform(-i);const l=jt.transform(e),u=jt.transform(t);n[r.array]=`${l} ${u}`}function KC(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:r=1,pathOffset:l=0,...u},h,m,g){if(KE(n,u,m),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&lP(v,a,r,l,!1)}const QC=()=>({...QE(),attrs:{}}),JC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cP(n,e,t,i){const a=K.useMemo(()=>{const r=QC();return KC(r,e,JC(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};ZC(r,n.style,n),a.style={...r,...a.style}}return a}const uP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JE(n){return typeof n!="string"||n.includes("-")?!1:!!(uP.indexOf(n)>-1||/[A-Z]/u.test(n))}function fP(n,e,t,{latestValues:i},a,r=!1){const u=(JE(n)?cP:sP)(e,i,a,n),h=KU(e,typeof n=="string",r),m=n!==K.Fragment?{...h,...u,ref:t}:{},{children:g}=e,v=K.useMemo(()=>Ga(g)?g.get():g,[g]);return K.createElement(n,{...m,children:v})}function bw(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function $E(n,e,t,i){if(typeof e=="function"){const[a,r]=bw(i);e=e(t!==void 0?t:n.custom,a,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,r]=bw(i);e=e(t!==void 0?t:n.custom,a,r)}return e}function Hv(n){return Ga(n)?n.get():n}function dP({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:hP(t,i,a,n),renderState:e()}}function hP(n,e,t,i){const a={},r=i(n,{});for(const b in r)a[b]=Hv(r[b]);let{initial:l,animate:u}=n;const h=sb(n),m=WC(n);e&&m&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!ab(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const M=$E(n,b[S]);if(M){const{transitionEnd:A,transition:T,..._}=M;for(const L in _){let O=_[L];if(Array.isArray(O)){const F=g?O.length-1:0;O=O[F]}O!==null&&(a[L]=O)}for(const L in A)a[L]=A[L]}}}return a}const $C=n=>(e,t)=>{const i=K.useContext(ib),a=K.useContext(nb),r=()=>dP(n,e,i,a);return t?r():ME(r)};function eM(n,e,t){const{style:i}=n,a={};for(const r in i)(Ga(i[r])||e.style&&Ga(e.style[r])||YC(r,n)||t?.getValue(r)?.liveStyle!==void 0)&&(a[r]=i[r]);return a}const mP=$C({scrapeMotionValuesFromProps:eM,createRenderState:QE});function eN(n,e,t){const i=eM(n,e,t);for(const a in n)if(Ga(n[a])||Ga(e[a])){const r=am.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[r]=n[a]}return i}const pP=$C({scrapeMotionValuesFromProps:eN,createRenderState:QC}),gP=Symbol.for("motionComponentSymbol");function Oh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function xP(n,e,t){return K.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Oh(t)&&(t.current=i))},[e])}const tM=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vP="framerAppearId",tN="data-"+tM(vP),nN=K.createContext({});function yP(n,e,t,i,a){const{visualElement:r}=K.useContext(ib),l=K.useContext(jC),u=K.useContext(nb),h=K.useContext(WE).reducedMotion,m=K.useRef(null);i=i||l.renderer,!m.current&&i&&(m.current=i(n,{visualState:e,parent:r,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,v=K.useContext(nN);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&bP(m.current,t,a,v);const b=K.useRef(!1);K.useInsertionEffect(()=>{g&&b.current&&g.update(t,u)});const S=t[tN],M=K.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return $A(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),M.current&&g.animationState&&g.animationState.animateChanges())}),K.useEffect(()=>{g&&(!M.current&&g.animationState&&g.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),M.current=!1),g.enteringChildren=void 0)}),g}function bP(n,e,t,i){const{layoutId:a,layout:r,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:iN(n.parent)),n.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!l||u&&Oh(u),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:m})}function iN(n){if(n)return n.options.allowProjection!==!1?n.projection:iN(n.parent)}function X_(n,{forwardMotionProps:e=!1}={},t,i){t&&WU(t);const a=JE(n)?pP:mP;function r(u,h){let m;const g={...K.useContext(WE),...u,layoutId:_P(u)},{isStatic:v}=g,b=JU(u),S=a(u,v);if(!v&&wE){SP();const M=EP(g);m=M.MeasureLayout,b.visualElement=yP(n,S,g,i,M.ProjectionNode)}return Ai.jsxs(ib.Provider,{value:b,children:[m&&b.visualElement?Ai.jsx(m,{visualElement:b.visualElement,...g}):null,fP(n,u,xP(S,b.visualElement,h),S,v,e)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=K.forwardRef(r);return l[gP]=n,l}function _P({layoutId:n}){const e=K.useContext(EE).id;return e&&n!==void 0?e+"-"+n:n}function SP(n,e){K.useContext(jC).strict}function EP(n){const{drag:e,layout:t}=kh;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function MP(n,e){if(typeof Proxy>"u")return X_;const t=new Map,i=(r,l)=>X_(r,l,n,e),a=(r,l)=>i(r,l);return new Proxy(a,{get:(r,l)=>l==="create"?i:(t.has(l)||t.set(l,X_(l,void 0,n,e)),t.get(l))})}function aN({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function wP({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function TP(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function W_(n){return n===void 0||n===1}function P1({scale:n,scaleX:e,scaleY:t}){return!W_(n)||!W_(e)||!W_(t)}function Pf(n){return P1(n)||sN(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function sN(n){return _w(n.x)||_w(n.y)}function _w(n){return n&&n!=="0%"}function iy(n,e,t){const i=n-t,a=e*i;return t+a}function Sw(n,e,t,i,a){return a!==void 0&&(n=iy(n,a,i)),iy(n,t,i)+e}function z1(n,e=0,t=1,i,a){n.min=Sw(n.min,e,t,i,a),n.max=Sw(n.max,e,t,i,a)}function rN(n,{x:e,y:t}){z1(n.x,e.translate,e.scale,e.originPoint),z1(n.y,t.translate,t.scale,t.originPoint)}const Ew=.999999999999,Mw=1.0000000000001;function AP(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let r,l;for(let u=0;u<a;u++){r=t[u],l=r.projectionDelta;const{visualElement:h}=r.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Uh(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,rN(n,l)),i&&Pf(r.latestValues)&&Uh(n,r.latestValues))}e.x<Mw&&e.x>Ew&&(e.x=1),e.y<Mw&&e.y>Ew&&(e.y=1)}function Lh(n,e){n.min=n.min+e,n.max=n.max+e}function ww(n,e,t,i,a=.5){const r=vi(n.min,n.max,a);z1(n,e,t,r,i)}function Uh(n,e){ww(n.x,e.x,e.scaleX,e.scale,e.originX),ww(n.y,e.y,e.scaleY,e.scale,e.originY)}function oN(n,e){return aN(TP(n.getBoundingClientRect(),e))}function CP(n,e,t){const i=oN(n,t),{scroll:a}=e;return a&&(Lh(i.x,a.offset.x),Lh(i.y,a.offset.y)),i}const Tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ph=()=>({x:Tw(),y:Tw()}),Aw=()=>({min:0,max:0}),Ii=()=>({x:Aw(),y:Aw()}),B1={current:null},lN={current:!1};function NP(){if(lN.current=!0,!!wE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>B1.current=n.matches;n.addEventListener("change",e),e()}else B1.current=!1}const RP=new WeakMap;function DP(n,e,t){for(const i in e){const a=e[i],r=t[i];if(Ga(a))n.addValue(i,a);else if(Ga(r))n.addValue(i,Hh(a,{owner:n}));else if(r!==a)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(i);n.addValue(i,Hh(l!==void 0?l:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OP{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=zs.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,li.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=sb(t),this.isVariantNode=WC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const S=v[b];h[b]!==void 0&&Ga(S)&&S.set(h[b])}}mount(e){this.current=e,RP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),lN.current||NP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:B1.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xu(this.notifyUpdate),xu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=sm.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&li.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kh){const t=kh[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ii()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Cw.length;i++){const a=Cw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,l=e[r];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=DP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Hh(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(eC(i)||nC(i))?i=parseFloat(i):!HU(i)&&vu.test(t)&&(i=BC(e,t)),this.setBaseTarget(e,Ga(i)?i.get():i)),Ga(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const r=$E(this.props,t,this.presenceContext?.custom);r&&(i=r[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ga(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new RE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){jE.render(this.render)}}class cN extends OP{constructor(){super(...arguments),this.KeyframeResolver=NU}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ga(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function uN(n,{style:e,vars:t},i,a){const r=n.style;let l;for(l in e)r[l]=e[l];a?.applyProjectionStyles(r,i);for(l in t)r.setProperty(l,t[l])}function LP(n){return window.getComputedStyle(n)}class UP extends cN{constructor(){super(...arguments),this.type="html",this.renderInstance=uN}readValueFromInstance(e,t){if(sm.has(t))return this.projection?.isProjecting?C1(t):YL(e,t);{const i=LP(e),a=(LE(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return oN(e,t)}build(e,t,i){KE(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return eM(e,t,i)}}const fN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PP(n,e,t,i){uN(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(fN.has(a)?a:tM(a),e.attrs[a])}class zP extends cN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ii}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sm.has(t)){const i=zC(t);return i&&i.default||0}return t=fN.has(t)?t:tM(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return eN(e,t,i)}build(e,t,i){KC(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){PP(e,t,i,a)}mount(e){this.isSVGTag=JC(e.tagName),super.mount(e)}}const BP=(n,e)=>JE(n)?new zP(e):new UP(e,{allowProjection:n!==K.Fragment});function Fh(n,e,t){const i=n.getProps();return $E(i,e,t!==void 0?t:i.custom,n)}const I1=n=>Array.isArray(n);function IP(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Hh(t))}function FP(n){return I1(n)?n[n.length-1]||0:n}function VP(n,e){const t=Fh(n,e);let{transitionEnd:i={},transition:a={},...r}=t||{};r={...r,...i};for(const l in r){const u=FP(r[l]);IP(n,l,u)}}function HP(n){return!!(Ga(n)&&n.add)}function F1(n,e){const t=n.getValue("willChange");if(HP(t))return t.add(e);if(!t&&nc.WillChange){const i=new nc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function dN(n){return n.props[tN]}const kP=n=>n!==null;function GP(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(kP),r=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[r]}const qP={type:"spring",stiffness:500,damping:25,restSpeed:10},jP=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),XP={type:"keyframes",duration:.8},WP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YP=(n,{keyframes:e})=>e.length>2?XP:sm.has(n)?n.startsWith("scale")?jP(e[1]):qP:WP;function ZP({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:r,repeatType:l,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const nM=(n,e,t,i={},a,r)=>l=>{const u=GE(i,n)||{},h=u.delay||i.delay||0;let{elapsed:m=0}=i;m=m-dl(h);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:r?void 0:a};ZP(u)||Object.assign(g,YP(n,g)),g.duration&&(g.duration=dl(g.duration)),g.repeatDelay&&(g.repeatDelay=dl(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(L1(g),g.delay===0&&(v=!0)),(nc.instantAnimations||nc.skipAnimations)&&(v=!0,L1(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!r&&e.get()!==void 0){const b=GP(g.keyframes,u);if(b!==void 0){li.update(()=>{g.onUpdate(b),g.onComplete()});return}}return u.isSync?new HE(g):new xU(g)};function KP({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function hN(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(r=i);const h=[],m=a&&n.animationState&&n.animationState.getState()[a];for(const g in u){const v=n.getValue(g,n.latestValues[g]??null),b=u[g];if(b===void 0||m&&KP(m,g))continue;const S={delay:t,...GE(r||{},g)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===M&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const _=dN(n);if(_){const L=window.MotionHandoffAnimation(_,g,li);L!==null&&(S.startTime=L,A=!0)}}F1(n,g),v.start(nM(g,v,b,n.shouldReduceMotion&&LC.has(g)?{type:!1}:S,n,A));const T=v.animation;T&&h.push(T)}return l&&Promise.all(h).then(()=>{li.update(()=>{l&&VP(n,l)})}),h}function mN(n,e,t,i=0,a=1){const r=Array.from(n).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),l=n.size,u=(l-1)*i;return typeof t=="function"?t(r,l):a===1?r*i:u-r*i}function V1(n,e,t={}){const i=Fh(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const r=i?()=>Promise.all(hN(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return QP(n,e,h,m,g,v,t)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,m]=u==="beforeChildren"?[r,l]:[l,r];return h().then(()=>m())}else return Promise.all([r(),l(t.delay)])}function QP(n,e,t=0,i=0,a=0,r=1,l){const u=[];for(const h of n.variantChildren)h.notify("AnimationStart",e),u.push(V1(h,e,{...l,delay:t+(typeof i=="function"?0:i)+mN(n.variantChildren,h,i,a,r)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function JP(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(r=>V1(n,r,t));i=Promise.all(a)}else if(typeof e=="string")i=V1(n,e,t);else{const a=typeof e=="function"?Fh(n,e,t.custom):e;i=Promise.all(hN(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function pN(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const $P=ZE.length;function gN(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?gN(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<$P;t++){const i=ZE[t],a=n.props[i];(b0(a)||a===!1)&&(e[i]=a)}return e}const e5=[...YE].reverse(),t5=YE.length;function n5(n){return e=>Promise.all(e.map(({animation:t,options:i})=>JP(n,t,i)))}function i5(n){let e=n5(n),t=Nw(),i=!0;const a=h=>(m,g)=>{const v=Fh(n,g,h==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...M}=v;m={...m,...M,...S}}return m};function r(h){e=h(n)}function l(h){const{props:m}=n,g=gN(n.parent)||{},v=[],b=new Set;let S={},M=1/0;for(let T=0;T<t5;T++){const _=e5[T],L=t[_],O=m[_]!==void 0?m[_]:g[_],F=b0(O),D=_===h?L.isActive:null;D===!1&&(M=T);let U=O===g[_]&&O!==m[_]&&F;if(U&&i&&n.manuallyAnimateOnMount&&(U=!1),L.protectedKeys={...S},!L.isActive&&D===null||!O&&!L.prevProp||ab(O)||typeof O=="boolean")continue;const B=a5(L.prevProp,O);let H=B||_===h&&L.isActive&&!U&&F||T>M&&F,I=!1;const P=Array.isArray(O)?O:[O];let j=P.reduce(a(_),{});D===!1&&(j={});const{prevResolvedValues:Z={}}=L,W={...Z,...j},Y=z=>{H=!0,b.has(z)&&(I=!0,b.delete(z)),L.needsAnimating[z]=!0;const $=n.getValue(z);$&&($.liveStyle=!1)};for(const z in W){const $=j[z],X=Z[z];if(S.hasOwnProperty(z))continue;let N=!1;I1($)&&I1(X)?N=!pN($,X):N=$!==X,N?$!=null?Y(z):b.add(z):$!==void 0&&b.has(z)?Y(z):L.protectedKeys[z]=!0}L.prevProp=O,L.prevResolvedValues=j,L.isActive&&(S={...S,...j}),i&&n.blockInitialAnimation&&(H=!1);const ne=U&&B;H&&(!ne||I)&&v.push(...P.map(z=>{const $={type:_};if(typeof z=="string"&&i&&!ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:X}=n,N=Fh(X,z);if(X.enteringChildren&&N){const{delayChildren:G}=N.transition||{};$.delay=mN(X.enteringChildren,n,G)}}return{animation:z,options:$}}))}if(b.size){const T={};if(typeof m.initial!="boolean"){const _=Fh(n,Array.isArray(m.initial)?m.initial[0]:m.initial);_&&_.transition&&(T.transition=_.transition)}b.forEach(_=>{const L=n.getBaseTarget(_),O=n.getValue(_);O&&(O.liveStyle=!0),T[_]=L??null}),v.push({animation:T})}let A=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(v):Promise.resolve()}function u(h,m){if(t[h].isActive===m)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(h,m)),t[h].isActive=m;const g=l(h);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>t,reset:()=>{t=Nw(),i=!0}}}function a5(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!pN(e,n):!1}function yf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nw(){return{animate:yf(!0),whileInView:yf(),whileHover:yf(),whileTap:yf(),whileDrag:yf(),whileFocus:yf(),exit:yf()}}class Eu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class s5 extends Eu{constructor(e){super(e),e.animationState||(e.animationState=i5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ab(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let r5=0;class o5 extends Eu{constructor(){super(...arguments),this.id=r5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const l5={animation:{Feature:s5},exit:{Feature:o5}};function S0(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function X0(n){return{point:{x:n.pageX,y:n.pageY}}}const c5=n=>e=>XE(e)&&n(e,X0(e));function a0(n,e,t,i){return S0(n,e,c5(t),i)}const xN=1e-4,u5=1-xN,f5=1+xN,vN=.01,d5=0-vN,h5=0+vN;function gs(n){return n.max-n.min}function m5(n,e,t){return Math.abs(n-e)<=t}function Rw(n,e,t,i=.5){n.origin=i,n.originPoint=vi(e.min,e.max,n.origin),n.scale=gs(t)/gs(e),n.translate=vi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=u5&&n.scale<=f5||isNaN(n.scale))&&(n.scale=1),(n.translate>=d5&&n.translate<=h5||isNaN(n.translate))&&(n.translate=0)}function s0(n,e,t,i){Rw(n.x,e.x,t.x,i?i.originX:void 0),Rw(n.y,e.y,t.y,i?i.originY:void 0)}function Dw(n,e,t){n.min=t.min+e.min,n.max=n.min+gs(e)}function p5(n,e,t){Dw(n.x,e.x,t.x),Dw(n.y,e.y,t.y)}function Ow(n,e,t){n.min=e.min-t.min,n.max=n.min+gs(e)}function r0(n,e,t){Ow(n.x,e.x,t.x),Ow(n.y,e.y,t.y)}function Lr(n){return[n("x"),n("y")]}const yN=({current:n})=>n?n.ownerDocument.defaultView:null,Lw=(n,e)=>Math.abs(n-e);function g5(n,e){const t=Lw(n.x,e.x),i=Lw(n.y,e.y);return Math.sqrt(t**2+i**2)}class bN{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Z_(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,M=g5(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!M)return;const{point:A}=b,{timestamp:T}=Ta;this.history.push({...A,timestamp:T});const{onStart:_,onMove:L}=this.handlers;S||(_&&_(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Y_(S,this.transformPagePoint),li.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:M,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Z_(b.type==="pointercancel"?this.lastMoveEventInfo:Y_(S,this.transformPagePoint),this.history);this.startEvent&&M&&M(b,_),A&&A(b,_)},!XE(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=a||window;const u=X0(e),h=Y_(u,this.transformPagePoint),{point:m}=h,{timestamp:g}=Ta;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,Z_(h,this.history)),this.removeListeners=G0(a0(this.contextWindow,"pointermove",this.handlePointerMove),a0(this.contextWindow,"pointerup",this.handlePointerUp),a0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xu(this.updatePoint)}}function Y_(n,e){return e?{point:e(n.point)}:n}function Uw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Z_({point:n},e){return{point:n,delta:Uw(n,_N(e)),offset:Uw(n,x5(e)),velocity:v5(e,.1)}}function x5(n){return n[0]}function _N(n){return n[n.length-1]}function v5(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=_N(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>dl(e)));)t--;if(!i)return{x:0,y:0};const r=hl(a.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const l={x:(a.x-i.x)/r,y:(a.y-i.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function y5(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?vi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?vi(t,n,i.max):Math.min(n,t)),n}function Pw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function b5(n,{top:e,left:t,bottom:i,right:a}){return{x:Pw(n.x,t,a),y:Pw(n.y,e,i)}}function zw(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function _5(n,e){return{x:zw(n.x,e.x),y:zw(n.y,e.y)}}function S5(n,e){let t=.5;const i=gs(n),a=gs(e);return a>i?t=x0(e.min,e.max-i,n.min):i>a&&(t=x0(n.min,n.max-a,e.min)),tc(0,1,t)}function E5(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const H1=.35;function M5(n=H1){return n===!1?n=0:n===!0&&(n=H1),{x:Bw(n,"left","right"),y:Bw(n,"top","bottom")}}function Bw(n,e,t){return{min:Iw(n,e),max:Iw(n,t)}}function Iw(n,e){return typeof n=="number"?n:n[e]||0}const w5=new WeakMap;class T5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ii(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(X0(v).point)},l=(v,b)=>{const{drag:S,dragPropagation:M,onDragStart:A}=this.getProps();if(S&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LU(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(_=>{let L=this.getAxisMotionValue(_).get()||0;if(ml.test(L)){const{projection:O}=this.visualElement;if(O&&O.layout){const F=O.layout.layoutBox[_];F&&(L=gs(F)*(parseFloat(L)/100))}}this.originPoint[_]=L}),A&&li.postRender(()=>A(v,b)),F1(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:M,onDirectionLock:A,onDrag:T}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:_}=b;if(M&&this.currentDirection===null){this.currentDirection=A5(_),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,_),this.updateAxis("y",b.point,_),this.visualElement.render(),T&&T(v,b)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Lr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new bN(e,{onSessionStart:r,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:yN(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!i)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&li.postRender(()=>u(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Gx(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=y5(l,this.constraints[e],this.elastic[e])),r.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Oh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=b5(i.layoutBox,e):this.constraints=!1,this.elastic=M5(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Lr(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=E5(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Oh(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=CP(i,a.root,this.visualElement.getTransformPagePoint());let l=_5(a.layout.layoutBox,r);if(t){const u=t(wP(l));this.hasMutatedConstraints=!!u,u&&(l=aN(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Lr(g=>{if(!Gx(g,t,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,M={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...r,...v};return this.startAxisValueAnimation(g,M)});return Promise.all(m).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return F1(this.visualElement,e),i.start(nM(e,i,0,t,this.visualElement,!1))}stopAnimation(){Lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Lr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Lr(t=>{const{drag:i}=this.getProps();if(!Gx(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];r.set(e[t]-vi(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Oh(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Lr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();a[l]=S5({min:h,max:h},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Lr(l=>{if(!Gx(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(vi(h,m,a[l]))})}addListeners(){if(!this.visualElement.current)return;w5.set(this.visualElement,this);const e=this.visualElement.current,t=a0(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Oh(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),li.read(i);const l=S0(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Lr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),r(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:l=H1,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:r,dragElastic:l,dragMomentum:u}}}function Gx(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function A5(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class C5 extends Eu{constructor(e){super(e),this.removeGroupControls=Ur,this.removeListeners=Ur,this.controls=new T5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fw=n=>(e,t)=>{n&&li.postRender(()=>n(e,t))};class N5 extends Eu{constructor(){super(...arguments),this.removePointerDownListener=Ur}onPointerDown(e){this.session=new bN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Fw(e),onStart:Fw(t),onMove:i,onEnd:(r,l)=>{delete this.session,a&&li.postRender(()=>a(r,l))}}}mount(){this.removePointerDownListener=a0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Lp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(jt.test(n))n=parseFloat(n);else return n;const t=Vw(n,e.target.x),i=Vw(n,e.target.y);return`${t}% ${i}%`}},R5={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=vu.parse(n);if(a.length>5)return i;const r=vu.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=h;const m=vi(u,h,.5);return typeof a[2+l]=="number"&&(a[2+l]/=m),typeof a[3+l]=="number"&&(a[3+l]/=m),r(a)}};let K_=!1;class D5 extends K.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:r}=e;$U(O5),r&&(t.group&&t.group.add(r),i&&i.register&&a&&i.register(r),K_&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),kv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:r}=this.props,{projection:l}=i;return l&&(l.isPresent=r,K_=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==r?l.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?l.promote():l.relegate()||li.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;K_=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SN(n){const[e,t]=qC(),i=K.useContext(EE);return Ai.jsx(D5,{...n,layoutGroup:i,switchLayoutGroup:K.useContext(nN),isPresent:e,safeToRemove:t})}const O5={borderRadius:{...Lp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lp,borderTopRightRadius:Lp,borderBottomLeftRadius:Lp,borderBottomRightRadius:Lp,boxShadow:R5};function L5(n,e,t){const i=Ga(n)?n:Hh(n);return i.start(nM("",i,e,t)),i.animation}const U5=(n,e)=>n.depth-e.depth;class P5{constructor(){this.children=[],this.isDirty=!1}add(e){TE(this.children,e),this.isDirty=!0}remove(e){AE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U5),this.isDirty=!1,this.children.forEach(e)}}function z5(n,e){const t=zs.now(),i=({timestamp:a})=>{const r=a-t;r>=e&&(xu(i),n(r-e))};return li.setup(i,!0),()=>xu(i)}const EN=["TopLeft","TopRight","BottomLeft","BottomRight"],B5=EN.length,Hw=n=>typeof n=="string"?parseFloat(n):n,kw=n=>typeof n=="number"||jt.test(n);function I5(n,e,t,i,a,r){a?(n.opacity=vi(0,t.opacity??1,F5(i)),n.opacityExit=vi(e.opacity??1,0,V5(i))):r&&(n.opacity=vi(e.opacity??1,t.opacity??1,i));for(let l=0;l<B5;l++){const u=`border${EN[l]}Radius`;let h=Gw(e,u),m=Gw(t,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||kw(h)===kw(m)?(n[u]=Math.max(vi(Hw(h),Hw(m),i),0),(ml.test(m)||ml.test(h))&&(n[u]+="%")):n[u]=m}(e.rotate||t.rotate)&&(n.rotate=vi(e.rotate||0,t.rotate||0,i))}function Gw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const F5=MN(0,.5,uC),V5=MN(.5,.95,Ur);function MN(n,e,t){return i=>i<n?0:i>e?1:t(x0(n,e,i))}function qw(n,e){n.min=e.min,n.max=e.max}function Rr(n,e){qw(n.x,e.x),qw(n.y,e.y)}function jw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Xw(n,e,t,i,a){return n-=e,n=iy(n,1/t,i),a!==void 0&&(n=iy(n,1/a,i)),n}function H5(n,e=0,t=1,i=.5,a,r=n,l=n){if(ml.test(e)&&(e=parseFloat(e),e=vi(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=vi(r.min,r.max,i);n===r&&(u-=e),n.min=Xw(n.min,e,t,u,a),n.max=Xw(n.max,e,t,u,a)}function Ww(n,e,[t,i,a],r,l){H5(n,e[t],e[i],e[a],e.scale,r,l)}const k5=["x","scaleX","originX"],G5=["y","scaleY","originY"];function Yw(n,e,t,i){Ww(n.x,e,k5,t?t.x:void 0,i?i.x:void 0),Ww(n.y,e,G5,t?t.y:void 0,i?i.y:void 0)}function Zw(n){return n.translate===0&&n.scale===1}function wN(n){return Zw(n.x)&&Zw(n.y)}function Kw(n,e){return n.min===e.min&&n.max===e.max}function q5(n,e){return Kw(n.x,e.x)&&Kw(n.y,e.y)}function Qw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function TN(n,e){return Qw(n.x,e.x)&&Qw(n.y,e.y)}function Jw(n){return gs(n.x)/gs(n.y)}function $w(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class j5{constructor(){this.members=[]}add(e){TE(this.members,e),e.scheduleRender()}remove(e){if(AE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X5(n,e,t){let i="";const a=n.x.translate/e.x,r=n.y.translate/e.y,l=t?.z||0;if((a||r||l)&&(i=`translate3d(${a}px, ${r}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:b,skewX:S,skewY:M}=t;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),M&&(i+=`skewY(${M}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Q_=["","X","Y","Z"],W5=1e3;let Y5=0;function J_(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function AN(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=dN(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",li,!(a||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&AN(i)}function CN({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(l={},u=e?.()){this.id=Y5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q5),this.nodes.forEach(tz),this.nodes.forEach(nz),this.nodes.forEach(J5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new P5)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new RE),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=GC(l)&&!FU(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;li.read(()=>{v=window.innerWidth}),n(l,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=z5(b,250),kv.hasAnimatedSinceResize&&(kv.hasAnimatedSinceResize=!1,this.nodes.forEach(n3)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||oz,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=m.getProps(),_=!this.targetLayout||!TN(this.targetLayout,S),L=!v&&b;if(this.options.layoutRoot||this.resumeFrom||L||v&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...GE(M,"layout"),onPlay:A,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,L)}else v||n3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ez),this.nodes.forEach(Z5),this.nodes.forEach(K5)):this.nodes.forEach(t3),this.clearAllSnapshots();const u=zs.now();Ta.delta=tc(0,1e3/60,u-Ta.timestamp),Ta.timestamp=u,Ta.isProcessing=!0,V_.update.process(Ta),V_.preRender.process(Ta),V_.render.process(Ta),Ta.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($5),this.sharedNodes.forEach(az)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,li.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){li.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gs(this.snapshot.measuredBox.x)&&!gs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!wN(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||Pf(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),lz(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ii();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cz))){const{scroll:m}=this.root;m&&(Lh(u.x,m.offset.x),Lh(u.y,m.offset.y))}return u}removeElementScroll(l){const u=Ii();if(Rr(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Rr(u,l),Lh(u.x,g.offset.x),Lh(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const h=Ii();Rr(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Uh(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Pf(g.latestValues)&&Uh(h,g.latestValues)}return Pf(this.latestValues)&&Uh(h,this.latestValues),h}removeTransform(l){const u=Ii();Rr(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Pf(m.latestValues))continue;P1(m.latestValues)&&m.updateSnapshot();const g=Ii(),v=m.measurePageBox();Rr(g,v),Yw(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Pf(this.latestValues)&&Yw(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ta.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Ta.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ii(),this.relativeTargetOrigin=Ii(),r0(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ii(),this.targetWithTransforms=Ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),rN(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ii(),this.relativeTargetOrigin=Ii(),r0(this.relativeTargetOrigin,this.target,b.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||P1(this.parent.latestValues)||sN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ta.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Rr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;AP(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ii());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jw(this.prevProjectionDelta.x,this.projectionDelta.x),jw(this.prevProjectionDelta.y,this.projectionDelta.y)),s0(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!$w(this.projectionDelta.x,this.prevProjectionDelta.x)||!$w(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ph(),this.projectionDelta=Ph(),this.projectionDeltaWithTransform=Ph()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=Ph();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Ii(),S=h?h.source:void 0,M=this.layout?this.layout.source:void 0,A=S!==M,T=this.getStack(),_=!T||T.members.length<=1,L=!!(A&&!_&&this.options.crossfade===!0&&!this.path.some(rz));this.animationProgress=0;let O;this.mixTargetDelta=F=>{const D=F/1e3;i3(v.x,l.x,D),i3(v.y,l.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(r0(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,b,D),O&&q5(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ii()),Rr(O,this.relativeTarget)),A&&(this.animationValues=g,I5(g,m,this.latestValues,D,L,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=li.update(()=>{kv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hh(0)),this.currentAnimation=L5(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(W5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&NN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Ii();const v=gs(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const b=gs(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}Rr(u,h),Uh(u,g),s0(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new j5),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&J_("z",l,m,this.animationValues);for(let g=0;g<Q_.length;g++)J_(`rotate${Q_[g]}`,l,m,this.animationValues),J_(`skew${Q_[g]}`,l,m,this.animationValues);l.render();for(const g in m)l.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Hv(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Hv(u?.pointerEvents)||""),this.hasProjected&&!Pf(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=X5(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),l.transform=v;const{x:b,y:S}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,m.animationValues?l.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const M in _0){if(g[M]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:_}=_0[M],L=v==="none"?g[M]:A(g[M],m);if(T){const O=T.length;for(let F=0;F<O;F++)l[T[F]]=L}else _?this.options.visualElement.renderState.vars[M]=L:l[M]=L}this.options.layoutId&&(l.pointerEvents=m===this?Hv(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(e3),this.root.sharedNodes.clear()}}}function Z5(n){n.updateLayout()}function K5(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,r=e.source!==n.layout.source;a==="size"?Lr(g=>{const v=r?e.measuredBox[g]:e.layoutBox[g],b=gs(v);v.min=t[g].min,v.max=v.min+b}):NN(a,e.layoutBox,t)&&Lr(g=>{const v=r?e.measuredBox[g]:e.layoutBox[g],b=gs(t[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const l=Ph();s0(l,t,e.layoutBox);const u=Ph();r?s0(u,n.applyTransform(i,!0),e.measuredBox):s0(u,t,e.layoutBox);const h=!wN(l);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const S=Ii();r0(S,e.layoutBox,v.layoutBox);const M=Ii();r0(M,t,b.layoutBox),TN(S,M)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=S,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function Q5(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function J5(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $5(n){n.clearSnapshot()}function e3(n){n.clearMeasurements()}function t3(n){n.isLayoutDirty=!1}function ez(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function n3(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function tz(n){n.resolveTargetDelta()}function nz(n){n.calcProjection()}function iz(n){n.resetSkewAndRotation()}function az(n){n.removeLeadSnapshot()}function i3(n,e,t){n.translate=vi(e.translate,0,t),n.scale=vi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function a3(n,e,t,i){n.min=vi(e.min,t.min,i),n.max=vi(e.max,t.max,i)}function sz(n,e,t,i){a3(n.x,e.x,t.x,i),a3(n.y,e.y,t.y,i)}function rz(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const oz={duration:.45,ease:[.4,0,.1,1]},s3=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),r3=s3("applewebkit/")&&!s3("chrome/")?Math.round:Ur;function o3(n){n.min=r3(n.min),n.max=r3(n.max)}function lz(n){o3(n.x),o3(n.y)}function NN(n,e,t){return n==="position"||n==="preserve-aspect"&&!m5(Jw(e),Jw(t),.2)}function cz(n){return n!==n.root&&n.scroll?.wasRoot}const uz=CN({attachResizeListener:(n,e)=>S0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$_={current:void 0},RN=CN({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!$_.current){const n=new uz({});n.mount(window),n.setOptions({layoutScroll:!0}),$_.current=n}return $_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),fz={pan:{Feature:N5},drag:{Feature:C5,ProjectionNode:RN,MeasureLayout:SN}};function l3(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,r=i[a];r&&li.postRender(()=>r(e,X0(e)))}class dz extends Eu{mount(){const{current:e}=this.node;e&&(this.unmount=UU(e,(t,i)=>(l3(this.node,i,"Start"),a=>l3(this.node,a,"End"))))}unmount(){}}class hz extends Eu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=G0(S0(this.node.current,"focus",()=>this.onFocus()),S0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c3(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),r=i[a];r&&li.postRender(()=>r(e,X0(e)))}class mz extends Eu{mount(){const{current:e}=this.node;e&&(this.unmount=IU(e,(t,i)=>(c3(this.node,i,"Start"),(a,{success:r})=>c3(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const k1=new WeakMap,eS=new WeakMap,pz=n=>{const e=k1.get(n.target);e&&e(n)},gz=n=>{n.forEach(pz)};function xz({root:n,...e}){const t=n||document;eS.has(t)||eS.set(t,{});const i=eS.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(gz,{root:n,...e})),i[a]}function vz(n,e,t){const i=xz(e);return k1.set(n,t),i.observe(n),()=>{k1.delete(n),i.unobserve(n)}}const yz={some:0,all:1};class bz extends Eu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:r}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:yz[a]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,r&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=m?g:v;b&&b(h)};return vz(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(_z(e,t))&&this.startObserver()}unmount(){}}function _z({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Sz={inView:{Feature:bz},tap:{Feature:mz},focus:{Feature:hz},hover:{Feature:dz}},Ez={layout:{ProjectionNode:RN,MeasureLayout:SN}},Mz={...l5,...Sz,...fz,...Ez},or=MP(Mz,BP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),u3=n=>{const e=Tz(n);return e.charAt(0).toUpperCase()+e.slice(1)},DN=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Az=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=K.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:l,...u},h)=>K.createElement("svg",{ref:h,...Cz,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:DN("lucide",a),...!r&&!Az(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,g])=>K.createElement(m,g)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=(n,e)=>{const t=K.forwardRef(({className:i,...a},r)=>K.createElement(Nz,{ref:r,iconNode:e,className:DN(`lucide-${wz(u3(n))}`,`lucide-${n}`,i),...a}));return t.displayName=u3(n),t};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Dz=Ni("activity",Rz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Lz=Ni("book-open",Oz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Pz=Ni("bus",Uz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bz=Ni("chart-column",zz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fz=Ni("chevron-left",Iz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hz=Ni("chevron-right",Vz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gz=Ni("clock",kz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jz=Ni("dollar-sign",qz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],G1=Ni("facebook",Xz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],q1=Ni("instagram",Wz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Zz=Ni("lightbulb",Yz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],j1=Ni("linkedin",Kz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],X1=Ni("mail",Qz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$z=Ni("map-pin",Jz);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],t6=Ni("menu",e6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],i6=Ni("message-square",n6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],W1=Ni("phone",a6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],qx=Ni("quote",s6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],o6=Ni("school",r6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],c6=Ni("shield",l6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f3=Ni("user",u6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],d6=Ni("x",f6),ON="/assets/logo-DJil-N60.png";/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d3="popstate";function h6(n={}){function e(i,a){let{pathname:r,search:l,hash:u}=i.location;return Y1("",{pathname:r,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:E0(a)}return p6(e,t,null,n)}function ci(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _o(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m6(){return Math.random().toString(36).substring(2,10)}function h3(n,e){return{usr:n.state,key:n.key,idx:e}}function Y1(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?rm(e):e,state:t,key:e&&e.key||i||m6()}}function E0({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function rm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function p6(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,l=a.history,u="POP",h=null,m=g();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let T=g(),_=T==null?null:T-m;m=T,h&&h({action:u,location:A.location,delta:_})}function b(T,_){u="PUSH";let L=Y1(A.location,T,_);m=g()+1;let O=h3(L,m),F=A.createHref(L);try{l.pushState(O,"",F)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(F)}r&&h&&h({action:u,location:A.location,delta:1})}function S(T,_){u="REPLACE";let L=Y1(A.location,T,_);m=g();let O=h3(L,m),F=A.createHref(L);l.replaceState(O,"",F),r&&h&&h({action:u,location:A.location,delta:0})}function M(T){return g6(T)}let A={get action(){return u},get location(){return n(a,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(d3,v),h=T,()=>{a.removeEventListener(d3,v),h=null}},createHref(T){return e(a,T)},createURL:M,encodeLocation(T){let _=M(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:S,go(T){return l.go(T)}};return A}function g6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ci(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:E0(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function LN(n,e,t="/"){return x6(n,e,t,!1)}function x6(n,e,t,i){let a=typeof e=="string"?rm(e):e,r=ic(a.pathname||"/",t);if(r==null)return null;let l=UN(n);v6(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=N6(r);u=A6(l[h],m,i)}return u}function UN(n,e=[],t=[],i="",a=!1){let r=(l,u,h=a,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;ci(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=$l([i,g.relativePath]),b=t.concat(g);l.children&&l.children.length>0&&(ci(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),UN(l.children,e,b,v,h)),!(l.path==null&&!l.index)&&e.push({path:v,score:w6(v,l.index),routesMeta:b})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))r(l,u);else for(let h of PN(l.path))r(l,u,!0,h)}),e}function PN(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let l=PN(i.join("/")),u=[];return u.push(...l.map(h=>h===""?r:[r,h].join("/"))),a&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function v6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:T6(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var y6=/^:[\w-]+$/,b6=3,_6=2,S6=1,E6=10,M6=-2,m3=n=>n==="*";function w6(n,e){let t=n.split("/"),i=t.length;return t.some(m3)&&(i+=M6),e&&(i+=_6),t.filter(a=>!m3(a)).reduce((a,r)=>a+(y6.test(r)?b6:r===""?S6:E6),i)}function T6(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function A6(n,e,t=!1){let{routesMeta:i}=n,a={},r="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],m=u===i.length-1,g=r==="/"?e:e.slice(r.length)||"/",v=ay({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!v&&m&&t&&!i[i.length-1].route.index&&(v=ay({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:$l([r,v.pathname]),pathnameBase:L6($l([r,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(r=$l([r,v.pathnameBase]))}return l}function ay(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=C6(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let r=a[0],l=r.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},b)=>{if(g==="*"){let M=u[b]||"";l=r.slice(0,r.length-M.length).replace(/(.)\/+$/,"$1")}const S=u[b];return v&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:r,pathnameBase:l,pattern:n}}function C6(n,e=!1,t=!0){_o(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function N6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _o(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ic(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function R6(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?rm(n):n;return{pathname:t?t.startsWith("/")?t:D6(t,e):e,search:U6(i),hash:P6(a)}}function D6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function tS(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iM(n){let e=O6(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function aM(n,e,t,i=!1){let a;typeof n=="string"?a=rm(n):(a={...n},ci(!a.pathname||!a.pathname.includes("?"),tS("?","pathname","search",a)),ci(!a.pathname||!a.pathname.includes("#"),tS("#","pathname","hash",a)),ci(!a.search||!a.search.includes("#"),tS("#","search","hash",a)));let r=n===""||a.pathname==="",l=r?"/":a.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}u=v>=0?e[v]:"/"}let h=R6(a,u),m=l&&l!=="/"&&l.endsWith("/"),g=(r||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var $l=n=>n.join("/").replace(/\/\/+/g,"/"),L6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),U6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,P6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function z6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var zN=["POST","PUT","PATCH","DELETE"];new Set(zN);var B6=["GET",...zN];new Set(B6);var om=K.createContext(null);om.displayName="DataRouter";var rb=K.createContext(null);rb.displayName="DataRouterState";K.createContext(!1);var BN=K.createContext({isTransitioning:!1});BN.displayName="ViewTransition";var I6=K.createContext(new Map);I6.displayName="Fetchers";var F6=K.createContext(null);F6.displayName="Await";var So=K.createContext(null);So.displayName="Navigation";var W0=K.createContext(null);W0.displayName="Location";var Eo=K.createContext({outlet:null,matches:[],isDataRoute:!1});Eo.displayName="Route";var sM=K.createContext(null);sM.displayName="RouteError";function V6(n,{relative:e}={}){ci(lm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(So),{hash:a,pathname:r,search:l}=Y0(n,{relative:e}),u=r;return t!=="/"&&(u=r==="/"?t:$l([t,r])),i.createHref({pathname:u,search:l,hash:a})}function lm(){return K.useContext(W0)!=null}function Br(){return ci(lm(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(W0).location}var IN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FN(n){K.useContext(So).static||K.useLayoutEffect(n)}function cm(){let{isDataRoute:n}=K.useContext(Eo);return n?tB():H6()}function H6(){ci(lm(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(om),{basename:e,navigator:t}=K.useContext(So),{matches:i}=K.useContext(Eo),{pathname:a}=Br(),r=JSON.stringify(iM(i)),l=K.useRef(!1);return FN(()=>{l.current=!0}),K.useCallback((h,m={})=>{if(_o(l.current,IN),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=aM(h,JSON.parse(r),a,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:$l([e,g.pathname])),(m.replace?t.replace:t.push)(g,m.state,m)},[e,t,r,a,n])}var k6=K.createContext(null);function G6(n){let e=K.useContext(Eo).outlet;return e&&K.createElement(k6.Provider,{value:n},e)}function Y0(n,{relative:e}={}){let{matches:t}=K.useContext(Eo),{pathname:i}=Br(),a=JSON.stringify(iM(t));return K.useMemo(()=>aM(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function q6(n,e){return VN(n,e)}function VN(n,e,t,i){ci(lm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=K.useContext(So),{matches:r}=K.useContext(Eo),l=r[r.length-1],u=l?l.params:{},h=l?l.pathname:"/",m=l?l.pathnameBase:"/",g=l&&l.route;{let _=g&&g.path||"";HN(h,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=Br(),b;if(e){let _=typeof e=="string"?rm(e):e;ci(m==="/"||_.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=v;let S=b.pathname||"/",M=S;if(m!=="/"){let _=m.replace(/^\//,"").split("/");M="/"+S.replace(/^\//,"").split("/").slice(_.length).join("/")}let A=LN(n,{pathname:M});_o(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),_o(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Z6(A&&A.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:$l([m,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:$l([m,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,t,i);return e&&T?K.createElement(W0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function j6(){let n=eB(),e=z6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:r},"ErrorBoundary")," or"," ",K.createElement("code",{style:r},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:a},t):null,l)}var X6=K.createElement(j6,null),W6=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Eo.Provider,{value:this.props.routeContext},K.createElement(sM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y6({routeContext:n,match:e,children:t}){let i=K.useContext(om);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Eo.Provider,{value:n},t)}function Z6(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,r=t?.errors;if(r!=null){let h=a.findIndex(m=>m.route.id&&r?.[m.route.id]!==void 0);ci(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:g,errors:v}=t,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,m,g)=>{let v,b=!1,S=null,M=null;t&&(v=r&&m.route.id?r[m.route.id]:void 0,S=m.route.errorElement||X6,l&&(u<0&&g===0?(HN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):u===g&&(b=!0,M=m.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),T=()=>{let _;return v?_=S:b?_=M:m.route.Component?_=K.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=h,K.createElement(Y6,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:_})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?K.createElement(W6,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function rM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K6(n){let e=K.useContext(om);return ci(e,rM(n)),e}function Q6(n){let e=K.useContext(rb);return ci(e,rM(n)),e}function J6(n){let e=K.useContext(Eo);return ci(e,rM(n)),e}function oM(n){let e=J6(n),t=e.matches[e.matches.length-1];return ci(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $6(){return oM("useRouteId")}function eB(){let n=K.useContext(sM),e=Q6("useRouteError"),t=oM("useRouteError");return n!==void 0?n:e.errors?.[t]}function tB(){let{router:n}=K6("useNavigate"),e=oM("useNavigate"),t=K.useRef(!1);return FN(()=>{t.current=!0}),K.useCallback(async(a,r={})=>{_o(t.current,IN),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...r}))},[n,e])}var p3={};function HN(n,e,t){!e&&!p3[n]&&(p3[n]=!0,_o(!1,t))}K.memo(nB);function nB({routes:n,future:e,state:t}){return VN(n,void 0,t,e)}function iB({to:n,replace:e,state:t,relative:i}){ci(lm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=K.useContext(So);_o(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=K.useContext(Eo),{pathname:l}=Br(),u=cm(),h=aM(n,iM(r),l,i==="path"),m=JSON.stringify(h);return K.useEffect(()=>{u(JSON.parse(m),{replace:e,state:t,relative:i})},[u,m,i,e,t]),null}function kN(n){return G6(n.context)}function $n(n){ci(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aB({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:r=!1}){ci(!lm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:a,static:r,future:{}}),[l,a,r]);typeof t=="string"&&(t=rm(t));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:b="default"}=t,S=K.useMemo(()=>{let M=ic(h,l);return M==null?null:{location:{pathname:M,search:m,hash:g,state:v,key:b},navigationType:i}},[l,h,m,g,v,b,i]);return _o(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:K.createElement(So.Provider,{value:u},K.createElement(W0.Provider,{children:e,value:S}))}function sB({children:n,location:e}){return q6(Z1(n),e)}function Z1(n,e=[]){let t=[];return K.Children.forEach(n,(i,a)=>{if(!K.isValidElement(i))return;let r=[...e,a];if(i.type===K.Fragment){t.push.apply(t,Z1(i.props.children,r));return}ci(i.type===$n,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ci(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Z1(i.props.children,r)),t.push(l)}),t}var Gv="get",qv="application/x-www-form-urlencoded";function ob(n){return n!=null&&typeof n.tagName=="string"}function rB(n){return ob(n)&&n.tagName.toLowerCase()==="button"}function oB(n){return ob(n)&&n.tagName.toLowerCase()==="form"}function lB(n){return ob(n)&&n.tagName.toLowerCase()==="input"}function cB(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uB(n,e){return n.button===0&&(!e||e==="_self")&&!cB(n)}var jx=null;function fB(){if(jx===null)try{new FormData(document.createElement("form"),0),jx=!1}catch{jx=!0}return jx}var dB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nS(n){return n!=null&&!dB.has(n)?(_o(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qv}"`),null):n}function hB(n,e){let t,i,a,r,l;if(oB(n)){let u=n.getAttribute("action");i=u?ic(u,e):null,t=n.getAttribute("method")||Gv,a=nS(n.getAttribute("enctype"))||qv,r=new FormData(n)}else if(rB(n)||lB(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?ic(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Gv,a=nS(n.getAttribute("formenctype"))||nS(u.getAttribute("enctype"))||qv,r=new FormData(u,n),!fB()){let{name:m,type:g,value:v}=n;if(g==="image"){let b=m?`${m}.`:"";r.append(`${b}x`,"0"),r.append(`${b}y`,"0")}else m&&r.append(m,v)}}else{if(ob(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gv,i=null,a=qv,l=n}return r&&a==="text/plain"&&(l=r,r=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lM(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mB(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ic(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function pB(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gB(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xB(n,e,t){let i=await Promise.all(n.map(async a=>{let r=e.routes[a.route.id];if(r){let l=await pB(r,t);return l.links?l.links():[]}return[]}));return _B(i.flat(1).filter(gB).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function g3(n,e,t,i,a,r){let l=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,u=(h,m)=>t[m].pathname!==h.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==h.params["*"];return r==="assets"?e.filter((h,m)=>l(h,m)||u(h,m)):r==="data"?e.filter((h,m)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function vB(n,e,{includeHydrateFallback:t}={}){return yB(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function yB(n){return[...new Set(n)]}function bB(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function _B(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let r=JSON.stringify(bB(a));return t.has(r)||(t.add(r),i.push({key:r,link:a})),i},[])}function GN(){let n=K.useContext(om);return lM(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SB(){let n=K.useContext(rb);return lM(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cM=K.createContext(void 0);cM.displayName="FrameworkContext";function qN(){let n=K.useContext(cM);return lM(n,"You must render this element inside a <HydratedRouter> element"),n}function EB(n,e){let t=K.useContext(cM),[i,a]=K.useState(!1),[r,l]=K.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,b=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=_=>{_.forEach(L=>{l(L.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[n]),K.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let S=()=>{a(!0)},M=()=>{a(!1),l(!1)};return t?n!=="intent"?[r,b,{}]:[r,b,{onFocus:Up(u,S),onBlur:Up(h,M),onMouseEnter:Up(m,S),onMouseLeave:Up(g,M),onTouchStart:Up(v,S)}]:[!1,b,{}]}function Up(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MB({page:n,...e}){let{router:t}=GN(),i=K.useMemo(()=>LN(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?K.createElement(TB,{page:n,matches:i,...e}):null}function wB(n){let{manifest:e,routeModules:t}=qN(),[i,a]=K.useState([]);return K.useEffect(()=>{let r=!1;return xB(n,e,t).then(l=>{r||a(l)}),()=>{r=!0}},[n,e,t]),i}function TB({page:n,matches:e,...t}){let i=Br(),{manifest:a,routeModules:r}=qN(),{basename:l}=GN(),{loaderData:u,matches:h}=SB(),m=K.useMemo(()=>g3(n,e,h,a,i,"data"),[n,e,h,a,i]),g=K.useMemo(()=>g3(n,e,h,a,i,"assets"),[n,e,h,a,i]),v=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,A=!1;if(e.forEach(_=>{let L=a.routes[_.route.id];!L||!L.hasLoader||(!m.some(O=>O.route.id===_.route.id)&&_.route.id in u&&r[_.route.id]?.shouldRevalidate||L.hasClientLoader?A=!0:M.add(_.route.id))}),M.size===0)return[];let T=mB(n,l,"data");return A&&M.size>0&&T.searchParams.set("_routes",e.filter(_=>M.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[l,u,i,a,m,e,n,r]),b=K.useMemo(()=>vB(g,a),[g,a]),S=wB(g);return K.createElement(K.Fragment,null,v.map(M=>K.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),b.map(M=>K.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),S.map(({key:M,link:A})=>K.createElement("link",{key:M,nonce:t.nonce,...A})))}function AB(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jN&&(window.__reactRouterVersion="7.8.1")}catch{}function CB({basename:n,children:e,window:t}){let i=K.useRef();i.current==null&&(i.current=h6({window:t,v5Compat:!0}));let a=i.current,[r,l]=K.useState({action:a.action,location:a.location}),u=K.useCallback(h=>{K.startTransition(()=>l(h))},[l]);return K.useLayoutEffect(()=>a.listen(u),[a,u]),K.createElement(aB,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:a})}var XN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ki=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:r,replace:l,state:u,target:h,to:m,preventScrollReset:g,viewTransition:v,...b},S){let{basename:M}=K.useContext(So),A=typeof m=="string"&&XN.test(m),T,_=!1;if(typeof m=="string"&&A&&(T=m,jN))try{let I=new URL(window.location.href),P=m.startsWith("//")?new URL(I.protocol+m):new URL(m),j=ic(P.pathname,M);P.origin===I.origin&&j!=null?m=j+P.search+P.hash:_=!0}catch{_o(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=V6(m,{relative:a}),[O,F,D]=EB(i,b),U=DB(m,{replace:l,state:u,target:h,preventScrollReset:g,relative:a,viewTransition:v});function B(I){e&&e(I),I.defaultPrevented||U(I)}let H=K.createElement("a",{...b,...D,href:T||L,onClick:_||r?e:B,ref:AB(S,F),target:h,"data-discover":!A&&t==="render"?"true":void 0});return O&&!A?K.createElement(K.Fragment,null,H,K.createElement(MB,{page:L})):H});Ki.displayName="Link";var WN=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:r,to:l,viewTransition:u,children:h,...m},g){let v=Y0(l,{relative:m.relative}),b=Br(),S=K.useContext(rb),{navigator:M,basename:A}=K.useContext(So),T=S!=null&&zB(v)&&u===!0,_=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,L=b.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(L=L.toLowerCase(),O=O?O.toLowerCase():null,_=_.toLowerCase()),O&&A&&(O=ic(O,A)||O);const F=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=L===_||!a&&L.startsWith(_)&&L.charAt(F)==="/",U=O!=null&&(O===_||!a&&O.startsWith(_)&&O.charAt(_.length)==="/"),B={isActive:D,isPending:U,isTransitioning:T},H=D?e:void 0,I;typeof i=="function"?I=i(B):I=[i,D?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof r=="function"?r(B):r;return K.createElement(Ki,{...m,"aria-current":H,className:I,ref:g,style:P,to:l,viewTransition:u},typeof h=="function"?h(B):h)});WN.displayName="NavLink";var NB=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:r,method:l=Gv,action:u,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,...b},S)=>{let M=UB(),A=PB(u,{relative:m}),T=l.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&XN.test(u),L=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let F=O.nativeEvent.submitter,D=F?.getAttribute("formmethod")||l;M(F||O.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:a,state:r,relative:m,preventScrollReset:g,viewTransition:v})};return K.createElement("form",{ref:S,method:T,action:A,onSubmit:i?h:L,...b,"data-discover":!_&&n==="render"?"true":void 0})});NB.displayName="Form";function RB(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YN(n){let e=K.useContext(om);return ci(e,RB(n)),e}function DB(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:r,viewTransition:l}={}){let u=cm(),h=Br(),m=Y0(n,{relative:r});return K.useCallback(g=>{if(uB(g,e)){g.preventDefault();let v=t!==void 0?t:E0(h)===E0(m);u(n,{replace:v,state:i,preventScrollReset:a,relative:r,viewTransition:l})}},[h,u,m,t,i,e,n,a,r,l])}var OB=0,LB=()=>`__${String(++OB)}__`;function UB(){let{router:n}=YN("useSubmit"),{basename:e}=K.useContext(So),t=$6();return K.useCallback(async(i,a={})=>{let{action:r,method:l,encType:u,formData:h,body:m}=hB(i,e);if(a.navigate===!1){let g=a.fetcherKey||LB();await n.fetch(g,t,a.action||r,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||r,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function PB(n,{relative:e}={}){let{basename:t}=K.useContext(So),i=K.useContext(Eo);ci(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...Y0(n||".",{relative:e})},l=Br();if(n==null){r.search=l.search;let u=new URLSearchParams(r.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();r.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:$l([t,r.pathname])),E0(r)}function zB(n,{relative:e}={}){let t=K.useContext(BN);ci(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YN("useViewTransitionState"),a=Y0(n,{relative:e});if(!t.isTransitioning)return!1;let r=ic(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ic(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ay(a.pathname,l)!=null||ay(a.pathname,r)!=null}const BB=()=>{const[n,e]=K.useState(!1),[t,i]=K.useState(null),a=Br(),r=a.pathname.startsWith("/admin"),l=[{name:"Home",to:"/"},{name:"Admissions",to:"/admissions"},{name:"Academics",to:"/academics"},{name:"Activities",children:[{name:"Curricular Activities",to:"/activities/curricular"},{name:"Co-Curricular Activities",to:"/activities/co-curricular"},{name:"Extra-Curricular Activities",to:"/activities/extra-curricular"}]},{name:"Events",to:"/events"},{name:"About Us",to:"/about"},{name:"Career",to:"/career"},{name:"Contact Us",to:"/contact"}],u=m=>m.to?a.pathname===m.to:m.children?m.children.some(g=>a.pathname===g.to):!1,h=()=>{e(!1),i(null)};return p.createElement("header",{className:"w-full sticky top-0 z-50 bg-white shadow-md"},p.createElement("div",{className:"flex items-center justify-between px-4 md:px-10 py-3"},p.createElement("div",{className:"flex items-center space-x-2"},p.createElement(Ki,{to:"/"},p.createElement("img",{src:ON,alt:"Logo",className:"h-15 md:h-19"}))),p.createElement("div",{className:"hidden lg:flex items-center space-x-6 text-sm text-gray-700"},p.createElement("div",{className:"flex items-center space-x-1"},p.createElement(W1,{size:16}),p.createElement("a",{href:"+91 9081544225"},"+91 9081544225")),p.createElement("div",{className:"flex items-center space-x-1"},p.createElement(X1,{size:16}),p.createElement("span",null,"holyredeemereng@gmail.com")),p.createElement("div",{className:"flex space-x-4 text-blue-900"},p.createElement("a",{href:"#","aria-label":"Facebook"},p.createElement(G1,{size:18})),p.createElement("a",{href:"#","aria-label":"Instagram"},p.createElement(q1,{size:18})),p.createElement("a",{href:"#","aria-label":"LinkedIn"},p.createElement(j1,{size:18})))),!r&&p.createElement("button",{onClick:()=>e(!n),className:"lg:hidden focus:outline-none text-gray-800","aria-label":"Toggle menu"},n?p.createElement(d6,{size:28}):p.createElement(t6,{size:28}))),!r&&p.createElement("nav",{className:"hidden lg:flex justify-center border-t border-blue-900 bg-white"},p.createElement("ul",{className:"flex space-x-8 py-3 font-medium text-gray-800"},l.map(m=>p.createElement("li",{key:m.name,className:"relative",onMouseEnter:()=>i(m.name),onMouseLeave:()=>i(null)},m.children?p.createElement(p.Fragment,null,p.createElement("button",{type:"button",className:`flex items-center gap-1 hover:text-blue-900 transition-colors duration-300 ${u(m)?"text-blue-900 font-bold":""}`},m.name,p.createElement("svg",{className:`w-4 h-4 transition-transform duration-200 ${t===m.name?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))),t===m.name&&p.createElement("div",{className:"absolute left-1/2 top-full z-40 flex w-max -translate-x-1/2 pt-4"},p.createElement("div",{className:"w-72 rounded-xl bg-white shadow-xl border border-gray-100 py-3"},m.children.map(g=>p.createElement(Ki,{key:g.name,to:g.to,className:`block px-5 py-2 text-sm hover:bg-blue-50 hover:text-blue-900 transition ${a.pathname===g.to?"text-blue-900 font-semibold":"text-gray-700"}`},g.name))))):p.createElement(Ki,{to:m.to,className:`hover:text-blue-900 transition-colors duration-300 ${u(m)?"text-blue-900 font-bold":""}`},m.name))))),!r&&p.createElement(XU,null,n&&p.createElement(or.nav,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"lg:hidden bg-white border-t border-blue-900 shadow-md"},p.createElement("ul",{className:"flex flex-col space-y-4 p-5 font-medium text-gray-800"},l.map(m=>p.createElement("li",{key:m.name},m.children?p.createElement("div",null,p.createElement("button",{type:"button",className:`w-full flex items-center justify-between text-left hover:text-blue-900 transition-colors duration-300 ${u(m)?"text-blue-900 font-bold":""}`,onClick:()=>i(g=>g===m.name?null:m.name)},m.name,p.createElement("svg",{className:`w-4 h-4 transition-transform duration-200 ${t===m.name?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))),t===m.name&&p.createElement("div",{className:"mt-3 space-y-3 pl-3 border-l border-blue-100"},m.children.map(g=>p.createElement(Ki,{key:g.name,to:g.to,className:`block text-sm hover:text-blue-900 transition-colors duration-300 ${a.pathname===g.to?"text-blue-900 font-semibold":"text-gray-700"}`,onClick:h},g.name)))):p.createElement(Ki,{to:m.to,className:`block hover:text-blue-900 transition-colors duration-300 ${u(m)?"text-blue-900 font-bold":""}`,onClick:h},m.name))),p.createElement("div",{className:"mt-6 space-y-3 text-sm text-gray-700"},p.createElement("div",{className:"flex items-center space-x-2"},p.createElement(W1,{size:16}),p.createElement("span",null,"+91 9081544225")),p.createElement("div",{className:"flex items-center space-x-2"},p.createElement(X1,{size:16}),p.createElement("span",null,"holyredeemereng@gmail.com")),p.createElement("div",{className:"flex space-x-4 text-blue-900 pt-2"},p.createElement("a",{href:"#","aria-label":"Facebook"},p.createElement(G1,{size:20})),p.createElement("a",{href:"#","aria-label":"Instagram"},p.createElement(q1,{size:20})),p.createElement("a",{href:"#","aria-label":"LinkedIn"},p.createElement(j1,{size:20}))))))))};function ZN(n,e){return function(){return n.apply(e,arguments)}}const{toString:IB}=Object.prototype,{getPrototypeOf:uM}=Object,{iterator:lb,toStringTag:KN}=Symbol,cb=(n=>e=>{const t=IB.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Mo=n=>(n=n.toLowerCase(),e=>cb(e)===n),ub=n=>e=>typeof e===n,{isArray:um}=Array,Gh=ub("undefined");function Z0(n){return n!==null&&!Gh(n)&&n.constructor!==null&&!Gh(n.constructor)&&Fs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const QN=Mo("ArrayBuffer");function FB(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&QN(n.buffer),e}const VB=ub("string"),Fs=ub("function"),JN=ub("number"),K0=n=>n!==null&&typeof n=="object",HB=n=>n===!0||n===!1,jv=n=>{if(cb(n)!=="object")return!1;const e=uM(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KN in n)&&!(lb in n)},kB=n=>{if(!K0(n)||Z0(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},GB=Mo("Date"),qB=Mo("File"),jB=Mo("Blob"),XB=Mo("FileList"),WB=n=>K0(n)&&Fs(n.pipe),YB=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Fs(n.append)&&((e=cb(n))==="formdata"||e==="object"&&Fs(n.toString)&&n.toString()==="[object FormData]"))},ZB=Mo("URLSearchParams"),[KB,QB,JB,$B]=["ReadableStream","Request","Response","Headers"].map(Mo),eI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Q0(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),um(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{if(Z0(n))return;const r=t?Object.getOwnPropertyNames(n):Object.keys(n),l=r.length;let u;for(i=0;i<l;i++)u=r[i],e.call(null,n[u],u,n)}}function $N(n,e){if(Z0(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const Vf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eR=n=>!Gh(n)&&n!==Vf;function K1(){const{caseless:n,skipUndefined:e}=eR(this)&&this||{},t={},i=(a,r)=>{const l=n&&$N(t,r)||r;jv(t[l])&&jv(a)?t[l]=K1(t[l],a):jv(a)?t[l]=K1({},a):um(a)?t[l]=a.slice():(!e||!Gh(a))&&(t[l]=a)};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&Q0(arguments[a],i);return t}const tI=(n,e,t,{allOwnKeys:i}={})=>(Q0(e,(a,r)=>{t&&Fs(a)?n[r]=ZN(a,t):n[r]=a},{allOwnKeys:i}),n),nI=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),iI=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},aI=(n,e,t,i)=>{let a,r,l;const u={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),r=a.length;r-- >0;)l=a[r],(!i||i(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&uM(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},sI=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},rI=n=>{if(!n)return null;if(um(n))return n;let e=n.length;if(!JN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},oI=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&uM(Uint8Array)),lI=(n,e)=>{const i=(n&&n[lb]).call(n);let a;for(;(a=i.next())&&!a.done;){const r=a.value;e.call(n,r[0],r[1])}},cI=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},uI=Mo("HTMLFormElement"),fI=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),x3=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),dI=Mo("RegExp"),tR=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Q0(t,(a,r)=>{let l;(l=e(a,r,n))!==!1&&(i[r]=l||a)}),Object.defineProperties(n,i)},hI=n=>{tR(n,(e,t)=>{if(Fs(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Fs(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mI=(n,e)=>{const t={},i=a=>{a.forEach(r=>{t[r]=!0})};return um(n)?i(n):i(String(n).split(e)),t},pI=()=>{},gI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function xI(n){return!!(n&&Fs(n.append)&&n[KN]==="FormData"&&n[lb])}const vI=n=>{const e=new Array(10),t=(i,a)=>{if(K0(i)){if(e.indexOf(i)>=0)return;if(Z0(i))return i;if(!("toJSON"in i)){e[a]=i;const r=um(i)?[]:{};return Q0(i,(l,u)=>{const h=t(l,a+1);!Gh(h)&&(r[u]=h)}),e[a]=void 0,r}}return i};return t(n,0)},yI=Mo("AsyncFunction"),bI=n=>n&&(K0(n)||Fs(n))&&Fs(n.then)&&Fs(n.catch),nR=((n,e)=>n?setImmediate:e?((t,i)=>(Vf.addEventListener("message",({source:a,data:r})=>{a===Vf&&r===t&&i.length&&i.shift()()},!1),a=>{i.push(a),Vf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Fs(Vf.postMessage)),_I=typeof queueMicrotask<"u"?queueMicrotask.bind(Vf):typeof process<"u"&&process.nextTick||nR,SI=n=>n!=null&&Fs(n[lb]),Ue={isArray:um,isArrayBuffer:QN,isBuffer:Z0,isFormData:YB,isArrayBufferView:FB,isString:VB,isNumber:JN,isBoolean:HB,isObject:K0,isPlainObject:jv,isEmptyObject:kB,isReadableStream:KB,isRequest:QB,isResponse:JB,isHeaders:$B,isUndefined:Gh,isDate:GB,isFile:qB,isBlob:jB,isRegExp:dI,isFunction:Fs,isStream:WB,isURLSearchParams:ZB,isTypedArray:oI,isFileList:XB,forEach:Q0,merge:K1,extend:tI,trim:eI,stripBOM:nI,inherits:iI,toFlatObject:aI,kindOf:cb,kindOfTest:Mo,endsWith:sI,toArray:rI,forEachEntry:lI,matchAll:cI,isHTMLForm:uI,hasOwnProperty:x3,hasOwnProp:x3,reduceDescriptors:tR,freezeMethods:hI,toObjectSet:mI,toCamelCase:fI,noop:pI,toFiniteNumber:gI,findKey:$N,global:Vf,isContextDefined:eR,isSpecCompliantForm:xI,toJSONObject:vI,isAsyncFn:yI,isThenable:bI,setImmediate:nR,asap:_I,isIterable:SI};function sn(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}Ue.inherits(sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const iR=sn.prototype,aR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{aR[n]={value:n}});Object.defineProperties(sn,aR);Object.defineProperty(iR,"isAxiosError",{value:!0});sn.from=(n,e,t,i,a,r)=>{const l=Object.create(iR);Ue.toFlatObject(n,l,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const u=n&&n.message?n.message:"Error",h=e==null&&n?n.code:e;return sn.call(l,u,h,t,i,a),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",r&&Object.assign(l,r),l};const EI=null;function Q1(n){return Ue.isPlainObject(n)||Ue.isArray(n)}function sR(n){return Ue.endsWith(n,"[]")?n.slice(0,-2):n}function v3(n,e,t){return n?n.concat(e).map(function(a,r){return a=sR(a),!t&&r?"["+a+"]":a}).join(t?".":""):e}function MI(n){return Ue.isArray(n)&&!n.some(Q1)}const wI=Ue.toFlatObject(Ue,{},null,function(e){return/^is[A-Z]/.test(e)});function fb(n,e,t){if(!Ue.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ue.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,T){return!Ue.isUndefined(T[A])});const i=t.metaTokens,a=t.visitor||g,r=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(e);if(!Ue.isFunction(a))throw new TypeError("visitor must be a function");function m(M){if(M===null)return"";if(Ue.isDate(M))return M.toISOString();if(Ue.isBoolean(M))return M.toString();if(!h&&Ue.isBlob(M))throw new sn("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(M)||Ue.isTypedArray(M)?h&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function g(M,A,T){let _=M;if(M&&!T&&typeof M=="object"){if(Ue.endsWith(A,"{}"))A=i?A:A.slice(0,-2),M=JSON.stringify(M);else if(Ue.isArray(M)&&MI(M)||(Ue.isFileList(M)||Ue.endsWith(A,"[]"))&&(_=Ue.toArray(M)))return A=sR(A),_.forEach(function(O,F){!(Ue.isUndefined(O)||O===null)&&e.append(l===!0?v3([A],F,r):l===null?A:A+"[]",m(O))}),!1}return Q1(M)?!0:(e.append(v3(T,A,r),m(M)),!1)}const v=[],b=Object.assign(wI,{defaultVisitor:g,convertValue:m,isVisitable:Q1});function S(M,A){if(!Ue.isUndefined(M)){if(v.indexOf(M)!==-1)throw Error("Circular reference detected in "+A.join("."));v.push(M),Ue.forEach(M,function(_,L){(!(Ue.isUndefined(_)||_===null)&&a.call(e,_,Ue.isString(L)?L.trim():L,A,b))===!0&&S(_,A?A.concat(L):[L])}),v.pop()}}if(!Ue.isObject(n))throw new TypeError("data must be an object");return S(n),e}function y3(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function fM(n,e){this._pairs=[],n&&fb(n,this,e)}const rR=fM.prototype;rR.append=function(e,t){this._pairs.push([e,t])};rR.toString=function(e){const t=e?function(i){return e.call(this,i,y3)}:y3;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function TI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oR(n,e,t){if(!e)return n;const i=t&&t.encode||TI;Ue.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let r;if(a?r=a(e,t):r=Ue.isURLSearchParams(e)?e.toString():new fM(e,t).toString(i),r){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class b3{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ue.forEach(this.handlers,function(i){i!==null&&e(i)})}}const lR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AI=typeof URLSearchParams<"u"?URLSearchParams:fM,CI=typeof FormData<"u"?FormData:null,NI=typeof Blob<"u"?Blob:null,RI={isBrowser:!0,classes:{URLSearchParams:AI,FormData:CI,Blob:NI},protocols:["http","https","file","blob","url","data"]},dM=typeof window<"u"&&typeof document<"u",J1=typeof navigator=="object"&&navigator||void 0,DI=dM&&(!J1||["ReactNative","NativeScript","NS"].indexOf(J1.product)<0),OI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LI=dM&&window.location.href||"http://localhost",UI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dM,hasStandardBrowserEnv:DI,hasStandardBrowserWebWorkerEnv:OI,navigator:J1,origin:LI},Symbol.toStringTag,{value:"Module"})),ka={...UI,...RI};function PI(n,e){return fb(n,new ka.classes.URLSearchParams,{visitor:function(t,i,a,r){return ka.isNode&&Ue.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function zI(n){return Ue.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BI(n){const e={},t=Object.keys(n);let i;const a=t.length;let r;for(i=0;i<a;i++)r=t[i],e[r]=n[r];return e}function cR(n){function e(t,i,a,r){let l=t[r++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=r>=t.length;return l=!l&&Ue.isArray(a)?a.length:l,h?(Ue.hasOwnProp(a,l)?a[l]=[a[l],i]:a[l]=i,!u):((!a[l]||!Ue.isObject(a[l]))&&(a[l]=[]),e(t,i,a[l],r)&&Ue.isArray(a[l])&&(a[l]=BI(a[l])),!u)}if(Ue.isFormData(n)&&Ue.isFunction(n.entries)){const t={};return Ue.forEachEntry(n,(i,a)=>{e(zI(i),a,t,0)}),t}return null}function II(n,e,t){if(Ue.isString(n))try{return(e||JSON.parse)(n),Ue.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const J0={transitional:lR,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,r=Ue.isObject(e);if(r&&Ue.isHTMLForm(e)&&(e=new FormData(e)),Ue.isFormData(e))return a?JSON.stringify(cR(e)):e;if(Ue.isArrayBuffer(e)||Ue.isBuffer(e)||Ue.isStream(e)||Ue.isFile(e)||Ue.isBlob(e)||Ue.isReadableStream(e))return e;if(Ue.isArrayBufferView(e))return e.buffer;if(Ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return PI(e,this.formSerializer).toString();if((u=Ue.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return fb(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),II(e)):e}],transformResponse:[function(e){const t=this.transitional||J0.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Ue.isResponse(e)||Ue.isReadableStream(e))return e;if(e&&Ue.isString(e)&&(i&&!this.responseType||a)){const l=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?sn.from(u,sn.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ka.classes.FormData,Blob:ka.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],n=>{J0.headers[n]={}});const FI=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VI=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(l){a=l.indexOf(":"),t=l.substring(0,a).trim().toLowerCase(),i=l.substring(a+1).trim(),!(!t||e[t]&&FI[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},_3=Symbol("internals");function Pp(n){return n&&String(n).trim().toLowerCase()}function Xv(n){return n===!1||n==null?n:Ue.isArray(n)?n.map(Xv):String(n)}function HI(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const kI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function iS(n,e,t,i,a){if(Ue.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!Ue.isString(e)){if(Ue.isString(i))return e.indexOf(i)!==-1;if(Ue.isRegExp(i))return i.test(e)}}function GI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function qI(n,e){const t=Ue.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,r,l){return this[i].call(this,e,a,r,l)},configurable:!0})})}let Vs=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function r(u,h,m){const g=Pp(h);if(!g)throw new Error("header name must be a non-empty string");const v=Ue.findKey(a,g);(!v||a[v]===void 0||m===!0||m===void 0&&a[v]!==!1)&&(a[v||h]=Xv(u))}const l=(u,h)=>Ue.forEach(u,(m,g)=>r(m,g,h));if(Ue.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Ue.isString(e)&&(e=e.trim())&&!kI(e))l(VI(e),t);else if(Ue.isObject(e)&&Ue.isIterable(e)){let u={},h,m;for(const g of e){if(!Ue.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[m=g[0]]=(h=u[m])?Ue.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}l(u,t)}else e!=null&&r(t,e,i);return this}get(e,t){if(e=Pp(e),e){const i=Ue.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return HI(a);if(Ue.isFunction(t))return t.call(this,a,i);if(Ue.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pp(e),e){const i=Ue.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||iS(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function r(l){if(l=Pp(l),l){const u=Ue.findKey(i,l);u&&(!t||iS(i,i[u],u,t))&&(delete i[u],a=!0)}}return Ue.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const r=t[i];(!e||iS(this,this[r],r,e,!0))&&(delete this[r],a=!0)}return a}normalize(e){const t=this,i={};return Ue.forEach(this,(a,r)=>{const l=Ue.findKey(i,r);if(l){t[l]=Xv(a),delete t[r];return}const u=e?GI(r):String(r).trim();u!==r&&delete t[r],t[u]=Xv(a),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ue.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&Ue.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[_3]=this[_3]={accessors:{}}).accessors,a=this.prototype;function r(l){const u=Pp(l);i[u]||(qI(a,l),i[u]=!0)}return Ue.isArray(e)?e.forEach(r):r(e),this}};Vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(Vs.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Ue.freezeMethods(Vs);function aS(n,e){const t=this||J0,i=e||t,a=Vs.from(i.headers);let r=i.data;return Ue.forEach(n,function(u){r=u.call(t,r,a.normalize(),e?e.status:void 0)}),a.normalize(),r}function uR(n){return!!(n&&n.__CANCEL__)}function fm(n,e,t){sn.call(this,n??"canceled",sn.ERR_CANCELED,e,t),this.name="CanceledError"}Ue.inherits(fm,sn,{__CANCEL__:!0});function fR(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new sn("Request failed with status code "+t.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function jI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function XI(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,r=0,l;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=i[r];l||(l=m),t[a]=h,i[a]=m;let v=r,b=0;for(;v!==a;)b+=t[v++],v=v%n;if(a=(a+1)%n,a===r&&(r=(r+1)%n),m-l<e)return;const S=g&&m-g;return S?Math.round(b*1e3/S):void 0}}function WI(n,e){let t=0,i=1e3/e,a,r;const l=(m,g=Date.now())=>{t=g,a=null,r&&(clearTimeout(r),r=null),n(...m)};return[(...m)=>{const g=Date.now(),v=g-t;v>=i?l(m,g):(a=m,r||(r=setTimeout(()=>{r=null,l(a)},i-v)))},()=>a&&l(a)]}const sy=(n,e,t=3)=>{let i=0;const a=XI(50,250);return WI(r=>{const l=r.loaded,u=r.lengthComputable?r.total:void 0,h=l-i,m=a(h),g=l<=u;i=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:r,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(v)},t)},S3=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},E3=n=>(...e)=>Ue.asap(()=>n(...e)),YI=ka.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ka.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ka.origin),ka.navigator&&/(msie|trident)/i.test(ka.navigator.userAgent)):()=>!0,ZI=ka.hasStandardBrowserEnv?{write(n,e,t,i,a,r,l){if(typeof document>"u")return;const u=[`${n}=${encodeURIComponent(e)}`];Ue.isNumber(t)&&u.push(`expires=${new Date(t).toUTCString()}`),Ue.isString(i)&&u.push(`path=${i}`),Ue.isString(a)&&u.push(`domain=${a}`),r===!0&&u.push("secure"),Ue.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function KI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function QI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function dR(n,e,t){let i=!KI(e);return n&&(i||t==!1)?QI(n,e):e}const M3=n=>n instanceof Vs?{...n}:n;function Qf(n,e){e=e||{};const t={};function i(m,g,v,b){return Ue.isPlainObject(m)&&Ue.isPlainObject(g)?Ue.merge.call({caseless:b},m,g):Ue.isPlainObject(g)?Ue.merge({},g):Ue.isArray(g)?g.slice():g}function a(m,g,v,b){if(Ue.isUndefined(g)){if(!Ue.isUndefined(m))return i(void 0,m,v,b)}else return i(m,g,v,b)}function r(m,g){if(!Ue.isUndefined(g))return i(void 0,g)}function l(m,g){if(Ue.isUndefined(g)){if(!Ue.isUndefined(m))return i(void 0,m)}else return i(void 0,g)}function u(m,g,v){if(v in e)return i(m,g);if(v in n)return i(void 0,m)}const h={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g,v)=>a(M3(m),M3(g),v,!0)};return Ue.forEach(Object.keys({...n,...e}),function(g){const v=h[g]||a,b=v(n[g],e[g],g);Ue.isUndefined(b)&&v!==u||(t[g]=b)}),t}const hR=n=>{const e=Qf({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:r,headers:l,auth:u}=e;if(e.headers=l=Vs.from(l),e.url=oR(dR(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Ue.isFormData(t)){if(ka.hasStandardBrowserEnv||ka.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Ue.isFunction(t.getHeaders)){const h=t.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([g,v])=>{m.includes(g.toLowerCase())&&l.set(g,v)})}}if(ka.hasStandardBrowserEnv&&(i&&Ue.isFunction(i)&&(i=i(e)),i||i!==!1&&YI(e.url))){const h=a&&r&&ZI.read(r);h&&l.set(a,h)}return e},JI=typeof XMLHttpRequest<"u",$I=JI&&function(n){return new Promise(function(t,i){const a=hR(n);let r=a.data;const l=Vs.from(a.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a,g,v,b,S,M;function A(){S&&S(),M&&M(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(a.method.toUpperCase(),a.url,!0),T.timeout=a.timeout;function _(){if(!T)return;const O=Vs.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),D={data:!u||u==="text"||u==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:O,config:n,request:T};fR(function(B){t(B),A()},function(B){i(B),A()},D),T=null}"onloadend"in T?T.onloadend=_:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(_)},T.onabort=function(){T&&(i(new sn("Request aborted",sn.ECONNABORTED,n,T)),T=null)},T.onerror=function(F){const D=F&&F.message?F.message:"Network Error",U=new sn(D,sn.ERR_NETWORK,n,T);U.event=F||null,i(U),T=null},T.ontimeout=function(){let F=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||lR;a.timeoutErrorMessage&&(F=a.timeoutErrorMessage),i(new sn(F,D.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,n,T)),T=null},r===void 0&&l.setContentType(null),"setRequestHeader"in T&&Ue.forEach(l.toJSON(),function(F,D){T.setRequestHeader(D,F)}),Ue.isUndefined(a.withCredentials)||(T.withCredentials=!!a.withCredentials),u&&u!=="json"&&(T.responseType=a.responseType),m&&([b,M]=sy(m,!0),T.addEventListener("progress",b)),h&&T.upload&&([v,S]=sy(h),T.upload.addEventListener("progress",v),T.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(g=O=>{T&&(i(!O||O.type?new fm(null,n,T):O),T.abort(),T=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const L=jI(a.url);if(L&&ka.protocols.indexOf(L)===-1){i(new sn("Unsupported protocol "+L+":",sn.ERR_BAD_REQUEST,n));return}T.send(r||null)})},e8=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const r=function(m){if(!a){a=!0,u();const g=m instanceof Error?m:this.reason;i.abort(g instanceof sn?g:new fm(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,r(new sn(`timeout ${e} of ms exceeded`,sn.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(r):m.removeEventListener("abort",r)}),n=null)};n.forEach(m=>m.addEventListener("abort",r));const{signal:h}=i;return h.unsubscribe=()=>Ue.asap(u),h}},t8=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},n8=async function*(n,e){for await(const t of i8(n))yield*t8(t,e)},i8=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},w3=(n,e,t,i)=>{const a=n8(n,e);let r=0,l,u=h=>{l||(l=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await a.next();if(m){u(),h.close();return}let v=g.byteLength;if(t){let b=r+=v;t(b)}h.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(h){return u(h),a.return()}},{highWaterMark:2})},T3=64*1024,{isFunction:Xx}=Ue,a8=(({Request:n,Response:e})=>({Request:n,Response:e}))(Ue.global),{ReadableStream:A3,TextEncoder:C3}=Ue.global,N3=(n,...e)=>{try{return!!n(...e)}catch{return!1}},s8=n=>{n=Ue.merge.call({skipUndefined:!0},a8,n);const{fetch:e,Request:t,Response:i}=n,a=e?Xx(e):typeof fetch=="function",r=Xx(t),l=Xx(i);if(!a)return!1;const u=a&&Xx(A3),h=a&&(typeof C3=="function"?(M=>A=>M.encode(A))(new C3):async M=>new Uint8Array(await new t(M).arrayBuffer())),m=r&&u&&N3(()=>{let M=!1;const A=new t(ka.origin,{body:new A3,method:"POST",get duplex(){return M=!0,"half"}}).headers.has("Content-Type");return M&&!A}),g=l&&u&&N3(()=>Ue.isReadableStream(new i("").body)),v={stream:g&&(M=>M.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!v[M]&&(v[M]=(A,T)=>{let _=A&&A[M];if(_)return _.call(A);throw new sn(`Response type '${M}' is not supported`,sn.ERR_NOT_SUPPORT,T)})});const b=async M=>{if(M==null)return 0;if(Ue.isBlob(M))return M.size;if(Ue.isSpecCompliantForm(M))return(await new t(ka.origin,{method:"POST",body:M}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(M)||Ue.isArrayBuffer(M))return M.byteLength;if(Ue.isURLSearchParams(M)&&(M=M+""),Ue.isString(M))return(await h(M)).byteLength},S=async(M,A)=>{const T=Ue.toFiniteNumber(M.getContentLength());return T??b(A)};return async M=>{let{url:A,method:T,data:_,signal:L,cancelToken:O,timeout:F,onDownloadProgress:D,onUploadProgress:U,responseType:B,headers:H,withCredentials:I="same-origin",fetchOptions:P}=hR(M),j=e||fetch;B=B?(B+"").toLowerCase():"text";let Z=e8([L,O&&O.toAbortSignal()],F),W=null;const Y=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let ne;try{if(U&&m&&T!=="get"&&T!=="head"&&(ne=await S(H,_))!==0){let G=new t(A,{method:"POST",body:_,duplex:"half"}),ae;if(Ue.isFormData(_)&&(ae=G.headers.get("content-type"))&&H.setContentType(ae),G.body){const[fe,ce]=S3(ne,sy(E3(U)));_=w3(G.body,T3,fe,ce)}}Ue.isString(I)||(I=I?"include":"omit");const k=r&&"credentials"in t.prototype,z={...P,signal:Z,method:T.toUpperCase(),headers:H.normalize().toJSON(),body:_,duplex:"half",credentials:k?I:void 0};W=r&&new t(A,z);let $=await(r?j(W,P):j(A,z));const X=g&&(B==="stream"||B==="response");if(g&&(D||X&&Y)){const G={};["status","statusText","headers"].forEach(_e=>{G[_e]=$[_e]});const ae=Ue.toFiniteNumber($.headers.get("content-length")),[fe,ce]=D&&S3(ae,sy(E3(D),!0))||[];$=new i(w3($.body,T3,fe,()=>{ce&&ce(),Y&&Y()}),G)}B=B||"text";let N=await v[Ue.findKey(v,B)||"text"]($,M);return!X&&Y&&Y(),await new Promise((G,ae)=>{fR(G,ae,{data:N,headers:Vs.from($.headers),status:$.status,statusText:$.statusText,config:M,request:W})})}catch(k){throw Y&&Y(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new sn("Network Error",sn.ERR_NETWORK,M,W),{cause:k.cause||k}):sn.from(k,k&&k.code,M,W)}}},r8=new Map,mR=n=>{let e=n&&n.env||{};const{fetch:t,Request:i,Response:a}=e,r=[i,a,t];let l=r.length,u=l,h,m,g=r8;for(;u--;)h=r[u],m=g.get(h),m===void 0&&g.set(h,m=u?new Map:s8(e)),g=m;return m};mR();const hM={http:EI,xhr:$I,fetch:{get:mR}};Ue.forEach(hM,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const R3=n=>`- ${n}`,o8=n=>Ue.isFunction(n)||n===null||n===!1;function l8(n,e){n=Ue.isArray(n)?n:[n];const{length:t}=n;let i,a;const r={};for(let l=0;l<t;l++){i=n[l];let u;if(a=i,!o8(i)&&(a=hM[(u=String(i)).toLowerCase()],a===void 0))throw new sn(`Unknown adapter '${u}'`);if(a&&(Ue.isFunction(a)||(a=a.get(e))))break;r[u||"#"+l]=a}if(!a){const l=Object.entries(r).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(R3).join(`
`):" "+R3(l[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a}const pR={getAdapter:l8,adapters:hM};function sS(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fm(null,n)}function D3(n){return sS(n),n.headers=Vs.from(n.headers),n.data=aS.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),pR.getAdapter(n.adapter||J0.adapter,n)(n).then(function(i){return sS(n),i.data=aS.call(n,n.transformResponse,i),i.headers=Vs.from(i.headers),i},function(i){return uR(i)||(sS(n),i&&i.response&&(i.response.data=aS.call(n,n.transformResponse,i.response),i.response.headers=Vs.from(i.response.headers))),Promise.reject(i)})}const gR="1.13.2",db={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{db[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const O3={};db.transitional=function(e,t,i){function a(r,l){return"[Axios v"+gR+"] Transitional option '"+r+"'"+l+(i?". "+i:"")}return(r,l,u)=>{if(e===!1)throw new sn(a(l," has been removed"+(t?" in "+t:"")),sn.ERR_DEPRECATED);return t&&!O3[l]&&(O3[l]=!0,console.warn(a(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,l,u):!0}};db.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function c8(n,e,t){if(typeof n!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const r=i[a],l=e[r];if(l){const u=n[r],h=u===void 0||l(u,r,n);if(h!==!0)throw new sn("option "+r+" must be "+h,sn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new sn("Unknown option "+r,sn.ERR_BAD_OPTION)}}const Wv={assertOptions:c8,validators:db},rl=Wv.validators;let Wf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new b3,response:new b3}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const r=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qf(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:r}=t;i!==void 0&&Wv.assertOptions(i,{silentJSONParsing:rl.transitional(rl.boolean),forcedJSONParsing:rl.transitional(rl.boolean),clarifyTimeoutError:rl.transitional(rl.boolean)},!1),a!=null&&(Ue.isFunction(a)?t.paramsSerializer={serialize:a}:Wv.assertOptions(a,{encode:rl.function,serialize:rl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Wv.assertOptions(t,{baseUrl:rl.spelling("baseURL"),withXsrfToken:rl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=r&&Ue.merge(r.common,r[t.method]);r&&Ue.forEach(["delete","get","head","post","put","patch","common"],M=>{delete r[M]}),t.headers=Vs.concat(l,r);const u=[];let h=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(h=h&&A.synchronous,u.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let g,v=0,b;if(!h){const M=[D3.bind(this),void 0];for(M.unshift(...u),M.push(...m),b=M.length,g=Promise.resolve(t);v<b;)g=g.then(M[v++],M[v++]);return g}b=u.length;let S=t;for(;v<b;){const M=u[v++],A=u[v++];try{S=M(S)}catch(T){A.call(this,T);break}}try{g=D3.call(this,S)}catch(M){return Promise.reject(M)}for(v=0,b=m.length;v<b;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=Qf(this.defaults,e);const t=dR(e.baseURL,e.url,e.allowAbsoluteUrls);return oR(t,e.params,e.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(e){Wf.prototype[e]=function(t,i){return this.request(Qf(i||{},{method:e,url:t,data:(i||{}).data}))}});Ue.forEach(["post","put","patch"],function(e){function t(i){return function(r,l,u){return this.request(Qf(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:l}))}}Wf.prototype[e]=t(),Wf.prototype[e+"Form"]=t(!0)});let u8=class xR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(a=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](a);i._listeners=null}),this.promise.then=a=>{let r;const l=new Promise(u=>{i.subscribe(u),r=u}).then(a);return l.cancel=function(){i.unsubscribe(r)},l},e(function(r,l,u){i.reason||(i.reason=new fm(r,l,u),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xR(function(a){e=a}),cancel:e}}};function f8(n){return function(t){return n.apply(null,t)}}function d8(n){return Ue.isObject(n)&&n.isAxiosError===!0}const $1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries($1).forEach(([n,e])=>{$1[e]=n});function vR(n){const e=new Wf(n),t=ZN(Wf.prototype.request,e);return Ue.extend(t,Wf.prototype,e,{allOwnKeys:!0}),Ue.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return vR(Qf(n,a))},t}const Vi=vR(J0);Vi.Axios=Wf;Vi.CanceledError=fm;Vi.CancelToken=u8;Vi.isCancel=uR;Vi.VERSION=gR;Vi.toFormData=fb;Vi.AxiosError=sn;Vi.Cancel=Vi.CanceledError;Vi.all=function(e){return Promise.all(e)};Vi.spread=f8;Vi.isAxiosError=d8;Vi.mergeConfig=Qf;Vi.AxiosHeaders=Vs;Vi.formToJSON=n=>cR(Ue.isHTMLForm(n)?new FormData(n):n);Vi.getAdapter=pR.getAdapter;Vi.HttpStatusCode=$1;Vi.default=Vi;const{Axios:ZW,AxiosError:KW,CanceledError:QW,isCancel:JW,CancelToken:$W,VERSION:eY,all:tY,Cancel:nY,isAxiosError:iY,spread:aY,toFormData:sY,AxiosHeaders:rY,HttpStatusCode:oY,formToJSON:lY,getAdapter:cY,mergeConfig:uY}=Vi,h8=n=>{if(typeof document>"u")return null;const t=`; ${document.cookie}`.split(`; ${n}=`);return t.length===2?t.pop().split(";").shift():null},m8=(n,e,t=7)=>{if(typeof document>"u")return;const i=new Date;i.setTime(i.getTime()+t*24*60*60*1e3);const a=`expires=${i.toUTCString()}`;document.cookie=`${n}=${e};${a};path=/;SameSite=Lax`},p8=n=>{typeof document>"u"||(document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`)},yR=()=>h8("adminAuthed")==="true",g8=(n=!0)=>{m8("adminAuthed",n?"true":"false",7)},bR=()=>{p8("adminAuthed"),typeof window<"u"&&window.localStorage.removeItem("adminToken")},x8=n=>{typeof window>"u"||n&&window.localStorage.setItem("adminToken",n)},v8=()=>typeof window>"u"?null:window.localStorage.getItem("adminToken"),y8="http://localhost:5000/api",Kt=Vi.create({baseURL:y8,withCredentials:!0,headers:{"Content-Type":"application/json"}});Kt.interceptors.request.use(n=>{const e=v8();return e&&(n.headers=n.headers||{},n.headers.Authorization||(n.headers.Authorization=`Bearer ${e}`)),n},n=>Promise.reject(n));var rS={exports:{}},Gl={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3;function b8(){return L3||(L3=1,Gl.ConcurrentRoot=1,Gl.ContinuousEventPriority=8,Gl.DefaultEventPriority=32,Gl.DiscreteEventPriority=2,Gl.IdleEventPriority=268435456,Gl.LegacyRoot=0,Gl.NoEventPriority=0),Gl}var U3;function _8(){return U3||(U3=1,rS.exports=b8()),rS.exports}var Yv=_8();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hb="181",S8={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},E8={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_R=0,eE=1,SR=2,M8=3,ER=0,mb=1,o0=2,xo=3,ac=0,xs=1,cl=2,pl=0,Yf=1,tE=2,nE=3,iE=4,MR=5,hu=100,wR=101,TR=102,AR=103,CR=104,NR=200,RR=201,DR=202,OR=203,ry=204,oy=205,LR=206,UR=207,PR=208,zR=209,BR=210,IR=211,FR=212,VR=213,HR=214,ly=0,cy=1,uy=2,Jf=3,fy=4,dy=5,hy=6,my=7,$0=0,kR=1,GR=2,gl=0,qR=1,jR=2,XR=3,mM=4,WR=5,YR=6,ZR=7,aE="attached",KR="detached",pb=300,sc=301,yu=302,M0=303,w0=304,dm=306,T0=1e3,Bs=1001,A0=1002,Aa=1003,pM=1004,w8=1004,zh=1005,T8=1005,Fi=1006,l0=1007,A8=1007,ul=1008,C8=1008,Pr=1009,gM=1010,xM=1011,qh=1012,gb=1013,rc=1014,Is=1015,nd=1016,xb=1017,vb=1018,jh=1020,vM=35902,yM=35899,bM=1021,_M=1022,qa=1023,Xh=1026,Wh=1027,yb=1028,eg=1029,bb=1030,_b=1031,N8=1032,Sb=1033,c0=33776,u0=33777,f0=33778,d0=33779,py=35840,gy=35841,xy=35842,vy=35843,yy=36196,by=37492,_y=37496,Sy=37808,Ey=37809,My=37810,wy=37811,Ty=37812,Ay=37813,Cy=37814,Ny=37815,Ry=37816,Dy=37817,Oy=37818,Ly=37819,Uy=37820,Py=37821,zy=36492,By=36494,Iy=36495,Fy=36283,Vy=36284,Hy=36285,ky=36286,QR=2200,JR=2201,$R=2202,C0=2300,Gy=2301,Zv=2302,Hf=2400,kf=2401,N0=2402,Eb=2500,SM=2501,R8=0,D8=1,O8=2,eD=3200,tD=3201,L8=3202,U8=3203,Mu=0,nD=1,Ql="",Ha="srgb",bu="srgb-linear",R0="linear",Hn="srgb",P8=0,zf=7680,z8=7681,B8=7682,I8=7683,F8=34055,V8=34056,H8=5386,k8=512,G8=513,q8=514,j8=515,X8=516,W8=517,Y8=518,sE=519,iD=512,aD=513,sD=514,EM=515,rD=516,oD=517,lD=518,cD=519,D0=35044,Z8=35048,K8=35040,Q8=35045,J8=35049,$8=35041,eF=35046,tF=35050,nF=35042,iF="100",rE="300 es",lr=2e3,Yh=2001,aF={COMPUTE:"compute",RENDER:"render"},sF={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},rF={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function uD(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const oF={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Bh(n,e){return new oF[n](e)}function O0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function fD(){const n=O0("canvas");return n.style.display="block",n}const P3={};let _u=null;function lF(n){_u=n}function cF(){return _u}function L0(...n){const e="THREE."+n.shift();_u?_u("log",e,...n):console.log(e,...n)}function ht(...n){const e="THREE."+n.shift();_u?_u("warn",e,...n):console.warn(e,...n)}function Wt(...n){const e="THREE."+n.shift();_u?_u("error",e,...n):console.error(e,...n)}function Zh(...n){const e=n.join(" ");e in P3||(P3[e]=!0,ht(...n))}function uF(n,e,t){return new Promise(function(i,a){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}class vl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const a=i[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,l=a.length;r<l;r++)a[r].call(this,e);e.target=null}}}const Ia=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let z3=1234567;const Zf=Math.PI/180,Kh=180/Math.PI;function cr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ia[n&255]+Ia[n>>8&255]+Ia[n>>16&255]+Ia[n>>24&255]+"-"+Ia[e&255]+Ia[e>>8&255]+"-"+Ia[e>>16&15|64]+Ia[e>>24&255]+"-"+Ia[t&63|128]+Ia[t>>8&255]+"-"+Ia[t>>16&255]+Ia[t>>24&255]+Ia[i&255]+Ia[i>>8&255]+Ia[i>>16&255]+Ia[i>>24&255]).toLowerCase()}function Gt(n,e,t){return Math.max(e,Math.min(t,n))}function MM(n,e){return(n%e+e)%e}function fF(n,e,t,i,a){return i+(n-e)*(a-i)/(t-e)}function dF(n,e,t){return n!==e?(t-n)/(e-n):0}function h0(n,e,t){return(1-t)*n+t*e}function hF(n,e,t,i){return h0(n,e,1-Math.exp(-t*i))}function mF(n,e=1){return e-Math.abs(MM(n,e*2)-e)}function pF(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function gF(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function xF(n,e){return n+Math.floor(Math.random()*(e-n+1))}function vF(n,e){return n+Math.random()*(e-n)}function yF(n){return n*(.5-Math.random())}function bF(n){n!==void 0&&(z3=n);let e=z3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _F(n){return n*Zf}function SF(n){return n*Kh}function EF(n){return(n&n-1)===0&&n!==0}function MF(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function wF(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function TF(n,e,t,i,a){const r=Math.cos,l=Math.sin,u=r(t/2),h=l(t/2),m=r((e+i)/2),g=l((e+i)/2),v=r((e-i)/2),b=l((e-i)/2),S=r((i-e)/2),M=l((i-e)/2);switch(a){case"XYX":n.set(u*g,h*v,h*b,u*m);break;case"YZY":n.set(h*b,u*g,h*v,u*m);break;case"ZXZ":n.set(h*v,h*b,u*g,u*m);break;case"XZX":n.set(u*g,h*M,h*S,u*m);break;case"YXY":n.set(h*S,u*g,h*M,u*m);break;case"ZYZ":n.set(h*M,h*S,u*g,u*m);break;default:ht("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function ps(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function an(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const AF={DEG2RAD:Zf,RAD2DEG:Kh,generateUUID:cr,clamp:Gt,euclideanModulo:MM,mapLinear:fF,inverseLerp:dF,lerp:h0,damp:hF,pingpong:mF,smoothstep:pF,smootherstep:gF,randInt:xF,randFloat:vF,randFloatSpread:yF,seededRandom:bF,degToRad:_F,radToDeg:SF,isPowerOfTwo:EF,ceilPowerOfTwo:MF,floorPowerOfTwo:wF,setQuaternionFromProperEuler:TF,normalize:an,denormalize:ps};class We{constructor(e=0,t=0){We.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6],this.y=a[1]*t+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Gt(this.x,e.x,t.x),this.y=Gt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Gt(this.x,e,t),this.y=Gt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Gt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Gt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),a=Math.sin(t),r=this.x-e.x,l=this.y-e.y;return this.x=r*i-l*a+e.x,this.y=r*a+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hs{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,r,l,u){let h=i[a+0],m=i[a+1],g=i[a+2],v=i[a+3],b=r[l+0],S=r[l+1],M=r[l+2],A=r[l+3];if(u<=0){e[t+0]=h,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(u>=1){e[t+0]=b,e[t+1]=S,e[t+2]=M,e[t+3]=A;return}if(v!==A||h!==b||m!==S||g!==M){let T=h*b+m*S+g*M+v*A;T<0&&(b=-b,S=-S,M=-M,A=-A,T=-T);let _=1-u;if(T<.9995){const L=Math.acos(T),O=Math.sin(L);_=Math.sin(_*L)/O,u=Math.sin(u*L)/O,h=h*_+b*u,m=m*_+S*u,g=g*_+M*u,v=v*_+A*u}else{h=h*_+b*u,m=m*_+S*u,g=g*_+M*u,v=v*_+A*u;const L=1/Math.sqrt(h*h+m*m+g*g+v*v);h*=L,m*=L,g*=L,v*=L}}e[t]=h,e[t+1]=m,e[t+2]=g,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,a,r,l){const u=i[a],h=i[a+1],m=i[a+2],g=i[a+3],v=r[l],b=r[l+1],S=r[l+2],M=r[l+3];return e[t]=u*M+g*v+h*S-m*b,e[t+1]=h*M+g*b+m*v-u*S,e[t+2]=m*M+g*S+u*b-h*v,e[t+3]=g*M-u*v-h*b-m*S,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,a=e._y,r=e._z,l=e._order,u=Math.cos,h=Math.sin,m=u(i/2),g=u(a/2),v=u(r/2),b=h(i/2),S=h(a/2),M=h(r/2);switch(l){case"XYZ":this._x=b*g*v+m*S*M,this._y=m*S*v-b*g*M,this._z=m*g*M+b*S*v,this._w=m*g*v-b*S*M;break;case"YXZ":this._x=b*g*v+m*S*M,this._y=m*S*v-b*g*M,this._z=m*g*M-b*S*v,this._w=m*g*v+b*S*M;break;case"ZXY":this._x=b*g*v-m*S*M,this._y=m*S*v+b*g*M,this._z=m*g*M+b*S*v,this._w=m*g*v-b*S*M;break;case"ZYX":this._x=b*g*v-m*S*M,this._y=m*S*v+b*g*M,this._z=m*g*M-b*S*v,this._w=m*g*v+b*S*M;break;case"YZX":this._x=b*g*v+m*S*M,this._y=m*S*v+b*g*M,this._z=m*g*M-b*S*v,this._w=m*g*v-b*S*M;break;case"XZY":this._x=b*g*v-m*S*M,this._y=m*S*v-b*g*M,this._z=m*g*M+b*S*v,this._w=m*g*v+b*S*M;break;default:ht("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],a=t[4],r=t[8],l=t[1],u=t[5],h=t[9],m=t[2],g=t[6],v=t[10],b=i+u+v;if(b>0){const S=.5/Math.sqrt(b+1);this._w=.25/S,this._x=(g-h)*S,this._y=(r-m)*S,this._z=(l-a)*S}else if(i>u&&i>v){const S=2*Math.sqrt(1+i-u-v);this._w=(g-h)/S,this._x=.25*S,this._y=(a+l)/S,this._z=(r+m)/S}else if(u>v){const S=2*Math.sqrt(1+u-i-v);this._w=(r-m)/S,this._x=(a+l)/S,this._y=.25*S,this._z=(h+g)/S}else{const S=2*Math.sqrt(1+v-i-u);this._w=(l-a)/S,this._x=(r+m)/S,this._y=(h+g)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,t/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,a=e._y,r=e._z,l=e._w,u=t._x,h=t._y,m=t._z,g=t._w;return this._x=i*g+l*u+a*m-r*h,this._y=a*g+l*h+r*u-i*m,this._z=r*g+l*m+i*h-a*u,this._w=l*g-i*u-a*h-r*m,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,a=e._y,r=e._z,l=e._w,u=this.dot(e);u<0&&(i=-i,a=-a,r=-r,l=-l,u=-u);let h=1-t;if(u<.9995){const m=Math.acos(u),g=Math.sin(m);h=Math.sin(h*m)/g,t=Math.sin(t*m)/g,this._x=this._x*h+i*t,this._y=this._y*h+a*t,this._z=this._z*h+r*t,this._w=this._w*h+l*t,this._onChangeCallback()}else this._x=this._x*h+i*t,this._y=this._y*h+a*t,this._z=this._z*h+r*t,this._w=this._w*h+l*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,t=0,i=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(B3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(B3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*a,this.y=r[1]*t+r[4]*i+r[7]*a,this.z=r[2]*t+r[5]*i+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=e.elements,l=1/(r[3]*t+r[7]*i+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*a+r[12])*l,this.y=(r[1]*t+r[5]*i+r[9]*a+r[13])*l,this.z=(r[2]*t+r[6]*i+r[10]*a+r[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,a=this.z,r=e.x,l=e.y,u=e.z,h=e.w,m=2*(l*a-u*i),g=2*(u*t-r*a),v=2*(r*i-l*t);return this.x=t+h*m+l*v-u*g,this.y=i+h*g+u*m-r*v,this.z=a+h*v+r*g-l*m,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*a,this.y=r[1]*t+r[5]*i+r[9]*a,this.z=r[2]*t+r[6]*i+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Gt(this.x,e.x,t.x),this.y=Gt(this.y,e.y,t.y),this.z=Gt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Gt(this.x,e,t),this.y=Gt(this.y,e,t),this.z=Gt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Gt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,a=e.y,r=e.z,l=t.x,u=t.y,h=t.z;return this.x=a*h-r*u,this.y=r*l-i*h,this.z=i*u-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return oS.copy(this).projectOnVector(e),this.sub(oS)}reflect(e){return this.sub(oS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Gt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return t*t+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oS=new re,B3=new Hs;class en{constructor(e,t,i,a,r,l,u,h,m){en.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,h,m)}set(e,t,i,a,r,l,u,h,m){const g=this.elements;return g[0]=e,g[1]=a,g[2]=u,g[3]=t,g[4]=r,g[5]=h,g[6]=i,g[7]=l,g[8]=m,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[3],h=i[6],m=i[1],g=i[4],v=i[7],b=i[2],S=i[5],M=i[8],A=a[0],T=a[3],_=a[6],L=a[1],O=a[4],F=a[7],D=a[2],U=a[5],B=a[8];return r[0]=l*A+u*L+h*D,r[3]=l*T+u*O+h*U,r[6]=l*_+u*F+h*B,r[1]=m*A+g*L+v*D,r[4]=m*T+g*O+v*U,r[7]=m*_+g*F+v*B,r[2]=b*A+S*L+M*D,r[5]=b*T+S*O+M*U,r[8]=b*_+S*F+M*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],h=e[6],m=e[7],g=e[8];return t*l*g-t*u*m-i*r*g+i*u*h+a*r*m-a*l*h}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],h=e[6],m=e[7],g=e[8],v=g*l-u*m,b=u*h-g*r,S=m*r-l*h,M=t*v+i*b+a*S;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/M;return e[0]=v*A,e[1]=(a*m-g*i)*A,e[2]=(u*i-a*l)*A,e[3]=b*A,e[4]=(g*t-a*h)*A,e[5]=(a*r-u*t)*A,e[6]=S*A,e[7]=(i*h-m*t)*A,e[8]=(l*t-i*r)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,r,l,u){const h=Math.cos(r),m=Math.sin(r);return this.set(i*h,i*m,-i*(h*l+m*u)+l+e,-a*m,a*h,-a*(-m*l+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(lS.makeScale(e,t)),this}rotate(e){return this.premultiply(lS.makeRotation(-e)),this}translate(e,t){return this.premultiply(lS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<9;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const lS=new en,I3=new en().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),F3=new en().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function CF(){const n={enabled:!0,workingColorSpace:bu,spaces:{},convert:function(a,r,l){return this.enabled===!1||r===l||!r||!l||(this.spaces[r].transfer===Hn&&(a.r=ec(a.r),a.g=ec(a.g),a.b=ec(a.b)),this.spaces[r].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[r].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Hn&&(a.r=Vh(a.r),a.g=Vh(a.g),a.b=Vh(a.b))),a},workingToColorSpace:function(a,r){return this.convert(a,this.workingColorSpace,r)},colorSpaceToWorking:function(a,r){return this.convert(a,r,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Ql?R0:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,r=this.workingColorSpace){return a.fromArray(this.spaces[r].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,r,l){return a.copy(this.spaces[r].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,r){return Zh("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,r)},toWorkingColorSpace:function(a,r){return Zh("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[bu]:{primaries:e,whitePoint:i,transfer:R0,toXYZ:I3,fromXYZ:F3,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ha},outputColorSpaceConfig:{drawingBufferColorSpace:Ha}},[Ha]:{primaries:e,whitePoint:i,transfer:Hn,toXYZ:I3,fromXYZ:F3,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ha}}}),n}const _n=CF();function ec(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Vh(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let oh;class dD{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{oh===void 0&&(oh=O0("canvas")),oh.width=e.width,oh.height=e.height;const a=oh.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),i=oh}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=O0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let l=0;l<r.length;l++)r[l]=ec(r[l]/255)*255;return i.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ec(t[i]/255)*255):t[i]=ec(t[i]);return{data:t,width:e.width,height:e.height}}else return ht("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let NF=0;class pu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:NF++}),this.uuid=cr(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let l=0,u=a.length;l<u;l++)a[l].isDataTexture?r.push(cS(a[l].image)):r.push(cS(a[l]))}else r=cS(a);i.url=r}return t||(e.images[this.uuid]=i),i}}function cS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?dD.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(ht("Texture: Unable to serialize Texture."),{})}let RF=0;const uS=new re;class Ci extends vl{constructor(e=Ci.DEFAULT_IMAGE,t=Ci.DEFAULT_MAPPING,i=Bs,a=Bs,r=Fi,l=ul,u=qa,h=Pr,m=Ci.DEFAULT_ANISOTROPY,g=Ql){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:RF++}),this.uuid=cr(),this.name="",this.source=new pu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=r,this.minFilter=l,this.anisotropy=m,this.format=u,this.internalFormat=null,this.type=h,this.offset=new We(0,0),this.repeat=new We(1,1),this.center=new We(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new en,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(uS).x}get height(){return this.source.getSize(uS).y}get depth(){return this.source.getSize(uS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){ht(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){ht(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&i&&a.isVector2&&i.isVector2||a&&i&&a.isVector3&&i.isVector3||a&&i&&a.isMatrix3&&i.isMatrix3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case T0:e.x=e.x-Math.floor(e.x);break;case Bs:e.x=e.x<0?0:1;break;case A0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case T0:e.y=e.y-Math.floor(e.y);break;case Bs:e.y=e.y<0?0:1;break;case A0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ci.DEFAULT_IMAGE=null;Ci.DEFAULT_MAPPING=pb;Ci.DEFAULT_ANISOTROPY=1;class Tn{constructor(e=0,t=0,i=0,a=1){Tn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*a+l[12]*r,this.y=l[1]*t+l[5]*i+l[9]*a+l[13]*r,this.z=l[2]*t+l[6]*i+l[10]*a+l[14]*r,this.w=l[3]*t+l[7]*i+l[11]*a+l[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,a,r;const h=e.elements,m=h[0],g=h[4],v=h[8],b=h[1],S=h[5],M=h[9],A=h[2],T=h[6],_=h[10];if(Math.abs(g-b)<.01&&Math.abs(v-A)<.01&&Math.abs(M-T)<.01){if(Math.abs(g+b)<.1&&Math.abs(v+A)<.1&&Math.abs(M+T)<.1&&Math.abs(m+S+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const O=(m+1)/2,F=(S+1)/2,D=(_+1)/2,U=(g+b)/4,B=(v+A)/4,H=(M+T)/4;return O>F&&O>D?O<.01?(i=0,a=.707106781,r=.707106781):(i=Math.sqrt(O),a=U/i,r=B/i):F>D?F<.01?(i=.707106781,a=0,r=.707106781):(a=Math.sqrt(F),i=U/a,r=H/a):D<.01?(i=.707106781,a=.707106781,r=0):(r=Math.sqrt(D),i=B/r,a=H/r),this.set(i,a,r,t),this}let L=Math.sqrt((T-M)*(T-M)+(v-A)*(v-A)+(b-g)*(b-g));return Math.abs(L)<.001&&(L=1),this.x=(T-M)/L,this.y=(v-A)/L,this.z=(b-g)/L,this.w=Math.acos((m+S+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Gt(this.x,e.x,t.x),this.y=Gt(this.y,e.y,t.y),this.z=Gt(this.z,e.z,t.z),this.w=Gt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Gt(this.x,e,t),this.y=Gt(this.y,e,t),this.z=Gt(this.z,e,t),this.w=Gt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Gt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class wM extends vl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Fi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Tn(0,0,e,t),this.scissorTest=!1,this.viewport=new Tn(0,0,e,t);const a={width:e,height:t,depth:i.depth},r=new Ci(a);this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=r.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Fi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=i,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new pu(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class xl extends wM{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Mb extends Ci{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Aa,this.minFilter=Aa,this.wrapR=Bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class DF extends xl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Mb(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class wb extends Ci{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Aa,this.minFilter=Aa,this.wrapR=Bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class OF extends xl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new wb(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class ja{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ho.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ho.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ho.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=r.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,ho):ho.fromBufferAttribute(r,l),ho.applyMatrix4(e.matrixWorld),this.expandByPoint(ho);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Wx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Wx.copy(i.boundingBox)),Wx.applyMatrix4(e.matrixWorld),this.union(Wx)}const a=e.children;for(let r=0,l=a.length;r<l;r++)this.expandByObject(a[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ho),ho.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zp),Yx.subVectors(this.max,zp),lh.subVectors(e.a,zp),ch.subVectors(e.b,zp),uh.subVectors(e.c,zp),au.subVectors(ch,lh),su.subVectors(uh,ch),bf.subVectors(lh,uh);let t=[0,-au.z,au.y,0,-su.z,su.y,0,-bf.z,bf.y,au.z,0,-au.x,su.z,0,-su.x,bf.z,0,-bf.x,-au.y,au.x,0,-su.y,su.x,0,-bf.y,bf.x,0];return!fS(t,lh,ch,uh,Yx)||(t=[1,0,0,0,1,0,0,0,1],!fS(t,lh,ch,uh,Yx))?!1:(Zx.crossVectors(au,su),t=[Zx.x,Zx.y,Zx.z],fS(t,lh,ch,uh,Yx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ho).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ho).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ql[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ql[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ql[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ql[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ql[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ql[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ql[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ql[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ql),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ql=[new re,new re,new re,new re,new re,new re,new re,new re],ho=new re,Wx=new ja,lh=new re,ch=new re,uh=new re,au=new re,su=new re,bf=new re,zp=new re,Yx=new re,Zx=new re,_f=new re;function fS(n,e,t,i,a){for(let r=0,l=n.length-3;r<=l;r+=3){_f.fromArray(n,r);const u=a.x*Math.abs(_f.x)+a.y*Math.abs(_f.y)+a.z*Math.abs(_f.z),h=e.dot(_f),m=t.dot(_f),g=i.dot(_f);if(Math.max(-Math.max(h,m,g),Math.min(h,m,g))>u)return!1}return!0}const LF=new ja,Bp=new re,dS=new re;class Ca{constructor(e=new re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):LF.setFromPoints(e).getCenter(i);let a=0;for(let r=0,l=e.length;r<l;r++)a=Math.max(a,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Bp.subVectors(e,this.center);const t=Bp.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),a=(i-this.radius)*.5;this.center.addScaledVector(Bp,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(dS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Bp.copy(e.center).add(dS)),this.expandByPoint(Bp.copy(e.center).sub(dS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const jl=new re,hS=new re,Kx=new re,ru=new re,mS=new re,Qx=new re,pS=new re;class hm{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,jl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=jl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(jl.copy(this.origin).addScaledVector(this.direction,t),jl.distanceToSquared(e))}distanceSqToSegment(e,t,i,a){hS.copy(e).add(t).multiplyScalar(.5),Kx.copy(t).sub(e).normalize(),ru.copy(this.origin).sub(hS);const r=e.distanceTo(t)*.5,l=-this.direction.dot(Kx),u=ru.dot(this.direction),h=-ru.dot(Kx),m=ru.lengthSq(),g=Math.abs(1-l*l);let v,b,S,M;if(g>0)if(v=l*h-u,b=l*u-h,M=r*g,v>=0)if(b>=-M)if(b<=M){const A=1/g;v*=A,b*=A,S=v*(v+l*b+2*u)+b*(l*v+b+2*h)+m}else b=r,v=Math.max(0,-(l*b+u)),S=-v*v+b*(b+2*h)+m;else b=-r,v=Math.max(0,-(l*b+u)),S=-v*v+b*(b+2*h)+m;else b<=-M?(v=Math.max(0,-(-l*r+u)),b=v>0?-r:Math.min(Math.max(-r,-h),r),S=-v*v+b*(b+2*h)+m):b<=M?(v=0,b=Math.min(Math.max(-r,-h),r),S=b*(b+2*h)+m):(v=Math.max(0,-(l*r+u)),b=v>0?r:Math.min(Math.max(-r,-h),r),S=-v*v+b*(b+2*h)+m);else b=l>0?-r:r,v=Math.max(0,-(l*b+u)),S=-v*v+b*(b+2*h)+m;return i&&i.copy(this.origin).addScaledVector(this.direction,v),a&&a.copy(hS).addScaledVector(Kx,b),S}intersectSphere(e,t){jl.subVectors(e.center,this.origin);const i=jl.dot(this.direction),a=jl.dot(jl)-i*i,r=e.radius*e.radius;if(a>r)return null;const l=Math.sqrt(r-a),u=i-l,h=i+l;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,r,l,u,h;const m=1/this.direction.x,g=1/this.direction.y,v=1/this.direction.z,b=this.origin;return m>=0?(i=(e.min.x-b.x)*m,a=(e.max.x-b.x)*m):(i=(e.max.x-b.x)*m,a=(e.min.x-b.x)*m),g>=0?(r=(e.min.y-b.y)*g,l=(e.max.y-b.y)*g):(r=(e.max.y-b.y)*g,l=(e.min.y-b.y)*g),i>l||r>a||((r>i||isNaN(i))&&(i=r),(l<a||isNaN(a))&&(a=l),v>=0?(u=(e.min.z-b.z)*v,h=(e.max.z-b.z)*v):(u=(e.max.z-b.z)*v,h=(e.min.z-b.z)*v),i>h||u>a)||((u>i||i!==i)&&(i=u),(h<a||a!==a)&&(a=h),a<0)?null:this.at(i>=0?i:a,t)}intersectsBox(e){return this.intersectBox(e,jl)!==null}intersectTriangle(e,t,i,a,r){mS.subVectors(t,e),Qx.subVectors(i,e),pS.crossVectors(mS,Qx);let l=this.direction.dot(pS),u;if(l>0){if(a)return null;u=1}else if(l<0)u=-1,l=-l;else return null;ru.subVectors(this.origin,e);const h=u*this.direction.dot(Qx.crossVectors(ru,Qx));if(h<0)return null;const m=u*this.direction.dot(mS.cross(ru));if(m<0||h+m>l)return null;const g=-u*ru.dot(pS);return g<0?null:this.at(g/l,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(e,t,i,a,r,l,u,h,m,g,v,b,S,M,A,T){Xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,h,m,g,v,b,S,M,A,T)}set(e,t,i,a,r,l,u,h,m,g,v,b,S,M,A,T){const _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=a,_[1]=r,_[5]=l,_[9]=u,_[13]=h,_[2]=m,_[6]=g,_[10]=v,_[14]=b,_[3]=S,_[7]=M,_[11]=A,_[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,a=1/fh.setFromMatrixColumn(e,0).length(),r=1/fh.setFromMatrixColumn(e,1).length(),l=1/fh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,a=e.y,r=e.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(a),m=Math.sin(a),g=Math.cos(r),v=Math.sin(r);if(e.order==="XYZ"){const b=l*g,S=l*v,M=u*g,A=u*v;t[0]=h*g,t[4]=-h*v,t[8]=m,t[1]=S+M*m,t[5]=b-A*m,t[9]=-u*h,t[2]=A-b*m,t[6]=M+S*m,t[10]=l*h}else if(e.order==="YXZ"){const b=h*g,S=h*v,M=m*g,A=m*v;t[0]=b+A*u,t[4]=M*u-S,t[8]=l*m,t[1]=l*v,t[5]=l*g,t[9]=-u,t[2]=S*u-M,t[6]=A+b*u,t[10]=l*h}else if(e.order==="ZXY"){const b=h*g,S=h*v,M=m*g,A=m*v;t[0]=b-A*u,t[4]=-l*v,t[8]=M+S*u,t[1]=S+M*u,t[5]=l*g,t[9]=A-b*u,t[2]=-l*m,t[6]=u,t[10]=l*h}else if(e.order==="ZYX"){const b=l*g,S=l*v,M=u*g,A=u*v;t[0]=h*g,t[4]=M*m-S,t[8]=b*m+A,t[1]=h*v,t[5]=A*m+b,t[9]=S*m-M,t[2]=-m,t[6]=u*h,t[10]=l*h}else if(e.order==="YZX"){const b=l*h,S=l*m,M=u*h,A=u*m;t[0]=h*g,t[4]=A-b*v,t[8]=M*v+S,t[1]=v,t[5]=l*g,t[9]=-u*g,t[2]=-m*g,t[6]=S*v+M,t[10]=b-A*v}else if(e.order==="XZY"){const b=l*h,S=l*m,M=u*h,A=u*m;t[0]=h*g,t[4]=-v,t[8]=m*g,t[1]=b*v+A,t[5]=l*g,t[9]=S*v-M,t[2]=M*v-S,t[6]=u*g,t[10]=A*v+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(UF,e,PF)}lookAt(e,t,i){const a=this.elements;return sr.subVectors(e,t),sr.lengthSq()===0&&(sr.z=1),sr.normalize(),ou.crossVectors(i,sr),ou.lengthSq()===0&&(Math.abs(i.z)===1?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),ou.crossVectors(i,sr)),ou.normalize(),Jx.crossVectors(sr,ou),a[0]=ou.x,a[4]=Jx.x,a[8]=sr.x,a[1]=ou.y,a[5]=Jx.y,a[9]=sr.y,a[2]=ou.z,a[6]=Jx.z,a[10]=sr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[4],h=i[8],m=i[12],g=i[1],v=i[5],b=i[9],S=i[13],M=i[2],A=i[6],T=i[10],_=i[14],L=i[3],O=i[7],F=i[11],D=i[15],U=a[0],B=a[4],H=a[8],I=a[12],P=a[1],j=a[5],Z=a[9],W=a[13],Y=a[2],ne=a[6],k=a[10],z=a[14],$=a[3],X=a[7],N=a[11],G=a[15];return r[0]=l*U+u*P+h*Y+m*$,r[4]=l*B+u*j+h*ne+m*X,r[8]=l*H+u*Z+h*k+m*N,r[12]=l*I+u*W+h*z+m*G,r[1]=g*U+v*P+b*Y+S*$,r[5]=g*B+v*j+b*ne+S*X,r[9]=g*H+v*Z+b*k+S*N,r[13]=g*I+v*W+b*z+S*G,r[2]=M*U+A*P+T*Y+_*$,r[6]=M*B+A*j+T*ne+_*X,r[10]=M*H+A*Z+T*k+_*N,r[14]=M*I+A*W+T*z+_*G,r[3]=L*U+O*P+F*Y+D*$,r[7]=L*B+O*j+F*ne+D*X,r[11]=L*H+O*Z+F*k+D*N,r[15]=L*I+O*W+F*z+D*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],a=e[8],r=e[12],l=e[1],u=e[5],h=e[9],m=e[13],g=e[2],v=e[6],b=e[10],S=e[14],M=e[3],A=e[7],T=e[11],_=e[15];return M*(+r*h*v-a*m*v-r*u*b+i*m*b+a*u*S-i*h*S)+A*(+t*h*S-t*m*b+r*l*b-a*l*S+a*m*g-r*h*g)+T*(+t*m*v-t*u*S-r*l*v+i*l*S+r*u*g-i*m*g)+_*(-a*u*g-t*h*v+t*u*b+a*l*v-i*l*b+i*h*g)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],h=e[6],m=e[7],g=e[8],v=e[9],b=e[10],S=e[11],M=e[12],A=e[13],T=e[14],_=e[15],L=v*T*m-A*b*m+A*h*S-u*T*S-v*h*_+u*b*_,O=M*b*m-g*T*m-M*h*S+l*T*S+g*h*_-l*b*_,F=g*A*m-M*v*m+M*u*S-l*A*S-g*u*_+l*v*_,D=M*v*h-g*A*h-M*u*b+l*A*b+g*u*T-l*v*T,U=t*L+i*O+a*F+r*D;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/U;return e[0]=L*B,e[1]=(A*b*r-v*T*r-A*a*S+i*T*S+v*a*_-i*b*_)*B,e[2]=(u*T*r-A*h*r+A*a*m-i*T*m-u*a*_+i*h*_)*B,e[3]=(v*h*r-u*b*r-v*a*m+i*b*m+u*a*S-i*h*S)*B,e[4]=O*B,e[5]=(g*T*r-M*b*r+M*a*S-t*T*S-g*a*_+t*b*_)*B,e[6]=(M*h*r-l*T*r-M*a*m+t*T*m+l*a*_-t*h*_)*B,e[7]=(l*b*r-g*h*r+g*a*m-t*b*m-l*a*S+t*h*S)*B,e[8]=F*B,e[9]=(M*v*r-g*A*r-M*i*S+t*A*S+g*i*_-t*v*_)*B,e[10]=(l*A*r-M*u*r+M*i*m-t*A*m-l*i*_+t*u*_)*B,e[11]=(g*u*r-l*v*r-g*i*m+t*v*m+l*i*S-t*u*S)*B,e[12]=D*B,e[13]=(g*A*a-M*v*a+M*i*b-t*A*b-g*i*T+t*v*T)*B,e[14]=(M*u*a-l*A*a-M*i*h+t*A*h+l*i*T-t*u*T)*B,e[15]=(l*v*a-g*u*a+g*i*h-t*v*h-l*i*b+t*u*b)*B,this}scale(e){const t=this.elements,i=e.x,a=e.y,r=e.z;return t[0]*=i,t[4]*=a,t[8]*=r,t[1]*=i,t[5]*=a,t[9]*=r,t[2]*=i,t[6]*=a,t[10]*=r,t[3]*=i,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,a))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),a=Math.sin(t),r=1-i,l=e.x,u=e.y,h=e.z,m=r*l,g=r*u;return this.set(m*l+i,m*u-a*h,m*h+a*u,0,m*u+a*h,g*u+i,g*h-a*l,0,m*h-a*u,g*h+a*l,r*h*h+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,r,l){return this.set(1,i,r,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){const a=this.elements,r=t._x,l=t._y,u=t._z,h=t._w,m=r+r,g=l+l,v=u+u,b=r*m,S=r*g,M=r*v,A=l*g,T=l*v,_=u*v,L=h*m,O=h*g,F=h*v,D=i.x,U=i.y,B=i.z;return a[0]=(1-(A+_))*D,a[1]=(S+F)*D,a[2]=(M-O)*D,a[3]=0,a[4]=(S-F)*U,a[5]=(1-(b+_))*U,a[6]=(T+L)*U,a[7]=0,a[8]=(M+O)*B,a[9]=(T-L)*B,a[10]=(1-(b+A))*B,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){const a=this.elements;let r=fh.set(a[0],a[1],a[2]).length();const l=fh.set(a[4],a[5],a[6]).length(),u=fh.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],mo.copy(this);const m=1/r,g=1/l,v=1/u;return mo.elements[0]*=m,mo.elements[1]*=m,mo.elements[2]*=m,mo.elements[4]*=g,mo.elements[5]*=g,mo.elements[6]*=g,mo.elements[8]*=v,mo.elements[9]*=v,mo.elements[10]*=v,t.setFromRotationMatrix(mo),i.x=r,i.y=l,i.z=u,this}makePerspective(e,t,i,a,r,l,u=lr,h=!1){const m=this.elements,g=2*r/(t-e),v=2*r/(i-a),b=(t+e)/(t-e),S=(i+a)/(i-a);let M,A;if(h)M=r/(l-r),A=l*r/(l-r);else if(u===lr)M=-(l+r)/(l-r),A=-2*l*r/(l-r);else if(u===Yh)M=-l/(l-r),A=-l*r/(l-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return m[0]=g,m[4]=0,m[8]=b,m[12]=0,m[1]=0,m[5]=v,m[9]=S,m[13]=0,m[2]=0,m[6]=0,m[10]=M,m[14]=A,m[3]=0,m[7]=0,m[11]=-1,m[15]=0,this}makeOrthographic(e,t,i,a,r,l,u=lr,h=!1){const m=this.elements,g=2/(t-e),v=2/(i-a),b=-(t+e)/(t-e),S=-(i+a)/(i-a);let M,A;if(h)M=1/(l-r),A=l/(l-r);else if(u===lr)M=-2/(l-r),A=-(l+r)/(l-r);else if(u===Yh)M=-1/(l-r),A=-r/(l-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return m[0]=g,m[4]=0,m[8]=0,m[12]=b,m[1]=0,m[5]=v,m[9]=0,m[13]=S,m[2]=0,m[6]=0,m[10]=M,m[14]=A,m[3]=0,m[7]=0,m[11]=0,m[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<16;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const fh=new re,mo=new Xt,UF=new re(0,0,0),PF=new re(1,1,1),ou=new re,Jx=new re,sr=new re,V3=new Xt,H3=new Hs;class ur{constructor(e=0,t=0,i=0,a=ur.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const a=e.elements,r=a[0],l=a[4],u=a[8],h=a[1],m=a[5],g=a[9],v=a[2],b=a[6],S=a[10];switch(t){case"XYZ":this._y=Math.asin(Gt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-g,S),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(b,m),this._z=0);break;case"YXZ":this._x=Math.asin(-Gt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(u,S),this._z=Math.atan2(h,m)):(this._y=Math.atan2(-v,r),this._z=0);break;case"ZXY":this._x=Math.asin(Gt(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,S),this._z=Math.atan2(-l,m)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-Gt(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,S),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-l,m));break;case"YZX":this._z=Math.asin(Gt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-g,m),this._y=Math.atan2(-v,r)):(this._x=0,this._y=Math.atan2(u,S));break;case"XZY":this._z=Math.asin(-Gt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(b,m),this._y=Math.atan2(u,r)):(this._x=Math.atan2(-g,S),this._y=0);break;default:ht("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return V3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(V3,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return H3.setFromEuler(this),this.setFromQuaternion(H3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ur.DEFAULT_ORDER="XYZ";class Qh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zF=0;const k3=new re,dh=new Hs,Xl=new Xt,$x=new re,Ip=new re,BF=new re,IF=new Hs,G3=new re(1,0,0),q3=new re(0,1,0),j3=new re(0,0,1),X3={type:"added"},FF={type:"removed"},hh={type:"childadded",child:null},gS={type:"childremoved",child:null};class An extends vl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zF++}),this.uuid=cr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=An.DEFAULT_UP.clone();const e=new re,t=new ur,i=new Hs,a=new re(1,1,1);function r(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Xt},normalMatrix:{value:new en}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=An.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Qh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return dh.setFromAxisAngle(e,t),this.quaternion.multiply(dh),this}rotateOnWorldAxis(e,t){return dh.setFromAxisAngle(e,t),this.quaternion.premultiply(dh),this}rotateX(e){return this.rotateOnAxis(G3,e)}rotateY(e){return this.rotateOnAxis(q3,e)}rotateZ(e){return this.rotateOnAxis(j3,e)}translateOnAxis(e,t){return k3.copy(e).applyQuaternion(this.quaternion),this.position.add(k3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(G3,e)}translateY(e){return this.translateOnAxis(q3,e)}translateZ(e){return this.translateOnAxis(j3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Xl.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?$x.copy(e):$x.set(e,t,i);const a=this.parent;this.updateWorldMatrix(!0,!1),Ip.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xl.lookAt(Ip,$x,this.up):Xl.lookAt($x,Ip,this.up),this.quaternion.setFromRotationMatrix(Xl),a&&(Xl.extractRotation(a.matrixWorld),dh.setFromRotationMatrix(Xl),this.quaternion.premultiply(dh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Wt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(X3),hh.child=e,this.dispatchEvent(hh),hh.child=null):Wt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(FF),gS.child=e,this.dispatchEvent(gS),gS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Xl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(X3),hh.child=e,this.dispatchEvent(hh),hh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,a=this.children.length;i<a;i++){const l=this.children[i].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ip,e,BF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ip,IF,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(u=>({...u})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function r(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let m=0,g=h.length;m<g;m++){const v=h[m];r(e.shapes,v)}else r(e.shapes,h)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,m=this.material.length;h<m;h++)u.push(r(e.materials,this.material[h]));a.material=u}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let u=0;u<this.children.length;u++)a.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];a.animations.push(r(e.animations,h))}}if(t){const u=l(e.geometries),h=l(e.materials),m=l(e.textures),g=l(e.images),v=l(e.shapes),b=l(e.skeletons),S=l(e.animations),M=l(e.nodes);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),m.length>0&&(i.textures=m),g.length>0&&(i.images=g),v.length>0&&(i.shapes=v),b.length>0&&(i.skeletons=b),S.length>0&&(i.animations=S),M.length>0&&(i.nodes=M)}return i.object=a,i;function l(u){const h=[];for(const m in u){const g=u[m];delete g.metadata,h.push(g)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}An.DEFAULT_UP=new re(0,1,0);An.DEFAULT_MATRIX_AUTO_UPDATE=!0;An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const po=new re,Wl=new re,xS=new re,Yl=new re,mh=new re,ph=new re,W3=new re,vS=new re,yS=new re,bS=new re,_S=new Tn,SS=new Tn,ES=new Tn;class Ps{constructor(e=new re,t=new re,i=new re){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),po.subVectors(e,t),a.cross(po);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,t,i,a,r){po.subVectors(a,t),Wl.subVectors(i,t),xS.subVectors(e,t);const l=po.dot(po),u=po.dot(Wl),h=po.dot(xS),m=Wl.dot(Wl),g=Wl.dot(xS),v=l*m-u*u;if(v===0)return r.set(0,0,0),null;const b=1/v,S=(m*h-u*g)*b,M=(l*g-u*h)*b;return r.set(1-S-M,M,S)}static containsPoint(e,t,i,a){return this.getBarycoord(e,t,i,a,Yl)===null?!1:Yl.x>=0&&Yl.y>=0&&Yl.x+Yl.y<=1}static getInterpolation(e,t,i,a,r,l,u,h){return this.getBarycoord(e,t,i,a,Yl)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(r,Yl.x),h.addScaledVector(l,Yl.y),h.addScaledVector(u,Yl.z),h)}static getInterpolatedAttribute(e,t,i,a,r,l){return _S.setScalar(0),SS.setScalar(0),ES.setScalar(0),_S.fromBufferAttribute(e,t),SS.fromBufferAttribute(e,i),ES.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(_S,r.x),l.addScaledVector(SS,r.y),l.addScaledVector(ES,r.z),l}static isFrontFacing(e,t,i,a){return po.subVectors(i,t),Wl.subVectors(e,t),po.cross(Wl).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return po.subVectors(this.c,this.b),Wl.subVectors(this.a,this.b),po.cross(Wl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ps.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ps.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,r){return Ps.getInterpolation(e,this.a,this.b,this.c,t,i,a,r)}containsPoint(e){return Ps.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ps.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,a=this.b,r=this.c;let l,u;mh.subVectors(a,i),ph.subVectors(r,i),vS.subVectors(e,i);const h=mh.dot(vS),m=ph.dot(vS);if(h<=0&&m<=0)return t.copy(i);yS.subVectors(e,a);const g=mh.dot(yS),v=ph.dot(yS);if(g>=0&&v<=g)return t.copy(a);const b=h*v-g*m;if(b<=0&&h>=0&&g<=0)return l=h/(h-g),t.copy(i).addScaledVector(mh,l);bS.subVectors(e,r);const S=mh.dot(bS),M=ph.dot(bS);if(M>=0&&S<=M)return t.copy(r);const A=S*m-h*M;if(A<=0&&m>=0&&M<=0)return u=m/(m-M),t.copy(i).addScaledVector(ph,u);const T=g*M-S*v;if(T<=0&&v-g>=0&&S-M>=0)return W3.subVectors(r,a),u=(v-g)/(v-g+(S-M)),t.copy(a).addScaledVector(W3,u);const _=1/(T+A+b);return l=A*_,u=b*_,t.copy(i).addScaledVector(mh,l).addScaledVector(ph,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const hD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},lu={h:0,s:0,l:0},ev={h:0,s:0,l:0};function MS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class vt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ha){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,_n.colorSpaceToWorking(this,t),this}setRGB(e,t,i,a=_n.workingColorSpace){return this.r=e,this.g=t,this.b=i,_n.colorSpaceToWorking(this,a),this}setHSL(e,t,i,a=_n.workingColorSpace){if(e=MM(e,1),t=Gt(t,0,1),i=Gt(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,l=2*i-r;this.r=MS(l,r,e+1/3),this.g=MS(l,r,e),this.b=MS(l,r,e-1/3)}return _n.colorSpaceToWorking(this,a),this}setStyle(e,t=Ha){function i(r){r!==void 0&&parseFloat(r)<1&&ht("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const l=a[1],u=a[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:ht("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],l=r.length;if(l===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(r,16),t);ht("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ha){const i=hD[e.toLowerCase()];return i!==void 0?this.setHex(i,t):ht("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ec(e.r),this.g=ec(e.g),this.b=ec(e.b),this}copyLinearToSRGB(e){return this.r=Vh(e.r),this.g=Vh(e.g),this.b=Vh(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ha){return _n.workingToColorSpace(Fa.copy(this),e),Math.round(Gt(Fa.r*255,0,255))*65536+Math.round(Gt(Fa.g*255,0,255))*256+Math.round(Gt(Fa.b*255,0,255))}getHexString(e=Ha){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=_n.workingColorSpace){_n.workingToColorSpace(Fa.copy(this),t);const i=Fa.r,a=Fa.g,r=Fa.b,l=Math.max(i,a,r),u=Math.min(i,a,r);let h,m;const g=(u+l)/2;if(u===l)h=0,m=0;else{const v=l-u;switch(m=g<=.5?v/(l+u):v/(2-l-u),l){case i:h=(a-r)/v+(a<r?6:0);break;case a:h=(r-i)/v+2;break;case r:h=(i-a)/v+4;break}h/=6}return e.h=h,e.s=m,e.l=g,e}getRGB(e,t=_n.workingColorSpace){return _n.workingToColorSpace(Fa.copy(this),t),e.r=Fa.r,e.g=Fa.g,e.b=Fa.b,e}getStyle(e=Ha){_n.workingToColorSpace(Fa.copy(this),e);const t=Fa.r,i=Fa.g,a=Fa.b;return e!==Ha?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,t,i){return this.getHSL(lu),this.setHSL(lu.h+e,lu.s+t,lu.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(lu),e.getHSL(ev);const i=h0(lu.h,ev.h,t),a=h0(lu.s,ev.s,t),r=h0(lu.l,ev.l,t);return this.setHSL(i,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,a=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*a,this.g=r[1]*t+r[4]*i+r[7]*a,this.b=r[2]*t+r[5]*i+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Fa=new vt;vt.NAMES=hD;let VF=0;class Xa extends vl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:VF++}),this.uuid=cr(),this.name="",this.type="Material",this.blending=Yf,this.side=ac,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ry,this.blendDst=oy,this.blendEquation=hu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new vt(0,0,0),this.blendAlpha=0,this.depthFunc=Jf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=sE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=zf,this.stencilZFail=zf,this.stencilZPass=zf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){ht(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){ht(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Yf&&(i.blending=this.blending),this.side!==ac&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==ry&&(i.blendSrc=this.blendSrc),this.blendDst!==oy&&(i.blendDst=this.blendDst),this.blendEquation!==hu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Jf&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==sE&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==zf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==zf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==zf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(r){const l=[];for(const u in r){const h=r[u];delete h.metadata,l.push(h)}return l}if(t){const r=a(e.textures),l=a(e.images);r.length>0&&(i.textures=r),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const a=t.length;i=new Array(a);for(let r=0;r!==a;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class wu extends Xa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ur,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Jl=HF();function HF(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let h=0;h<256;++h){const m=h-127;m<-27?(i[h]=0,i[h|256]=32768,a[h]=24,a[h|256]=24):m<-14?(i[h]=1024>>-m-14,i[h|256]=1024>>-m-14|32768,a[h]=-m-1,a[h|256]=-m-1):m<=15?(i[h]=m+15<<10,i[h|256]=m+15<<10|32768,a[h]=13,a[h|256]=13):m<128?(i[h]=31744,i[h|256]=64512,a[h]=24,a[h|256]=24):(i[h]=31744,i[h|256]=64512,a[h]=13,a[h|256]=13)}const r=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let m=h<<13,g=0;for(;(m&8388608)===0;)m<<=1,g-=8388608;m&=-8388609,g+=947912704,r[h]=m|g}for(let h=1024;h<2048;++h)r[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)l[h]=h<<23;l[31]=1199570944,l[32]=2147483648;for(let h=33;h<63;++h)l[h]=2147483648+(h-32<<23);l[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:a,mantissaTable:r,exponentTable:l,offsetTable:u}}function Ls(n){Math.abs(n)>65504&&ht("DataUtils.toHalfFloat(): Value out of range."),n=Gt(n,-65504,65504),Jl.floatView[0]=n;const e=Jl.uint32View[0],t=e>>23&511;return Jl.baseTable[t]+((e&8388607)>>Jl.shiftTable[t])}function $p(n){const e=n>>10;return Jl.uint32View[0]=Jl.mantissaTable[Jl.offsetTable[e]+(n&1023)]+Jl.exponentTable[e],Jl.floatView[0]}class kF{static toHalfFloat(e){return Ls(e)}static fromHalfFloat(e){return $p(e)}}const Yi=new re,tv=new We;let GF=0;class Kn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:GF++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=D0,this.updateRanges=[],this.gpuType=Is,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=t.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)tv.fromBufferAttribute(this,t),tv.applyMatrix3(e),this.setXY(t,tv.x,tv.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Yi.fromBufferAttribute(this,t),Yi.applyMatrix3(e),this.setXYZ(t,Yi.x,Yi.y,Yi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Yi.fromBufferAttribute(this,t),Yi.applyMatrix4(e),this.setXYZ(t,Yi.x,Yi.y,Yi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Yi.fromBufferAttribute(this,t),Yi.applyNormalMatrix(e),this.setXYZ(t,Yi.x,Yi.y,Yi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Yi.fromBufferAttribute(this,t),Yi.transformDirection(e),this.setXYZ(t,Yi.x,Yi.y,Yi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ps(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=an(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ps(t,this.array)),t}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ps(t,this.array)),t}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ps(t,this.array)),t}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ps(t,this.array)),t}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array),a=an(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array),a=an(a,this.array),r=an(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==D0&&(e.usage=this.usage),e}}class qF extends Kn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class jF extends Kn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class XF extends Kn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class WF extends Kn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class TM extends Kn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class YF extends Kn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class AM extends Kn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class ZF extends Kn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=$p(this.array[e*this.itemSize]);return this.normalized&&(t=ps(t,this.array)),t}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize]=Ls(t),this}getY(e){let t=$p(this.array[e*this.itemSize+1]);return this.normalized&&(t=ps(t,this.array)),t}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+1]=Ls(t),this}getZ(e){let t=$p(this.array[e*this.itemSize+2]);return this.normalized&&(t=ps(t,this.array)),t}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+2]=Ls(t),this}getW(e){let t=$p(this.array[e*this.itemSize+3]);return this.normalized&&(t=ps(t,this.array)),t}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+3]=Ls(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array)),this.array[e+0]=Ls(t),this.array[e+1]=Ls(i),this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array),a=an(a,this.array)),this.array[e+0]=Ls(t),this.array[e+1]=Ls(i),this.array[e+2]=Ls(a),this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array),a=an(a,this.array),r=an(r,this.array)),this.array[e+0]=Ls(t),this.array[e+1]=Ls(i),this.array[e+2]=Ls(a),this.array[e+3]=Ls(r),this}}class Mt extends Kn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let KF=0;const Dr=new Xt,wS=new An,gh=new re,rr=new ja,Fp=new ja,ma=new re;class tn extends vl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:KF++}),this.uuid=cr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(uD(e)?AM:TM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new en().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dr.makeRotationFromQuaternion(e),this.applyMatrix4(Dr),this}rotateX(e){return Dr.makeRotationX(e),this.applyMatrix4(Dr),this}rotateY(e){return Dr.makeRotationY(e),this.applyMatrix4(Dr),this}rotateZ(e){return Dr.makeRotationZ(e),this.applyMatrix4(Dr),this}translate(e,t,i){return Dr.makeTranslation(e,t,i),this.applyMatrix4(Dr),this}scale(e,t,i){return Dr.makeScale(e,t,i),this.applyMatrix4(Dr),this}lookAt(e){return wS.lookAt(e),wS.updateMatrix(),this.applyMatrix4(wS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gh).negate(),this.translate(gh.x,gh.y,gh.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let a=0,r=e.length;a<r;a++){const l=e[a];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new Mt(i,3))}else{const i=Math.min(e.length,t.count);for(let a=0;a<i;a++){const r=e[a];t.setXYZ(a,r.x,r.y,r.z||0)}e.length>t.count&&ht("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ja);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Wt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const r=t[i];rr.setFromBufferAttribute(r),this.morphTargetsRelative?(ma.addVectors(this.boundingBox.min,rr.min),this.boundingBox.expandByPoint(ma),ma.addVectors(this.boundingBox.max,rr.max),this.boundingBox.expandByPoint(ma)):(this.boundingBox.expandByPoint(rr.min),this.boundingBox.expandByPoint(rr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Wt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ca);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Wt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new re,1/0);return}if(e){const i=this.boundingSphere.center;if(rr.setFromBufferAttribute(e),t)for(let r=0,l=t.length;r<l;r++){const u=t[r];Fp.setFromBufferAttribute(u),this.morphTargetsRelative?(ma.addVectors(rr.min,Fp.min),rr.expandByPoint(ma),ma.addVectors(rr.max,Fp.max),rr.expandByPoint(ma)):(rr.expandByPoint(Fp.min),rr.expandByPoint(Fp.max))}rr.getCenter(i);let a=0;for(let r=0,l=e.count;r<l;r++)ma.fromBufferAttribute(e,r),a=Math.max(a,i.distanceToSquared(ma));if(t)for(let r=0,l=t.length;r<l;r++){const u=t[r],h=this.morphTargetsRelative;for(let m=0,g=u.count;m<g;m++)ma.fromBufferAttribute(u,m),h&&(gh.fromBufferAttribute(e,m),ma.add(gh)),a=Math.max(a,i.distanceToSquared(ma))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&Wt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Wt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,a=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kn(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],h=[];for(let H=0;H<i.count;H++)u[H]=new re,h[H]=new re;const m=new re,g=new re,v=new re,b=new We,S=new We,M=new We,A=new re,T=new re;function _(H,I,P){m.fromBufferAttribute(i,H),g.fromBufferAttribute(i,I),v.fromBufferAttribute(i,P),b.fromBufferAttribute(r,H),S.fromBufferAttribute(r,I),M.fromBufferAttribute(r,P),g.sub(m),v.sub(m),S.sub(b),M.sub(b);const j=1/(S.x*M.y-M.x*S.y);isFinite(j)&&(A.copy(g).multiplyScalar(M.y).addScaledVector(v,-S.y).multiplyScalar(j),T.copy(v).multiplyScalar(S.x).addScaledVector(g,-M.x).multiplyScalar(j),u[H].add(A),u[I].add(A),u[P].add(A),h[H].add(T),h[I].add(T),h[P].add(T))}let L=this.groups;L.length===0&&(L=[{start:0,count:e.count}]);for(let H=0,I=L.length;H<I;++H){const P=L[H],j=P.start,Z=P.count;for(let W=j,Y=j+Z;W<Y;W+=3)_(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const O=new re,F=new re,D=new re,U=new re;function B(H){D.fromBufferAttribute(a,H),U.copy(D);const I=u[H];O.copy(I),O.sub(D.multiplyScalar(D.dot(I))).normalize(),F.crossVectors(U,I);const j=F.dot(h[H])<0?-1:1;l.setXYZW(H,O.x,O.y,O.z,j)}for(let H=0,I=L.length;H<I;++H){const P=L[H],j=P.start,Z=P.count;for(let W=j,Y=j+Z;W<Y;W+=3)B(e.getX(W+0)),B(e.getX(W+1)),B(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Kn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let b=0,S=i.count;b<S;b++)i.setXYZ(b,0,0,0);const a=new re,r=new re,l=new re,u=new re,h=new re,m=new re,g=new re,v=new re;if(e)for(let b=0,S=e.count;b<S;b+=3){const M=e.getX(b+0),A=e.getX(b+1),T=e.getX(b+2);a.fromBufferAttribute(t,M),r.fromBufferAttribute(t,A),l.fromBufferAttribute(t,T),g.subVectors(l,r),v.subVectors(a,r),g.cross(v),u.fromBufferAttribute(i,M),h.fromBufferAttribute(i,A),m.fromBufferAttribute(i,T),u.add(g),h.add(g),m.add(g),i.setXYZ(M,u.x,u.y,u.z),i.setXYZ(A,h.x,h.y,h.z),i.setXYZ(T,m.x,m.y,m.z)}else for(let b=0,S=t.count;b<S;b+=3)a.fromBufferAttribute(t,b+0),r.fromBufferAttribute(t,b+1),l.fromBufferAttribute(t,b+2),g.subVectors(l,r),v.subVectors(a,r),g.cross(v),i.setXYZ(b+0,g.x,g.y,g.z),i.setXYZ(b+1,g.x,g.y,g.z),i.setXYZ(b+2,g.x,g.y,g.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ma.fromBufferAttribute(e,t),ma.normalize(),e.setXYZ(t,ma.x,ma.y,ma.z)}toNonIndexed(){function e(u,h){const m=u.array,g=u.itemSize,v=u.normalized,b=new m.constructor(h.length*g);let S=0,M=0;for(let A=0,T=h.length;A<T;A++){u.isInterleavedBufferAttribute?S=h[A]*u.data.stride+u.offset:S=h[A]*g;for(let _=0;_<g;_++)b[M++]=m[S++]}return new Kn(b,g,v)}if(this.index===null)return ht("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tn,i=this.index.array,a=this.attributes;for(const u in a){const h=a[u],m=e(h,i);t.setAttribute(u,m)}const r=this.morphAttributes;for(const u in r){const h=[],m=r[u];for(let g=0,v=m.length;g<v;g++){const b=m[g],S=e(b,i);h.push(S)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,h=l.length;u<h;u++){const m=l[u];t.addGroup(m.start,m.count,m.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const m in h)h[m]!==void 0&&(e[m]=h[m]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const h in i){const m=i[h];e.data.attributes[h]=m.toJSON(e.data)}const a={};let r=!1;for(const h in this.morphAttributes){const m=this.morphAttributes[h],g=[];for(let v=0,b=m.length;v<b;v++){const S=m[v];g.push(S.toJSON(e.data))}g.length>0&&(a[h]=g,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const a=e.attributes;for(const m in a){const g=a[m];this.setAttribute(m,g.clone(t))}const r=e.morphAttributes;for(const m in r){const g=[],v=r[m];for(let b=0,S=v.length;b<S;b++)g.push(v[b].clone(t));this.morphAttributes[m]=g}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let m=0,g=l.length;m<g;m++){const v=l[m];this.addGroup(v.start,v.count,v.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Y3=new Xt,Sf=new hm,nv=new Ca,Z3=new re,iv=new re,av=new re,sv=new re,TS=new re,rv=new re,K3=new re,ov=new re;class ra extends An{constructor(e=new tn,t=new wu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}getVertexPosition(e,t){const i=this.geometry,a=i.attributes.position,r=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(a,e);const u=this.morphTargetInfluences;if(r&&u){rv.set(0,0,0);for(let h=0,m=r.length;h<m;h++){const g=u[h],v=r[h];g!==0&&(TS.fromBufferAttribute(v,e),l?rv.addScaledVector(TS,g):rv.addScaledVector(TS.sub(t),g))}t.add(rv)}return t}raycast(e,t){const i=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),nv.copy(i.boundingSphere),nv.applyMatrix4(r),Sf.copy(e.ray).recast(e.near),!(nv.containsPoint(Sf.origin)===!1&&(Sf.intersectSphere(nv,Z3)===null||Sf.origin.distanceToSquared(Z3)>(e.far-e.near)**2))&&(Y3.copy(r).invert(),Sf.copy(e.ray).applyMatrix4(Y3),!(i.boundingBox!==null&&Sf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Sf)))}_computeIntersections(e,t,i){let a;const r=this.geometry,l=this.material,u=r.index,h=r.attributes.position,m=r.attributes.uv,g=r.attributes.uv1,v=r.attributes.normal,b=r.groups,S=r.drawRange;if(u!==null)if(Array.isArray(l))for(let M=0,A=b.length;M<A;M++){const T=b[M],_=l[T.materialIndex],L=Math.max(T.start,S.start),O=Math.min(u.count,Math.min(T.start+T.count,S.start+S.count));for(let F=L,D=O;F<D;F+=3){const U=u.getX(F),B=u.getX(F+1),H=u.getX(F+2);a=lv(this,_,e,i,m,g,v,U,B,H),a&&(a.faceIndex=Math.floor(F/3),a.face.materialIndex=T.materialIndex,t.push(a))}}else{const M=Math.max(0,S.start),A=Math.min(u.count,S.start+S.count);for(let T=M,_=A;T<_;T+=3){const L=u.getX(T),O=u.getX(T+1),F=u.getX(T+2);a=lv(this,l,e,i,m,g,v,L,O,F),a&&(a.faceIndex=Math.floor(T/3),t.push(a))}}else if(h!==void 0)if(Array.isArray(l))for(let M=0,A=b.length;M<A;M++){const T=b[M],_=l[T.materialIndex],L=Math.max(T.start,S.start),O=Math.min(h.count,Math.min(T.start+T.count,S.start+S.count));for(let F=L,D=O;F<D;F+=3){const U=F,B=F+1,H=F+2;a=lv(this,_,e,i,m,g,v,U,B,H),a&&(a.faceIndex=Math.floor(F/3),a.face.materialIndex=T.materialIndex,t.push(a))}}else{const M=Math.max(0,S.start),A=Math.min(h.count,S.start+S.count);for(let T=M,_=A;T<_;T+=3){const L=T,O=T+1,F=T+2;a=lv(this,l,e,i,m,g,v,L,O,F),a&&(a.faceIndex=Math.floor(T/3),t.push(a))}}}}function QF(n,e,t,i,a,r,l,u){let h;if(e.side===xs?h=i.intersectTriangle(l,r,a,!0,u):h=i.intersectTriangle(a,r,l,e.side===ac,u),h===null)return null;ov.copy(u),ov.applyMatrix4(n.matrixWorld);const m=t.ray.origin.distanceTo(ov);return m<t.near||m>t.far?null:{distance:m,point:ov.clone(),object:n}}function lv(n,e,t,i,a,r,l,u,h,m){n.getVertexPosition(u,iv),n.getVertexPosition(h,av),n.getVertexPosition(m,sv);const g=QF(n,e,t,i,iv,av,sv,K3);if(g){const v=new re;Ps.getBarycoord(K3,iv,av,sv,v),a&&(g.uv=Ps.getInterpolatedAttribute(a,u,h,m,v,new We)),r&&(g.uv1=Ps.getInterpolatedAttribute(r,u,h,m,v,new We)),l&&(g.normal=Ps.getInterpolatedAttribute(l,u,h,m,v,new re),g.normal.dot(i.direction)>0&&g.normal.multiplyScalar(-1));const b={a:u,b:h,c:m,normal:new re,materialIndex:0};Ps.getNormal(iv,av,sv,b.normal),g.face=b,g.barycoord=v}return g}class id extends tn{constructor(e=1,t=1,i=1,a=1,r=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:r,depthSegments:l};const u=this;a=Math.floor(a),r=Math.floor(r),l=Math.floor(l);const h=[],m=[],g=[],v=[];let b=0,S=0;M("z","y","x",-1,-1,i,t,e,l,r,0),M("z","y","x",1,-1,i,t,-e,l,r,1),M("x","z","y",1,1,e,i,t,a,l,2),M("x","z","y",1,-1,e,i,-t,a,l,3),M("x","y","z",1,-1,e,t,i,a,r,4),M("x","y","z",-1,-1,e,t,-i,a,r,5),this.setIndex(h),this.setAttribute("position",new Mt(m,3)),this.setAttribute("normal",new Mt(g,3)),this.setAttribute("uv",new Mt(v,2));function M(A,T,_,L,O,F,D,U,B,H,I){const P=F/B,j=D/H,Z=F/2,W=D/2,Y=U/2,ne=B+1,k=H+1;let z=0,$=0;const X=new re;for(let N=0;N<k;N++){const G=N*j-W;for(let ae=0;ae<ne;ae++){const fe=ae*P-Z;X[A]=fe*L,X[T]=G*O,X[_]=Y,m.push(X.x,X.y,X.z),X[A]=0,X[T]=0,X[_]=U>0?1:-1,g.push(X.x,X.y,X.z),v.push(ae/B),v.push(1-N/H),z+=1}}for(let N=0;N<H;N++)for(let G=0;G<B;G++){const ae=b+G+ne*N,fe=b+G+ne*(N+1),ce=b+(G+1)+ne*(N+1),_e=b+(G+1)+ne*N;h.push(ae,fe,_e),h.push(fe,ce,_e),$+=6}u.addGroup(S,$,I),S+=$,b+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new id(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Jh(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const a=n[t][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(ht("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=a.clone():Array.isArray(a)?e[t][i]=a.slice():e[t][i]=a}}return e}function ms(n){const e={};for(let t=0;t<n.length;t++){const i=Jh(n[t]);for(const a in i)e[a]=i[a]}return e}function JF(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function mD(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:_n.workingColorSpace}const pD={clone:Jh,merge:ms};var $F=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,eV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class zr extends Xa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$F,this.fragmentShader=eV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Jh(e.uniforms),this.uniformsGroups=JF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Tb extends An{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt,this.coordinateSystem=lr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const cu=new re,Q3=new We,J3=new We;class pa extends Tb{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Kh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Zf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Kh*2*Math.atan(Math.tan(Zf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){cu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(cu.x,cu.y).multiplyScalar(-e/cu.z),cu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(cu.x,cu.y).multiplyScalar(-e/cu.z)}getViewSize(e,t){return this.getViewBounds(e,Q3,J3),t.subVectors(J3,Q3)}setViewOffset(e,t,i,a,r,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Zf*.5*this.fov)/this.zoom,i=2*t,a=this.aspect*i,r=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const h=l.fullWidth,m=l.fullHeight;r+=l.offsetX*a/h,t-=l.offsetY*i/m,a*=l.width/h,i*=l.height/m}const u=this.filmOffset;u!==0&&(r+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const xh=-90,vh=1;class gD extends An{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new pa(xh,vh,e,t);a.layers=this.layers,this.add(a);const r=new pa(xh,vh,e,t);r.layers=this.layers,this.add(r);const l=new pa(xh,vh,e,t);l.layers=this.layers,this.add(l);const u=new pa(xh,vh,e,t);u.layers=this.layers,this.add(u);const h=new pa(xh,vh,e,t);h.layers=this.layers,this.add(h);const m=new pa(xh,vh,e,t);m.layers=this.layers,this.add(m)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,a,r,l,u,h]=t;for(const m of t)this.remove(m);if(e===lr)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===Yh)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const m of t)this.add(m),m.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,l,u,h,m,g]=this.children,v=e.getRenderTarget(),b=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,r),e.setRenderTarget(i,1,a),e.render(t,l),e.setRenderTarget(i,2,a),e.render(t,u),e.setRenderTarget(i,3,a),e.render(t,h),e.setRenderTarget(i,4,a),e.render(t,m),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,a),e.render(t,g),e.setRenderTarget(v,b,S),e.xr.enabled=M,i.texture.needsPMREMUpdate=!0}}class tg extends Ci{constructor(e=[],t=sc,i,a,r,l,u,h,m,g){super(e,t,i,a,r,l,u,h,m,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class xD extends xl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new tg(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new id(5,5,5),r=new zr({name:"CubemapFromEquirect",uniforms:Jh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:xs,blending:pl});r.uniforms.tEquirect.value=t;const l=new ra(a,r),u=t.minFilter;return t.minFilter===ul&&(t.minFilter=Fi),new gD(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,i=!0,a=!0){const r=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,a);e.setRenderTarget(r)}}class Ih extends An{constructor(){super(),this.isGroup=!0,this.type="Group"}}const tV={type:"move"};class Kv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ih,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ih,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ih,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let a=null,r=null,l=null;const u=this._targetRay,h=this._grip,m=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(m&&e.hand){l=!0;for(const A of e.hand.values()){const T=t.getJointPose(A,i),_=this._getHandJoint(m,A);T!==null&&(_.matrix.fromArray(T.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=T.radius),_.visible=T!==null}const g=m.joints["index-finger-tip"],v=m.joints["thumb-tip"],b=g.position.distanceTo(v.position),S=.02,M=.005;m.inputState.pinching&&b>S+M?(m.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!m.inputState.pinching&&b<=S-M&&(m.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(a=t.getPose(e.targetRaySpace,i),a===null&&r!==null&&(a=r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(tV)))}return u!==null&&(u.visible=a!==null),h!==null&&(h.visible=r!==null),m!==null&&(m.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ih;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Ab{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new vt(e),this.density=t}clone(){return new Ab(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Cb{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new vt(e),this.near=t,this.far=i}clone(){return new Cb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class CM extends An{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ur,this.environmentIntensity=1,this.environmentRotation=new ur,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Nb{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=D0,this.updateRanges=[],this.version=0,this.uuid=cr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let a=0,r=this.stride;a<r;a++)this.array[e+a]=t.array[i+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hs=new re;class $f{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)hs.fromBufferAttribute(this,t),hs.applyMatrix4(e),this.setXYZ(t,hs.x,hs.y,hs.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)hs.fromBufferAttribute(this,t),hs.applyNormalMatrix(e),this.setXYZ(t,hs.x,hs.y,hs.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)hs.fromBufferAttribute(this,t),hs.transformDirection(e),this.setXYZ(t,hs.x,hs.y,hs.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=ps(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=an(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ps(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ps(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ps(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ps(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),i=an(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),i=an(i,this.array),a=an(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),i=an(i,this.array),a=an(a,this.array),r=an(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=r,this}clone(e){if(e===void 0){L0("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return new Kn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new $f(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){L0("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class NM extends Xa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let yh;const Vp=new re,bh=new re,_h=new re,Sh=new We,Hp=new We,vD=new Xt,cv=new re,kp=new re,uv=new re,$3=new We,AS=new We,eT=new We;class yD extends An{constructor(e=new NM){if(super(),this.isSprite=!0,this.type="Sprite",yh===void 0){yh=new tn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Nb(t,5);yh.setIndex([0,1,2,0,2,3]),yh.setAttribute("position",new $f(i,3,0,!1)),yh.setAttribute("uv",new $f(i,2,3,!1))}this.geometry=yh,this.material=e,this.center=new We(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Wt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bh.setFromMatrixScale(this.matrixWorld),vD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_h.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&bh.multiplyScalar(-_h.z);const i=this.material.rotation;let a,r;i!==0&&(r=Math.cos(i),a=Math.sin(i));const l=this.center;fv(cv.set(-.5,-.5,0),_h,l,bh,a,r),fv(kp.set(.5,-.5,0),_h,l,bh,a,r),fv(uv.set(.5,.5,0),_h,l,bh,a,r),$3.set(0,0),AS.set(1,0),eT.set(1,1);let u=e.ray.intersectTriangle(cv,kp,uv,!1,Vp);if(u===null&&(fv(kp.set(-.5,.5,0),_h,l,bh,a,r),AS.set(0,1),u=e.ray.intersectTriangle(cv,uv,kp,!1,Vp),u===null))return;const h=e.ray.origin.distanceTo(Vp);h<e.near||h>e.far||t.push({distance:h,point:Vp.clone(),uv:Ps.getInterpolation(Vp,cv,kp,uv,$3,AS,eT,new We),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function fv(n,e,t,i,a,r){Sh.subVectors(n,t).addScalar(.5).multiply(i),a!==void 0?(Hp.x=r*Sh.x-a*Sh.y,Hp.y=a*Sh.x+r*Sh.y):Hp.copy(Sh),n.copy(e),n.x+=Hp.x,n.y+=Hp.y,n.applyMatrix4(vD)}const dv=new re,tT=new re;class bD extends An{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,a=t.length;i<a;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const a=this.levels;let r;for(r=0;r<a.length&&!(t<a[r].distance);r++);return a.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const a=t.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,a;for(i=1,a=t.length;i<a;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){dv.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(dv);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){dv.setFromMatrixPosition(e.matrixWorld),tT.setFromMatrixPosition(this.matrixWorld);const i=dv.distanceTo(tT)/e.zoom;t[0].object.visible=!0;let a,r;for(a=1,r=t.length;a<r;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),i>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<r;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let a=0,r=i.length;a<r;a++){const l=i[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const nT=new re,iT=new Tn,aT=new Tn,nV=new re,sT=new Xt,hv=new re,CS=new Ca,rT=new Xt,NS=new hm;class _D extends ra{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=aE,this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ja),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,hv),this.boundingBox.expandByPoint(hv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ca),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,hv),this.boundingSphere.expandByPoint(hv)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),CS.copy(this.boundingSphere),CS.applyMatrix4(a),e.ray.intersectsSphere(CS)!==!1&&(rT.copy(a).invert(),NS.copy(e.ray).applyMatrix4(rT),!(this.boundingBox!==null&&NS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,NS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Tn,t=this.geometry.attributes.skinWeight;for(let i=0,a=t.count;i<a;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===aE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===KR?this.bindMatrixInverse.copy(this.bindMatrix).invert():ht("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,a=this.geometry;iT.fromBufferAttribute(a.attributes.skinIndex,e),aT.fromBufferAttribute(a.attributes.skinWeight,e),nT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const l=aT.getComponent(r);if(l!==0){const u=iT.getComponent(r);sT.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(nV.copy(nT).applyMatrix4(sT),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class RM extends An{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bo extends Ci{constructor(e=null,t=1,i=1,a,r,l,u,h,m=Aa,g=Aa,v,b){super(null,l,u,h,m,g,a,r,v,b),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const oT=new Xt,iV=new Xt;class Rb{constructor(e=[],t=[]){this.uuid=cr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){ht("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Xt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let r=0,l=e.length;r<l;r++){const u=e[r]?e[r].matrixWorld:iV;oT.multiplyMatrices(u,t[r]),oT.toArray(i,r*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new Rb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new bo(t,e,e,qa,Is);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,a=e.bones.length;i<a;i++){const r=e.bones[i];let l=t[r];l===void 0&&(ht("Skeleton: No bone found with UUID:",r),l=new RM),this.bones.push(l),this.boneInverses.push(new Xt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let a=0,r=t.length;a<r;a++){const l=t[a];e.bones.push(l.uuid);const u=i[a];e.boneInverses.push(u.toArray())}return e}}class $h extends Kn{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Eh=new Xt,lT=new Xt,mv=[],cT=new ja,aV=new Xt,Gp=new ra,qp=new Ca;class SD extends ra{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new $h(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,aV)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ja),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Eh),cT.copy(e.boundingBox).applyMatrix4(Eh),this.boundingBox.union(cT)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ca),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Eh),qp.copy(e.boundingSphere).applyMatrix4(Eh),this.boundingSphere.union(qp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,r=i.length+1,l=e*r+1;for(let u=0;u<i.length;u++)i[u]=a[l+u]}raycast(e,t){const i=this.matrixWorld,a=this.count;if(Gp.geometry=this.geometry,Gp.material=this.material,Gp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),qp.copy(this.boundingSphere),qp.applyMatrix4(i),e.ray.intersectsSphere(qp)!==!1))for(let r=0;r<a;r++){this.getMatrixAt(r,Eh),lT.multiplyMatrices(i,Eh),Gp.matrixWorld=lT,Gp.raycast(e,mv);for(let l=0,u=mv.length;l<u;l++){const h=mv[l];h.instanceId=r,h.object=this,t.push(h)}mv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new $h(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new bo(new Float32Array(a*this.count),a,this.count,yb,Is));const r=this.morphTexture.source.data.data;let l=0;for(let m=0;m<i.length;m++)l+=i[m];const u=this.geometry.morphTargetsRelative?1:1-l,h=a*e;r[h]=u,r.set(i,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const RS=new re,sV=new re,rV=new en;class du{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const a=RS.subVectors(i,t).cross(sV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(RS),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||rV.getNormalMatrix(e),a=this.coplanarPoint(RS).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ef=new Ca,oV=new We(.5,.5),pv=new re;class mm{constructor(e=new du,t=new du,i=new du,a=new du,r=new du,l=new du){this.planes=[e,t,i,a,r,l]}set(e,t,i,a,r,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(a),u[4].copy(r),u[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=lr,i=!1){const a=this.planes,r=e.elements,l=r[0],u=r[1],h=r[2],m=r[3],g=r[4],v=r[5],b=r[6],S=r[7],M=r[8],A=r[9],T=r[10],_=r[11],L=r[12],O=r[13],F=r[14],D=r[15];if(a[0].setComponents(m-l,S-g,_-M,D-L).normalize(),a[1].setComponents(m+l,S+g,_+M,D+L).normalize(),a[2].setComponents(m+u,S+v,_+A,D+O).normalize(),a[3].setComponents(m-u,S-v,_-A,D-O).normalize(),i)a[4].setComponents(h,b,T,F).normalize(),a[5].setComponents(m-h,S-b,_-T,D-F).normalize();else if(a[4].setComponents(m-h,S-b,_-T,D-F).normalize(),t===lr)a[5].setComponents(m+h,S+b,_+T,D+F).normalize();else if(t===Yh)a[5].setComponents(h,b,T,F).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ef.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ef.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ef)}intersectsSprite(e){Ef.center.set(0,0,0);const t=oV.distanceTo(e.center);return Ef.radius=.7071067811865476+t,Ef.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ef)}intersectsSphere(e){const t=this.planes,i=e.center,a=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const a=t[i];if(pv.x=a.normal.x>0?e.max.x:e.min.x,pv.y=a.normal.y>0?e.max.y:e.min.y,pv.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(pv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ol=new Xt,ll=new mm;class Db{constructor(){this.coordinateSystem=lr}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.containsPoint(e))return!0}return!1}clone(){return new Db}}function DS(n,e){return n-e}function lV(n,e){return n.z-e.z}function cV(n,e){return e.z-n.z}class uV{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,a){const r=this.pool,l=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const u=r[this.index];l.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=a}reset(){this.list.length=0,this.index=0}}const Os=new Xt,fV=new vt(1,1,1),uT=new mm,dV=new Db,gv=new ja,Mf=new Ca,jp=new re,fT=new re,hV=new re,OS=new uV,Va=new ra,xv=[];function mV(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let r=0;r<a;r++)for(let l=0;l<i;l++)e.setComponent(r+t,l,n.getComponent(r,l))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function wf(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class ED extends ra{constructor(e,t,i=t*2,a){super(new tn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new bo(t,e,e,qa,Is);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new bo(t,e,e,eg,rc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new bo(t,e,e,qa,Is);i.colorSpace=_n.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const l=e.getAttribute(r),{array:u,itemSize:h,normalized:m}=l,g=new u.constructor(i*h),v=new Kn(g,h,m);t.setAttribute(r,v)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new Kn(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=e.getAttribute(i),r=t.getAttribute(i);if(a.itemSize!==r.itemSize||a.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ja);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Os),this.getBoundingBoxAt(r,gv).applyMatrix4(Os),e.union(gv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ca);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Os),this.getBoundingSphereAt(r,Mf).applyMatrix4(Os),e.union(Mf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(DS),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;Os.identity().toArray(r.image.data,a*16),r.needsUpdate=!0;const l=this._colorsTexture;return l&&(fV.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?l.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(DS),h=this._availableGeometryIds.shift(),r[h]=a):(h=this._geometryCount,this._geometryCount++,r.push(a)),this.setGeometryAt(h,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,a=i.getIndex()!==null,r=i.getIndex(),l=t.getIndex(),u=this._geometryInfo[e];if(a&&l.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,m=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const g in i.attributes){const v=t.getAttribute(g),b=i.getAttribute(g);mV(v,b,h);const S=v.itemSize;for(let M=v.count,A=m;M<A;M++){const T=h+M;for(let _=0;_<S;_++)b.setComponent(T,_,0)}b.needsUpdate=!0,b.addUpdateRange(h*S,m*S)}if(a){const g=u.indexStart,v=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let b=0;b<l.count;b++)r.setX(g+b,h+l.getX(b));for(let b=l.count,S=v;b<S;b++)r.setX(g+b,h);r.needsUpdate=!0,r.addUpdateRange(g,u.reservedIndexCount)}return u.start=a?u.indexStart:u.vertexStart,u.count=a?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let a=0,r=i.length;a<r;a++)i[a].active&&i[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,a=i.map((l,u)=>u).sort((l,u)=>i[l].vertexStart-i[u].vertexStart),r=this.geometry;for(let l=0,u=i.length;l<u;l++){const h=a[l],m=i[h];if(m.active!==!1){if(r.index!==null){if(m.indexStart!==t){const{indexStart:g,vertexStart:v,reservedIndexCount:b}=m,S=r.index,M=S.array,A=e-v;for(let T=g;T<g+b;T++)M[T]=M[T]+A;S.array.copyWithin(t,g,g+b),S.addUpdateRange(t,b),m.indexStart=t}t+=m.reservedIndexCount}if(m.vertexStart!==e){const{vertexStart:g,reservedVertexCount:v}=m,b=r.attributes;for(const S in b){const M=b[S],{array:A,itemSize:T}=M;A.copyWithin(e*T,g*T,(g+v)*T),M.addUpdateRange(e*T,v*T)}m.vertexStart=e}e+=m.reservedVertexCount,m.start=r.index?m.indexStart:m.vertexStart,this._nextIndexStart=r.index?m.indexStart+m.reservedIndexCount:0,this._nextVertexStart=m.vertexStart+m.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const r=new ja,l=i.index,u=i.attributes.position;for(let h=a.start,m=a.start+a.count;h<m;h++){let g=h;l&&(g=l.getX(g)),r.expandByPoint(jp.fromBufferAttribute(u,g))}a.boundingBox=r}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const r=new Ca;this.getBoundingBoxAt(e,gv),gv.getCenter(r.center);const l=i.index,u=i.attributes.position;let h=0;for(let m=a.start,g=a.start+a.count;m<g;m++){let v=m;l&&(v=l.getX(v)),jp.fromBufferAttribute(u,v),h=Math.max(h,r.center.distanceToSquared(jp))}r.radius=Math.sqrt(h),a.boundingSphere=r}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(DS);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),r=new Int32Array(e);wf(this._multiDrawCounts,a),wf(this._multiDrawStarts,r),this._multiDrawCounts=a,this._multiDrawStarts=r,this._maxInstanceCount=e;const l=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;l.dispose(),this._initIndirectTexture(),wf(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),wf(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),wf(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(r));const l=this.geometry;r.index&&wf(r.index.array,l.index.array);for(const u in r.attributes)wf(r.attributes[u].array,l.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,a=this._geometryInfo,r=this.matrixWorld,l=this.geometry;Va.material=this.material,Va.geometry.index=l.index,Va.geometry.attributes=l.attributes,Va.geometry.boundingBox===null&&(Va.geometry.boundingBox=new ja),Va.geometry.boundingSphere===null&&(Va.geometry.boundingSphere=new Ca);for(let u=0,h=i.length;u<h;u++){if(!i[u].visible||!i[u].active)continue;const m=i[u].geometryIndex,g=a[m];Va.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(u,Va.matrixWorld).premultiply(r),this.getBoundingBoxAt(m,Va.geometry.boundingBox),this.getBoundingSphereAt(m,Va.geometry.boundingSphere),Va.raycast(e,xv);for(let v=0,b=xv.length;v<b;v++){const S=xv[v];S.object=this,S.batchId=u,t.push(S)}xv.length=0}Va.material=null,Va.geometry.index=null,Va.geometry.attributes={},Va.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,a,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,h=this._instanceInfo,m=this._multiDrawStarts,g=this._multiDrawCounts,v=this._geometryInfo,b=this.perObjectFrustumCulled,S=this._indirectTexture,M=S.image.data,A=i.isArrayCamera?dV:uT;b&&!i.isArrayCamera&&(Os.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),uT.setFromProjectionMatrix(Os,i.coordinateSystem,i.reversedDepth));let T=0;if(this.sortObjects){Os.copy(this.matrixWorld).invert(),jp.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Os),fT.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Os);for(let O=0,F=h.length;O<F;O++)if(h[O].visible&&h[O].active){const D=h[O].geometryIndex;this.getMatrixAt(O,Os),this.getBoundingSphereAt(D,Mf).applyMatrix4(Os);let U=!1;if(b&&(U=!A.intersectsSphere(Mf,i)),!U){const B=v[D],H=hV.subVectors(Mf.center,jp).dot(fT);OS.push(B.start,B.count,H,O)}}const _=OS.list,L=this.customSort;L===null?_.sort(r.transparent?cV:lV):L.call(this,_,i);for(let O=0,F=_.length;O<F;O++){const D=_[O];m[T]=D.start*u,g[T]=D.count,M[T]=D.index,T++}OS.reset()}else for(let _=0,L=h.length;_<L;_++)if(h[_].visible&&h[_].active){const O=h[_].geometryIndex;let F=!1;if(b&&(this.getMatrixAt(_,Os),this.getBoundingSphereAt(O,Mf).applyMatrix4(Os),F=!A.intersectsSphere(Mf,i)),!F){const D=v[O];m[T]=D.start*u,g[T]=D.count,M[T]=_,T++}}S.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,i,a,r,l){this.onBeforeRender(e,null,a,r,l)}}class vs extends Xa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const qy=new re,jy=new re,dT=new Xt,Xp=new hm,vv=new Ca,LS=new re,hT=new re;class Su extends An{constructor(e=new tn,t=new vs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let a=1,r=t.count;a<r;a++)qy.fromBufferAttribute(t,a-1),jy.fromBufferAttribute(t,a),i[a]=i[a-1],i[a]+=qy.distanceTo(jy);e.setAttribute("lineDistance",new Mt(i,1))}else ht("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),vv.copy(i.boundingSphere),vv.applyMatrix4(a),vv.radius+=r,e.ray.intersectsSphere(vv)===!1)return;dT.copy(a).invert(),Xp.copy(e.ray).applyMatrix4(dT);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,m=this.isLineSegments?2:1,g=i.index,b=i.attributes.position;if(g!==null){const S=Math.max(0,l.start),M=Math.min(g.count,l.start+l.count);for(let A=S,T=M-1;A<T;A+=m){const _=g.getX(A),L=g.getX(A+1),O=yv(this,e,Xp,h,_,L,A);O&&t.push(O)}if(this.isLineLoop){const A=g.getX(M-1),T=g.getX(S),_=yv(this,e,Xp,h,A,T,M-1);_&&t.push(_)}}else{const S=Math.max(0,l.start),M=Math.min(b.count,l.start+l.count);for(let A=S,T=M-1;A<T;A+=m){const _=yv(this,e,Xp,h,A,A+1,A);_&&t.push(_)}if(this.isLineLoop){const A=yv(this,e,Xp,h,M-1,S,M-1);A&&t.push(A)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function yv(n,e,t,i,a,r,l){const u=n.geometry.attributes.position;if(qy.fromBufferAttribute(u,a),jy.fromBufferAttribute(u,r),t.distanceSqToSegment(qy,jy,LS,hT)>i)return;LS.applyMatrix4(n.matrixWorld);const m=e.ray.origin.distanceTo(LS);if(!(m<e.near||m>e.far))return{distance:m,point:hT.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const mT=new re,pT=new re;class yl extends Su{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let a=0,r=t.count;a<r;a+=2)mT.fromBufferAttribute(t,a),pT.fromBufferAttribute(t,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+mT.distanceTo(pT);e.setAttribute("lineDistance",new Mt(i,1))}else ht("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class MD extends Su{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class DM extends Xa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const gT=new Xt,oE=new hm,bv=new Ca,_v=new re;class wD extends An{constructor(e=new tn,t=new DM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),bv.copy(i.boundingSphere),bv.applyMatrix4(a),bv.radius+=r,e.ray.intersectsSphere(bv)===!1)return;gT.copy(a).invert(),oE.copy(e.ray).applyMatrix4(gT);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,m=i.index,v=i.attributes.position;if(m!==null){const b=Math.max(0,l.start),S=Math.min(m.count,l.start+l.count);for(let M=b,A=S;M<A;M++){const T=m.getX(M);_v.fromBufferAttribute(v,T),xT(_v,T,h,a,e,t,this)}}else{const b=Math.max(0,l.start),S=Math.min(v.count,l.start+l.count);for(let M=b,A=S;M<A;M++)_v.fromBufferAttribute(v,M),xT(_v,M,h,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function xT(n,e,t,i,a,r,l){const u=oE.distanceSqToPoint(n);if(u<t){const h=new re;oE.closestPointToPoint(n,h),h.applyMatrix4(i);const m=a.ray.origin.distanceTo(h);if(m<a.near||m>a.far)return;r.push({distance:m,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class TD extends Ci{constructor(e,t,i,a,r=Fi,l=Fi,u,h,m){super(e,t,i,a,r,l,u,h,m),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const g=this;function v(){g.needsUpdate=!0,g._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class pV extends TD{constructor(e,t,i,a,r,l,u,h){super({},e,t,i,a,r,l,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class gV extends Ci{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Aa,this.minFilter=Aa,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ob extends Ci{constructor(e,t,i,a,r,l,u,h,m,g,v,b){super(null,l,u,h,m,g,a,r,v,b),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xV extends Ob{constructor(e,t,i,a,r,l){super(e,t,i,r,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Bs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class vV extends Ob{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,sc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class yV extends Ci{constructor(e,t,i,a,r,l,u,h,m){super(e,t,i,a,r,l,u,h,m),this.isCanvasTexture=!0,this.needsUpdate=!0}}class OM extends Ci{constructor(e,t,i=rc,a,r,l,u=Aa,h=Aa,m,g=Xh,v=1){if(g!==Xh&&g!==Wh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const b={width:e,height:t,depth:v};super(b,a,r,l,u,h,g,i,m),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new pu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class LM extends Ci{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Lb extends tn{constructor(e=1,t=1,i=4,a=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:a,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),r=Math.max(1,Math.floor(r));const l=[],u=[],h=[],m=[],g=t/2,v=Math.PI/2*e,b=t,S=2*v+b,M=i*2+r,A=a+1,T=new re,_=new re;for(let L=0;L<=M;L++){let O=0,F=0,D=0,U=0;if(L<=i){const I=L/i,P=I*Math.PI/2;F=-g-e*Math.cos(P),D=e*Math.sin(P),U=-e*Math.cos(P),O=I*v}else if(L<=i+r){const I=(L-i)/r;F=-g+I*t,D=e,U=0,O=v+I*b}else{const I=(L-i-r)/i,P=I*Math.PI/2;F=g+e*Math.sin(P),D=e*Math.cos(P),U=e*Math.sin(P),O=v+b+I*v}const B=Math.max(0,Math.min(1,O/S));let H=0;L===0?H=.5/a:L===M&&(H=-.5/a);for(let I=0;I<=a;I++){const P=I/a,j=P*Math.PI*2,Z=Math.sin(j),W=Math.cos(j);_.x=-D*W,_.y=F,_.z=D*Z,u.push(_.x,_.y,_.z),T.set(-D*W,U,D*Z),T.normalize(),h.push(T.x,T.y,T.z),m.push(P+H,B)}if(L>0){const I=(L-1)*A;for(let P=0;P<a;P++){const j=I+P,Z=I+P+1,W=L*A+P,Y=L*A+P+1;l.push(j,Z,W),l.push(Z,Y,W)}}}this.setIndex(l),this.setAttribute("position",new Mt(u,3)),this.setAttribute("normal",new Mt(h,3)),this.setAttribute("uv",new Mt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Ub extends tn{constructor(e=1,t=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},t=Math.max(3,t);const r=[],l=[],u=[],h=[],m=new re,g=new We;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let v=0,b=3;v<=t;v++,b+=3){const S=i+v/t*a;m.x=e*Math.cos(S),m.y=e*Math.sin(S),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(l[b]/e+1)/2,g.y=(l[b+1]/e+1)/2,h.push(g.x,g.y)}for(let v=1;v<=t;v++)r.push(v,v+1,0);this.setIndex(r),this.setAttribute("position",new Mt(l,3)),this.setAttribute("normal",new Mt(u,3)),this.setAttribute("uv",new Mt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ub(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ng extends tn{constructor(e=1,t=1,i=1,a=32,r=1,l=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:r,openEnded:l,thetaStart:u,thetaLength:h};const m=this;a=Math.floor(a),r=Math.floor(r);const g=[],v=[],b=[],S=[];let M=0;const A=[],T=i/2;let _=0;L(),l===!1&&(e>0&&O(!0),t>0&&O(!1)),this.setIndex(g),this.setAttribute("position",new Mt(v,3)),this.setAttribute("normal",new Mt(b,3)),this.setAttribute("uv",new Mt(S,2));function L(){const F=new re,D=new re;let U=0;const B=(t-e)/i;for(let H=0;H<=r;H++){const I=[],P=H/r,j=P*(t-e)+e;for(let Z=0;Z<=a;Z++){const W=Z/a,Y=W*h+u,ne=Math.sin(Y),k=Math.cos(Y);D.x=j*ne,D.y=-P*i+T,D.z=j*k,v.push(D.x,D.y,D.z),F.set(ne,B,k).normalize(),b.push(F.x,F.y,F.z),S.push(W,1-P),I.push(M++)}A.push(I)}for(let H=0;H<a;H++)for(let I=0;I<r;I++){const P=A[I][H],j=A[I+1][H],Z=A[I+1][H+1],W=A[I][H+1];(e>0||I!==0)&&(g.push(P,j,W),U+=3),(t>0||I!==r-1)&&(g.push(j,Z,W),U+=3)}m.addGroup(_,U,0),_+=U}function O(F){const D=M,U=new We,B=new re;let H=0;const I=F===!0?e:t,P=F===!0?1:-1;for(let Z=1;Z<=a;Z++)v.push(0,T*P,0),b.push(0,P,0),S.push(.5,.5),M++;const j=M;for(let Z=0;Z<=a;Z++){const Y=Z/a*h+u,ne=Math.cos(Y),k=Math.sin(Y);B.x=I*k,B.y=T*P,B.z=I*ne,v.push(B.x,B.y,B.z),b.push(0,P,0),U.x=ne*.5+.5,U.y=k*.5*P+.5,S.push(U.x,U.y),M++}for(let Z=0;Z<a;Z++){const W=D+Z,Y=j+Z;F===!0?g.push(Y,Y+1,W):g.push(Y+1,Y,W),H+=3}m.addGroup(_,H,F===!0?1:2),_+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ng(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ig extends ng{constructor(e=1,t=1,i=32,a=1,r=!1,l=0,u=Math.PI*2){super(0,e,t,i,a,r,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:r,thetaStart:l,thetaLength:u}}static fromJSON(e){return new ig(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Tu extends tn{constructor(e=[],t=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:a};const r=[],l=[];u(a),m(i),g(),this.setAttribute("position",new Mt(r,3)),this.setAttribute("normal",new Mt(r.slice(),3)),this.setAttribute("uv",new Mt(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function u(L){const O=new re,F=new re,D=new re;for(let U=0;U<t.length;U+=3)S(t[U+0],O),S(t[U+1],F),S(t[U+2],D),h(O,F,D,L)}function h(L,O,F,D){const U=D+1,B=[];for(let H=0;H<=U;H++){B[H]=[];const I=L.clone().lerp(F,H/U),P=O.clone().lerp(F,H/U),j=U-H;for(let Z=0;Z<=j;Z++)Z===0&&H===U?B[H][Z]=I:B[H][Z]=I.clone().lerp(P,Z/j)}for(let H=0;H<U;H++)for(let I=0;I<2*(U-H)-1;I++){const P=Math.floor(I/2);I%2===0?(b(B[H][P+1]),b(B[H+1][P]),b(B[H][P])):(b(B[H][P+1]),b(B[H+1][P+1]),b(B[H+1][P]))}}function m(L){const O=new re;for(let F=0;F<r.length;F+=3)O.x=r[F+0],O.y=r[F+1],O.z=r[F+2],O.normalize().multiplyScalar(L),r[F+0]=O.x,r[F+1]=O.y,r[F+2]=O.z}function g(){const L=new re;for(let O=0;O<r.length;O+=3){L.x=r[O+0],L.y=r[O+1],L.z=r[O+2];const F=T(L)/2/Math.PI+.5,D=_(L)/Math.PI+.5;l.push(F,1-D)}M(),v()}function v(){for(let L=0;L<l.length;L+=6){const O=l[L+0],F=l[L+2],D=l[L+4],U=Math.max(O,F,D),B=Math.min(O,F,D);U>.9&&B<.1&&(O<.2&&(l[L+0]+=1),F<.2&&(l[L+2]+=1),D<.2&&(l[L+4]+=1))}}function b(L){r.push(L.x,L.y,L.z)}function S(L,O){const F=L*3;O.x=e[F+0],O.y=e[F+1],O.z=e[F+2]}function M(){const L=new re,O=new re,F=new re,D=new re,U=new We,B=new We,H=new We;for(let I=0,P=0;I<r.length;I+=9,P+=6){L.set(r[I+0],r[I+1],r[I+2]),O.set(r[I+3],r[I+4],r[I+5]),F.set(r[I+6],r[I+7],r[I+8]),U.set(l[P+0],l[P+1]),B.set(l[P+2],l[P+3]),H.set(l[P+4],l[P+5]),D.copy(L).add(O).add(F).divideScalar(3);const j=T(D);A(U,P+0,L,j),A(B,P+2,O,j),A(H,P+4,F,j)}}function A(L,O,F,D){D<0&&L.x===1&&(l[O]=L.x-1),F.x===0&&F.z===0&&(l[O]=D/2/Math.PI+.5)}function T(L){return Math.atan2(L.z,-L.x)}function _(L){return Math.atan2(-L.y,Math.sqrt(L.x*L.x+L.z*L.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.vertices,e.indices,e.radius,e.details)}}class Pb extends Tu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pb(e.radius,e.detail)}}const Sv=new re,Ev=new re,US=new re,Mv=new Ps;class AD extends tn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),r=Math.cos(Zf*t),l=e.getIndex(),u=e.getAttribute("position"),h=l?l.count:u.count,m=[0,0,0],g=["a","b","c"],v=new Array(3),b={},S=[];for(let M=0;M<h;M+=3){l?(m[0]=l.getX(M),m[1]=l.getX(M+1),m[2]=l.getX(M+2)):(m[0]=M,m[1]=M+1,m[2]=M+2);const{a:A,b:T,c:_}=Mv;if(A.fromBufferAttribute(u,m[0]),T.fromBufferAttribute(u,m[1]),_.fromBufferAttribute(u,m[2]),Mv.getNormal(US),v[0]=`${Math.round(A.x*a)},${Math.round(A.y*a)},${Math.round(A.z*a)}`,v[1]=`${Math.round(T.x*a)},${Math.round(T.y*a)},${Math.round(T.z*a)}`,v[2]=`${Math.round(_.x*a)},${Math.round(_.y*a)},${Math.round(_.z*a)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let L=0;L<3;L++){const O=(L+1)%3,F=v[L],D=v[O],U=Mv[g[L]],B=Mv[g[O]],H=`${F}_${D}`,I=`${D}_${F}`;I in b&&b[I]?(US.dot(b[I].normal)<=r&&(S.push(U.x,U.y,U.z),S.push(B.x,B.y,B.z)),b[I]=null):H in b||(b[H]={index0:m[L],index1:m[O],normal:US.clone()})}}for(const M in b)if(b[M]){const{index0:A,index1:T}=b[M];Sv.fromBufferAttribute(u,A),Ev.fromBufferAttribute(u,T),S.push(Sv.x,Sv.y,Sv.z),S.push(Ev.x,Ev.y,Ev.z)}this.setAttribute("position",new Mt(S,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){ht("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,a=this.getPoint(0),r=0;t.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),r+=i.distanceTo(a),t.push(r),a=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let a=0;const r=i.length;let l;t?l=t:l=e*i[r-1];let u=0,h=r-1,m;for(;u<=h;)if(a=Math.floor(u+(h-u)/2),m=i[a]-l,m<0)u=a+1;else if(m>0)h=a-1;else{h=a;break}if(a=h,i[a]===l)return a/(r-1);const g=i[a],b=i[a+1]-g,S=(l-g)/b;return(a+S)/(r-1)}getTangent(e,t){let a=e-1e-4,r=e+1e-4;a<0&&(a=0),r>1&&(r=1);const l=this.getPoint(a),u=this.getPoint(r),h=t||(l.isVector2?new We:new re);return h.copy(u).sub(l).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new re,a=[],r=[],l=[],u=new re,h=new Xt;for(let S=0;S<=e;S++){const M=S/e;a[S]=this.getTangentAt(M,new re)}r[0]=new re,l[0]=new re;let m=Number.MAX_VALUE;const g=Math.abs(a[0].x),v=Math.abs(a[0].y),b=Math.abs(a[0].z);g<=m&&(m=g,i.set(1,0,0)),v<=m&&(m=v,i.set(0,1,0)),b<=m&&i.set(0,0,1),u.crossVectors(a[0],i).normalize(),r[0].crossVectors(a[0],u),l[0].crossVectors(a[0],r[0]);for(let S=1;S<=e;S++){if(r[S]=r[S-1].clone(),l[S]=l[S-1].clone(),u.crossVectors(a[S-1],a[S]),u.length()>Number.EPSILON){u.normalize();const M=Math.acos(Gt(a[S-1].dot(a[S]),-1,1));r[S].applyMatrix4(h.makeRotationAxis(u,M))}l[S].crossVectors(a[S],r[S])}if(t===!0){let S=Math.acos(Gt(r[0].dot(r[e]),-1,1));S/=e,a[0].dot(u.crossVectors(r[0],r[e]))>0&&(S=-S);for(let M=1;M<=e;M++)r[M].applyMatrix4(h.makeRotationAxis(a[M],S*M)),l[M].crossVectors(a[M],r[M])}return{tangents:a,normals:r,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class zb extends wo{constructor(e=0,t=0,i=1,a=1,r=0,l=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=l,this.aClockwise=u,this.aRotation=h}getPoint(e,t=new We){const i=t,a=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const l=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=a;for(;r>a;)r-=a;r<Number.EPSILON&&(l?r=0:r=a),this.aClockwise===!0&&!l&&(r===a?r=-a:r=r-a);const u=this.aStartAngle+e*r;let h=this.aX+this.xRadius*Math.cos(u),m=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const g=Math.cos(this.aRotation),v=Math.sin(this.aRotation),b=h-this.aX,S=m-this.aY;h=b*g-S*v+this.aX,m=b*v+S*g+this.aY}return i.set(h,m)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class CD extends zb{constructor(e,t,i,a,r,l){super(e,t,i,i,a,r,l),this.isArcCurve=!0,this.type="ArcCurve"}}function UM(){let n=0,e=0,t=0,i=0;function a(r,l,u,h){n=r,e=u,t=-3*r+3*l-2*u-h,i=2*r-2*l+u+h}return{initCatmullRom:function(r,l,u,h,m){a(l,u,m*(u-r),m*(h-l))},initNonuniformCatmullRom:function(r,l,u,h,m,g,v){let b=(l-r)/m-(u-r)/(m+g)+(u-l)/g,S=(u-l)/g-(h-l)/(g+v)+(h-u)/v;b*=g,S*=g,a(l,u,b,S)},calc:function(r){const l=r*r,u=l*r;return n+e*r+t*l+i*u}}}const wv=new re,PS=new UM,zS=new UM,BS=new UM;class ND extends wo{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(e,t=new re){const i=t,a=this.points,r=a.length,l=(r-(this.closed?0:1))*e;let u=Math.floor(l),h=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/r)+1)*r:h===0&&u===r-1&&(u=r-2,h=1);let m,g;this.closed||u>0?m=a[(u-1)%r]:(wv.subVectors(a[0],a[1]).add(a[0]),m=wv);const v=a[u%r],b=a[(u+1)%r];if(this.closed||u+2<r?g=a[(u+2)%r]:(wv.subVectors(a[r-1],a[r-2]).add(a[r-1]),g=wv),this.curveType==="centripetal"||this.curveType==="chordal"){const S=this.curveType==="chordal"?.5:.25;let M=Math.pow(m.distanceToSquared(v),S),A=Math.pow(v.distanceToSquared(b),S),T=Math.pow(b.distanceToSquared(g),S);A<1e-4&&(A=1),M<1e-4&&(M=A),T<1e-4&&(T=A),PS.initNonuniformCatmullRom(m.x,v.x,b.x,g.x,M,A,T),zS.initNonuniformCatmullRom(m.y,v.y,b.y,g.y,M,A,T),BS.initNonuniformCatmullRom(m.z,v.z,b.z,g.z,M,A,T)}else this.curveType==="catmullrom"&&(PS.initCatmullRom(m.x,v.x,b.x,g.x,this.tension),zS.initCatmullRom(m.y,v.y,b.y,g.y,this.tension),BS.initCatmullRom(m.z,v.z,b.z,g.z,this.tension));return i.set(PS.calc(h),zS.calc(h),BS.calc(h)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new re().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function vT(n,e,t,i,a){const r=(i-e)*.5,l=(a-t)*.5,u=n*n,h=n*u;return(2*t-2*i+r+l)*h+(-3*t+3*i-2*r-l)*u+r*n+t}function bV(n,e){const t=1-n;return t*t*e}function _V(n,e){return 2*(1-n)*n*e}function SV(n,e){return n*n*e}function m0(n,e,t,i){return bV(n,e)+_V(n,t)+SV(n,i)}function EV(n,e){const t=1-n;return t*t*t*e}function MV(n,e){const t=1-n;return 3*t*t*n*e}function wV(n,e){return 3*(1-n)*n*n*e}function TV(n,e){return n*n*n*e}function p0(n,e,t,i,a){return EV(n,e)+MV(n,t)+wV(n,i)+TV(n,a)}class PM extends wo{constructor(e=new We,t=new We,i=new We,a=new We){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new We){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(p0(e,a.x,r.x,l.x,u.x),p0(e,a.y,r.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RD extends wo{constructor(e=new re,t=new re,i=new re,a=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new re){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(p0(e,a.x,r.x,l.x,u.x),p0(e,a.y,r.y,l.y,u.y),p0(e,a.z,r.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zM extends wo{constructor(e=new We,t=new We){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new We){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new We){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DD extends wo{constructor(e=new re,t=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new re){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BM extends wo{constructor(e=new We,t=new We,i=new We){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new We){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(m0(e,a.x,r.x,l.x),m0(e,a.y,r.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IM extends wo{constructor(e=new re,t=new re,i=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new re){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(m0(e,a.x,r.x,l.x),m0(e,a.y,r.y,l.y),m0(e,a.z,r.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FM extends wo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new We){const i=t,a=this.points,r=(a.length-1)*e,l=Math.floor(r),u=r-l,h=a[l===0?l:l-1],m=a[l],g=a[l>a.length-2?a.length-1:l+1],v=a[l>a.length-3?a.length-1:l+2];return i.set(vT(u,h.x,m.x,g.x,v.x),vT(u,h.y,m.y,g.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new We().fromArray(a))}return this}}var Xy=Object.freeze({__proto__:null,ArcCurve:CD,CatmullRomCurve3:ND,CubicBezierCurve:PM,CubicBezierCurve3:RD,EllipseCurve:zb,LineCurve:zM,LineCurve3:DD,QuadraticBezierCurve:BM,QuadraticBezierCurve3:IM,SplineCurve:FM});class OD extends wo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Xy[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),a=this.getCurveLengths();let r=0;for(;r<a.length;){if(a[r]>=i){const l=a[r]-i,u=this.curves[r],h=u.getLength(),m=h===0?0:1-l/h;return u.getPointAt(m,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,a=this.curves.length;i<a;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let a=0,r=this.curves;a<r.length;a++){const l=r[a],u=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,h=l.getPoints(u);for(let m=0;m<h.length;m++){const g=h[m];i&&i.equals(g)||(t.push(g),i=g)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(new Xy[a.type]().fromJSON(a))}return this}}class Wy extends OD{constructor(e){super(),this.type="Path",this.currentPoint=new We,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new zM(this.currentPoint.clone(),new We(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){const r=new BM(this.currentPoint.clone(),new We(e,t),new We(i,a));return this.curves.push(r),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,r,l){const u=new PM(this.currentPoint.clone(),new We(e,t),new We(i,a),new We(r,l));return this.curves.push(u),this.currentPoint.set(r,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new FM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,r,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,i,a,r,l),this}absarc(e,t,i,a,r,l){return this.absellipse(e,t,i,i,a,r,l),this}ellipse(e,t,i,a,r,l,u,h){const m=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(e+m,t+g,i,a,r,l,u,h),this}absellipse(e,t,i,a,r,l,u,h){const m=new zb(e,t,i,a,r,l,u,h);if(this.curves.length>0){const v=m.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(m);const g=m.getPoint(1);return this.currentPoint.copy(g),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Kf extends Wy{constructor(e){super(e),this.uuid=cr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,a=this.holes.length;i<a;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(new Wy().fromJSON(a))}return this}}function AV(n,e,t=2){const i=e&&e.length,a=i?e[0]*t:n.length;let r=LD(n,0,a,t,!0);const l=[];if(!r||r.next===r.prev)return l;let u,h,m;if(i&&(r=OV(n,e,r,t)),n.length>80*t){u=n[0],h=n[1];let g=u,v=h;for(let b=t;b<a;b+=t){const S=n[b],M=n[b+1];S<u&&(u=S),M<h&&(h=M),S>g&&(g=S),M>v&&(v=M)}m=Math.max(g-u,v-h),m=m!==0?32767/m:0}return U0(r,l,t,u,h,m,0),l}function LD(n,e,t,i,a){let r;if(a===GV(n,e,t,i)>0)for(let l=e;l<t;l+=i)r=yT(l/i|0,n[l],n[l+1],r);else for(let l=t-i;l>=e;l-=i)r=yT(l/i|0,n[l],n[l+1],r);return r&&em(r,r.next)&&(z0(r),r=r.next),r}function ed(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(em(t,t.next)||yi(t.prev,t,t.next)===0)){if(z0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function U0(n,e,t,i,a,r,l){if(!n)return;!l&&r&&BV(n,i,a,r);let u=n;for(;n.prev!==n.next;){const h=n.prev,m=n.next;if(r?NV(n,i,a,r):CV(n)){e.push(h.i,n.i,m.i),z0(n),n=m.next,u=m.next;continue}if(n=m,n===u){l?l===1?(n=RV(ed(n),e),U0(n,e,t,i,a,r,2)):l===2&&DV(n,e,t,i,a,r):U0(ed(n),e,t,i,a,r,1);break}}}function CV(n){const e=n.prev,t=n,i=n.next;if(yi(e,t,i)>=0)return!1;const a=e.x,r=t.x,l=i.x,u=e.y,h=t.y,m=i.y,g=Math.min(a,r,l),v=Math.min(u,h,m),b=Math.max(a,r,l),S=Math.max(u,h,m);let M=i.next;for(;M!==e;){if(M.x>=g&&M.x<=b&&M.y>=v&&M.y<=S&&e0(a,u,r,h,l,m,M.x,M.y)&&yi(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function NV(n,e,t,i){const a=n.prev,r=n,l=n.next;if(yi(a,r,l)>=0)return!1;const u=a.x,h=r.x,m=l.x,g=a.y,v=r.y,b=l.y,S=Math.min(u,h,m),M=Math.min(g,v,b),A=Math.max(u,h,m),T=Math.max(g,v,b),_=lE(S,M,e,t,i),L=lE(A,T,e,t,i);let O=n.prevZ,F=n.nextZ;for(;O&&O.z>=_&&F&&F.z<=L;){if(O.x>=S&&O.x<=A&&O.y>=M&&O.y<=T&&O!==a&&O!==l&&e0(u,g,h,v,m,b,O.x,O.y)&&yi(O.prev,O,O.next)>=0||(O=O.prevZ,F.x>=S&&F.x<=A&&F.y>=M&&F.y<=T&&F!==a&&F!==l&&e0(u,g,h,v,m,b,F.x,F.y)&&yi(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;O&&O.z>=_;){if(O.x>=S&&O.x<=A&&O.y>=M&&O.y<=T&&O!==a&&O!==l&&e0(u,g,h,v,m,b,O.x,O.y)&&yi(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;F&&F.z<=L;){if(F.x>=S&&F.x<=A&&F.y>=M&&F.y<=T&&F!==a&&F!==l&&e0(u,g,h,v,m,b,F.x,F.y)&&yi(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function RV(n,e){let t=n;do{const i=t.prev,a=t.next.next;!em(i,a)&&PD(i,t,t.next,a)&&P0(i,a)&&P0(a,i)&&(e.push(i.i,t.i,a.i),z0(t),z0(t.next),t=n=a),t=t.next}while(t!==n);return ed(t)}function DV(n,e,t,i,a,r){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&VV(l,u)){let h=zD(l,u);l=ed(l,l.next),h=ed(h,h.next),U0(l,e,t,i,a,r,0),U0(h,e,t,i,a,r,0);return}u=u.next}l=l.next}while(l!==n)}function OV(n,e,t,i){const a=[];for(let r=0,l=e.length;r<l;r++){const u=e[r]*i,h=r<l-1?e[r+1]*i:n.length,m=LD(n,u,h,i,!1);m===m.next&&(m.steiner=!0),a.push(FV(m))}a.sort(LV);for(let r=0;r<a.length;r++)t=UV(a[r],t);return t}function LV(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=i-a}return t}function UV(n,e){const t=PV(n,e);if(!t)return e;const i=zD(t,n);return ed(i,i.next),ed(t,t.next)}function PV(n,e){let t=e;const i=n.x,a=n.y;let r=-1/0,l;if(em(n,t))return t;do{if(em(n,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const v=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=i&&v>r&&(r=v,l=t.x<t.next.x?t:t.next,v===i))return l}t=t.next}while(t!==e);if(!l)return null;const u=l,h=l.x,m=l.y;let g=1/0;t=l;do{if(i>=t.x&&t.x>=h&&i!==t.x&&UD(a<m?i:r,a,h,m,a<m?r:i,a,t.x,t.y)){const v=Math.abs(a-t.y)/(i-t.x);P0(t,n)&&(v<g||v===g&&(t.x>l.x||t.x===l.x&&zV(l,t)))&&(l=t,g=v)}t=t.next}while(t!==u);return l}function zV(n,e){return yi(n.prev,n,e.prev)<0&&yi(e.next,n,n.next)<0}function BV(n,e,t,i){let a=n;do a.z===0&&(a.z=lE(a.x,a.y,e,t,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,IV(a)}function IV(n){let e,t=1;do{let i=n,a;n=null;let r=null;for(e=0;i;){e++;let l=i,u=0;for(let m=0;m<t&&(u++,l=l.nextZ,!!l);m++);let h=t;for(;u>0||h>0&&l;)u!==0&&(h===0||!l||i.z<=l.z)?(a=i,i=i.nextZ,u--):(a=l,l=l.nextZ,h--),r?r.nextZ=a:n=a,a.prevZ=r,r=a;i=l}r.nextZ=null,t*=2}while(e>1);return n}function lE(n,e,t,i,a){return n=(n-t)*a|0,e=(e-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function FV(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function UD(n,e,t,i,a,r,l,u){return(a-l)*(e-u)>=(n-l)*(r-u)&&(n-l)*(i-u)>=(t-l)*(e-u)&&(t-l)*(r-u)>=(a-l)*(i-u)}function e0(n,e,t,i,a,r,l,u){return!(n===l&&e===u)&&UD(n,e,t,i,a,r,l,u)}function VV(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!HV(n,e)&&(P0(n,e)&&P0(e,n)&&kV(n,e)&&(yi(n.prev,n,e.prev)||yi(n,e.prev,e))||em(n,e)&&yi(n.prev,n,n.next)>0&&yi(e.prev,e,e.next)>0)}function yi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function em(n,e){return n.x===e.x&&n.y===e.y}function PD(n,e,t,i){const a=Av(yi(n,e,t)),r=Av(yi(n,e,i)),l=Av(yi(t,i,n)),u=Av(yi(t,i,e));return!!(a!==r&&l!==u||a===0&&Tv(n,t,e)||r===0&&Tv(n,i,e)||l===0&&Tv(t,n,i)||u===0&&Tv(t,e,i))}function Tv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Av(n){return n>0?1:n<0?-1:0}function HV(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&PD(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function P0(n,e){return yi(n.prev,n,n.next)<0?yi(n,e,n.next)>=0&&yi(n,n.prev,e)>=0:yi(n,e,n.prev)<0||yi(n,n.next,e)<0}function kV(n,e){let t=n,i=!1;const a=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&a<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function zD(n,e){const t=cE(n.i,n.x,n.y),i=cE(e.i,e.x,e.y),a=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function yT(n,e,t,i){const a=cE(n,e,t);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function z0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function cE(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function GV(n,e,t,i){let a=0;for(let r=e,l=t-i;r<t;r+=i)a+=(n[l]-n[r])*(n[r+1]+n[l+1]),l=r;return a}class qV{static triangulate(e,t,i=2){return AV(e,t,i)}}class yo{static area(e){const t=e.length;let i=0;for(let a=t-1,r=0;r<t;a=r++)i+=e[a].x*e[r].y-e[r].x*e[a].y;return i*.5}static isClockWise(e){return yo.area(e)<0}static triangulateShape(e,t){const i=[],a=[],r=[];bT(e),_T(i,e);let l=e.length;t.forEach(bT);for(let h=0;h<t.length;h++)a.push(l),l+=t[h].length,_T(i,t[h]);const u=qV.triangulate(i,a);for(let h=0;h<u.length;h+=3)r.push(u.slice(h,h+3));return r}}function bT(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function _T(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Bb extends tn{constructor(e=new Kf([new We(.5,.5),new We(-.5,.5),new We(-.5,-.5),new We(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,a=[],r=[];for(let u=0,h=e.length;u<h;u++){const m=e[u];l(m)}this.setAttribute("position",new Mt(a,3)),this.setAttribute("uv",new Mt(r,2)),this.computeVertexNormals();function l(u){const h=[],m=t.curveSegments!==void 0?t.curveSegments:12,g=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let b=t.bevelEnabled!==void 0?t.bevelEnabled:!0,S=t.bevelThickness!==void 0?t.bevelThickness:.2,M=t.bevelSize!==void 0?t.bevelSize:S-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,T=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,L=t.UVGenerator!==void 0?t.UVGenerator:jV;let O,F=!1,D,U,B,H;_&&(O=_.getSpacedPoints(g),F=!0,b=!1,D=_.computeFrenetFrames(g,!1),U=new re,B=new re,H=new re),b||(T=0,S=0,M=0,A=0);const I=u.extractPoints(m);let P=I.shape;const j=I.holes;if(!yo.isClockWise(P)){P=P.reverse();for(let Ae=0,ie=j.length;Ae<ie;Ae++){const Be=j[Ae];yo.isClockWise(Be)&&(j[Ae]=Be.reverse())}}function W(Ae){const Be=10000000000000001e-36;let Te=Ae[0];for(let Xe=1;Xe<=Ae.length;Xe++){const He=Xe%Ae.length,Qe=Ae[He],Ze=Qe.x-Te.x,ut=Qe.y-Te.y,se=Ze*Ze+ut*ut,Q=Math.max(Math.abs(Qe.x),Math.abs(Qe.y),Math.abs(Te.x),Math.abs(Te.y)),ye=Be*Q*Q;if(se<=ye){Ae.splice(He,1),Xe--;continue}Te=Qe}}W(P),j.forEach(W);const Y=j.length,ne=P;for(let Ae=0;Ae<Y;Ae++){const ie=j[Ae];P=P.concat(ie)}function k(Ae,ie,Be){return ie||Wt("ExtrudeGeometry: vec does not exist"),Ae.clone().addScaledVector(ie,Be)}const z=P.length;function $(Ae,ie,Be){let Te,Xe,He;const Qe=Ae.x-ie.x,Ze=Ae.y-ie.y,ut=Be.x-Ae.x,se=Be.y-Ae.y,Q=Qe*Qe+Ze*Ze,ye=Qe*se-Ze*ut;if(Math.abs(ye)>Number.EPSILON){const Pe=Math.sqrt(Q),ze=Math.sqrt(ut*ut+se*se),Ce=ie.x-Ze/Pe,mt=ie.y+Qe/Pe,ot=Be.x-se/ze,At=Be.y+ut/ze,St=((ot-Ce)*se-(At-mt)*ut)/(Qe*se-Ze*ut);Te=Ce+Qe*St-Ae.x,Xe=mt+Ze*St-Ae.y;const Ge=Te*Te+Xe*Xe;if(Ge<=2)return new We(Te,Xe);He=Math.sqrt(Ge/2)}else{let Pe=!1;Qe>Number.EPSILON?ut>Number.EPSILON&&(Pe=!0):Qe<-Number.EPSILON?ut<-Number.EPSILON&&(Pe=!0):Math.sign(Ze)===Math.sign(se)&&(Pe=!0),Pe?(Te=-Ze,Xe=Qe,He=Math.sqrt(Q)):(Te=Qe,Xe=Ze,He=Math.sqrt(Q/2))}return new We(Te/He,Xe/He)}const X=[];for(let Ae=0,ie=ne.length,Be=ie-1,Te=Ae+1;Ae<ie;Ae++,Be++,Te++)Be===ie&&(Be=0),Te===ie&&(Te=0),X[Ae]=$(ne[Ae],ne[Be],ne[Te]);const N=[];let G,ae=X.concat();for(let Ae=0,ie=Y;Ae<ie;Ae++){const Be=j[Ae];G=[];for(let Te=0,Xe=Be.length,He=Xe-1,Qe=Te+1;Te<Xe;Te++,He++,Qe++)He===Xe&&(He=0),Qe===Xe&&(Qe=0),G[Te]=$(Be[Te],Be[He],Be[Qe]);N.push(G),ae=ae.concat(G)}let fe;if(T===0)fe=yo.triangulateShape(ne,j);else{const Ae=[],ie=[];for(let Be=0;Be<T;Be++){const Te=Be/T,Xe=S*Math.cos(Te*Math.PI/2),He=M*Math.sin(Te*Math.PI/2)+A;for(let Qe=0,Ze=ne.length;Qe<Ze;Qe++){const ut=k(ne[Qe],X[Qe],He);Ye(ut.x,ut.y,-Xe),Te===0&&Ae.push(ut)}for(let Qe=0,Ze=Y;Qe<Ze;Qe++){const ut=j[Qe];G=N[Qe];const se=[];for(let Q=0,ye=ut.length;Q<ye;Q++){const Pe=k(ut[Q],G[Q],He);Ye(Pe.x,Pe.y,-Xe),Te===0&&se.push(Pe)}Te===0&&ie.push(se)}}fe=yo.triangulateShape(Ae,ie)}const ce=fe.length,_e=M+A;for(let Ae=0;Ae<z;Ae++){const ie=b?k(P[Ae],ae[Ae],_e):P[Ae];F?(B.copy(D.normals[0]).multiplyScalar(ie.x),U.copy(D.binormals[0]).multiplyScalar(ie.y),H.copy(O[0]).add(B).add(U),Ye(H.x,H.y,H.z)):Ye(ie.x,ie.y,0)}for(let Ae=1;Ae<=g;Ae++)for(let ie=0;ie<z;ie++){const Be=b?k(P[ie],ae[ie],_e):P[ie];F?(B.copy(D.normals[Ae]).multiplyScalar(Be.x),U.copy(D.binormals[Ae]).multiplyScalar(Be.y),H.copy(O[Ae]).add(B).add(U),Ye(H.x,H.y,H.z)):Ye(Be.x,Be.y,v/g*Ae)}for(let Ae=T-1;Ae>=0;Ae--){const ie=Ae/T,Be=S*Math.cos(ie*Math.PI/2),Te=M*Math.sin(ie*Math.PI/2)+A;for(let Xe=0,He=ne.length;Xe<He;Xe++){const Qe=k(ne[Xe],X[Xe],Te);Ye(Qe.x,Qe.y,v+Be)}for(let Xe=0,He=j.length;Xe<He;Xe++){const Qe=j[Xe];G=N[Xe];for(let Ze=0,ut=Qe.length;Ze<ut;Ze++){const se=k(Qe[Ze],G[Ze],Te);F?Ye(se.x,se.y+O[g-1].y,O[g-1].x+Be):Ye(se.x,se.y,v+Be)}}}oe(),me();function oe(){const Ae=a.length/3;if(b){let ie=0,Be=z*ie;for(let Te=0;Te<ce;Te++){const Xe=fe[Te];Ie(Xe[2]+Be,Xe[1]+Be,Xe[0]+Be)}ie=g+T*2,Be=z*ie;for(let Te=0;Te<ce;Te++){const Xe=fe[Te];Ie(Xe[0]+Be,Xe[1]+Be,Xe[2]+Be)}}else{for(let ie=0;ie<ce;ie++){const Be=fe[ie];Ie(Be[2],Be[1],Be[0])}for(let ie=0;ie<ce;ie++){const Be=fe[ie];Ie(Be[0]+z*g,Be[1]+z*g,Be[2]+z*g)}}i.addGroup(Ae,a.length/3-Ae,0)}function me(){const Ae=a.length/3;let ie=0;Oe(ne,ie),ie+=ne.length;for(let Be=0,Te=j.length;Be<Te;Be++){const Xe=j[Be];Oe(Xe,ie),ie+=Xe.length}i.addGroup(Ae,a.length/3-Ae,1)}function Oe(Ae,ie){let Be=Ae.length;for(;--Be>=0;){const Te=Be;let Xe=Be-1;Xe<0&&(Xe=Ae.length-1);for(let He=0,Qe=g+T*2;He<Qe;He++){const Ze=z*He,ut=z*(He+1),se=ie+Te+Ze,Q=ie+Xe+Ze,ye=ie+Xe+ut,Pe=ie+Te+ut;rt(se,Q,ye,Pe)}}}function Ye(Ae,ie,Be){h.push(Ae),h.push(ie),h.push(Be)}function Ie(Ae,ie,Be){yt(Ae),yt(ie),yt(Be);const Te=a.length/3,Xe=L.generateTopUV(i,a,Te-3,Te-2,Te-1);tt(Xe[0]),tt(Xe[1]),tt(Xe[2])}function rt(Ae,ie,Be,Te){yt(Ae),yt(ie),yt(Te),yt(ie),yt(Be),yt(Te);const Xe=a.length/3,He=L.generateSideWallUV(i,a,Xe-6,Xe-3,Xe-2,Xe-1);tt(He[0]),tt(He[1]),tt(He[3]),tt(He[1]),tt(He[2]),tt(He[3])}function yt(Ae){a.push(h[Ae*3+0]),a.push(h[Ae*3+1]),a.push(h[Ae*3+2])}function tt(Ae){r.push(Ae.x),r.push(Ae.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return XV(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,l=e.shapes.length;r<l;r++){const u=t[e.shapes[r]];i.push(u)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new Xy[a.type]().fromJSON(a)),new Bb(i,e.options)}}const jV={generateTopUV:function(n,e,t,i,a){const r=e[t*3],l=e[t*3+1],u=e[i*3],h=e[i*3+1],m=e[a*3],g=e[a*3+1];return[new We(r,l),new We(u,h),new We(m,g)]},generateSideWallUV:function(n,e,t,i,a,r){const l=e[t*3],u=e[t*3+1],h=e[t*3+2],m=e[i*3],g=e[i*3+1],v=e[i*3+2],b=e[a*3],S=e[a*3+1],M=e[a*3+2],A=e[r*3],T=e[r*3+1],_=e[r*3+2];return Math.abs(u-g)<Math.abs(l-m)?[new We(l,1-h),new We(m,1-v),new We(b,1-M),new We(A,1-_)]:[new We(u,1-h),new We(g,1-v),new We(S,1-M),new We(T,1-_)]}};function XV(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ib extends Tu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ib(e.radius,e.detail)}}class Fb extends tn{constructor(e=[new We(0,-.5),new We(.5,0),new We(0,.5)],t=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:a},t=Math.floor(t),a=Gt(a,0,Math.PI*2);const r=[],l=[],u=[],h=[],m=[],g=1/t,v=new re,b=new We,S=new re,M=new re,A=new re;let T=0,_=0;for(let L=0;L<=e.length-1;L++)switch(L){case 0:T=e[L+1].x-e[L].x,_=e[L+1].y-e[L].y,S.x=_*1,S.y=-T,S.z=_*0,A.copy(S),S.normalize(),h.push(S.x,S.y,S.z);break;case e.length-1:h.push(A.x,A.y,A.z);break;default:T=e[L+1].x-e[L].x,_=e[L+1].y-e[L].y,S.x=_*1,S.y=-T,S.z=_*0,M.copy(S),S.x+=A.x,S.y+=A.y,S.z+=A.z,S.normalize(),h.push(S.x,S.y,S.z),A.copy(M)}for(let L=0;L<=t;L++){const O=i+L*g*a,F=Math.sin(O),D=Math.cos(O);for(let U=0;U<=e.length-1;U++){v.x=e[U].x*F,v.y=e[U].y,v.z=e[U].x*D,l.push(v.x,v.y,v.z),b.x=L/t,b.y=U/(e.length-1),u.push(b.x,b.y);const B=h[3*U+0]*F,H=h[3*U+1],I=h[3*U+0]*D;m.push(B,H,I)}}for(let L=0;L<t;L++)for(let O=0;O<e.length-1;O++){const F=O+L*e.length,D=F,U=F+e.length,B=F+e.length+1,H=F+1;r.push(D,U,H),r.push(B,H,U)}this.setIndex(r),this.setAttribute("position",new Mt(l,3)),this.setAttribute("uv",new Mt(u,2)),this.setAttribute("normal",new Mt(m,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fb(e.points,e.segments,e.phiStart,e.phiLength)}}class ag extends Tu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ag(e.radius,e.detail)}}class pm extends tn{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};const r=e/2,l=t/2,u=Math.floor(i),h=Math.floor(a),m=u+1,g=h+1,v=e/u,b=t/h,S=[],M=[],A=[],T=[];for(let _=0;_<g;_++){const L=_*b-l;for(let O=0;O<m;O++){const F=O*v-r;M.push(F,-L,0),A.push(0,0,1),T.push(O/u),T.push(1-_/h)}}for(let _=0;_<h;_++)for(let L=0;L<u;L++){const O=L+m*_,F=L+m*(_+1),D=L+1+m*(_+1),U=L+1+m*_;S.push(O,F,U),S.push(F,D,U)}this.setIndex(S),this.setAttribute("position",new Mt(M,3)),this.setAttribute("normal",new Mt(A,3)),this.setAttribute("uv",new Mt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pm(e.width,e.height,e.widthSegments,e.heightSegments)}}class Vb extends tn{constructor(e=.5,t=1,i=32,a=1,r=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:r,thetaLength:l},i=Math.max(3,i),a=Math.max(1,a);const u=[],h=[],m=[],g=[];let v=e;const b=(t-e)/a,S=new re,M=new We;for(let A=0;A<=a;A++){for(let T=0;T<=i;T++){const _=r+T/i*l;S.x=v*Math.cos(_),S.y=v*Math.sin(_),h.push(S.x,S.y,S.z),m.push(0,0,1),M.x=(S.x/t+1)/2,M.y=(S.y/t+1)/2,g.push(M.x,M.y)}v+=b}for(let A=0;A<a;A++){const T=A*(i+1);for(let _=0;_<i;_++){const L=_+T,O=L,F=L+i+1,D=L+i+2,U=L+1;u.push(O,F,U),u.push(F,D,U)}}this.setIndex(u),this.setAttribute("position",new Mt(h,3)),this.setAttribute("normal",new Mt(m,3)),this.setAttribute("uv",new Mt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Hb extends tn{constructor(e=new Kf([new We(0,.5),new We(-.5,-.5),new We(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],a=[],r=[],l=[];let u=0,h=0;if(Array.isArray(e)===!1)m(e);else for(let g=0;g<e.length;g++)m(e[g]),this.addGroup(u,h,g),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new Mt(a,3)),this.setAttribute("normal",new Mt(r,3)),this.setAttribute("uv",new Mt(l,2));function m(g){const v=a.length/3,b=g.extractPoints(t);let S=b.shape;const M=b.holes;yo.isClockWise(S)===!1&&(S=S.reverse());for(let T=0,_=M.length;T<_;T++){const L=M[T];yo.isClockWise(L)===!0&&(M[T]=L.reverse())}const A=yo.triangulateShape(S,M);for(let T=0,_=M.length;T<_;T++){const L=M[T];S=S.concat(L)}for(let T=0,_=S.length;T<_;T++){const L=S[T];a.push(L.x,L.y,0),r.push(0,0,1),l.push(L.x,L.y)}for(let T=0,_=A.length;T<_;T++){const L=A[T],O=L[0]+v,F=L[1]+v,D=L[2]+v;i.push(O,F,D),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return WV(t,e)}static fromJSON(e,t){const i=[];for(let a=0,r=e.shapes.length;a<r;a++){const l=t[e.shapes[a]];i.push(l)}return new Hb(i,e.curveSegments)}}function WV(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class sg extends tn{constructor(e=1,t=32,i=16,a=0,r=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:r,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const h=Math.min(l+u,Math.PI);let m=0;const g=[],v=new re,b=new re,S=[],M=[],A=[],T=[];for(let _=0;_<=i;_++){const L=[],O=_/i;let F=0;_===0&&l===0?F=.5/t:_===i&&h===Math.PI&&(F=-.5/t);for(let D=0;D<=t;D++){const U=D/t;v.x=-e*Math.cos(a+U*r)*Math.sin(l+O*u),v.y=e*Math.cos(l+O*u),v.z=e*Math.sin(a+U*r)*Math.sin(l+O*u),M.push(v.x,v.y,v.z),b.copy(v).normalize(),A.push(b.x,b.y,b.z),T.push(U+F,1-O),L.push(m++)}g.push(L)}for(let _=0;_<i;_++)for(let L=0;L<t;L++){const O=g[_][L+1],F=g[_][L],D=g[_+1][L],U=g[_+1][L+1];(_!==0||l>0)&&S.push(O,F,U),(_!==i-1||h<Math.PI)&&S.push(F,D,U)}this.setIndex(S),this.setAttribute("position",new Mt(M,3)),this.setAttribute("normal",new Mt(A,3)),this.setAttribute("uv",new Mt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class kb extends Tu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kb(e.radius,e.detail)}}class Gb extends tn{constructor(e=1,t=.4,i=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:r},i=Math.floor(i),a=Math.floor(a);const l=[],u=[],h=[],m=[],g=new re,v=new re,b=new re;for(let S=0;S<=i;S++)for(let M=0;M<=a;M++){const A=M/a*r,T=S/i*Math.PI*2;v.x=(e+t*Math.cos(T))*Math.cos(A),v.y=(e+t*Math.cos(T))*Math.sin(A),v.z=t*Math.sin(T),u.push(v.x,v.y,v.z),g.x=e*Math.cos(A),g.y=e*Math.sin(A),b.subVectors(v,g).normalize(),h.push(b.x,b.y,b.z),m.push(M/a),m.push(S/i)}for(let S=1;S<=i;S++)for(let M=1;M<=a;M++){const A=(a+1)*S+M-1,T=(a+1)*(S-1)+M-1,_=(a+1)*(S-1)+M,L=(a+1)*S+M;l.push(A,T,L),l.push(T,_,L)}this.setIndex(l),this.setAttribute("position",new Mt(u,3)),this.setAttribute("normal",new Mt(h,3)),this.setAttribute("uv",new Mt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class qb extends tn{constructor(e=1,t=.4,i=64,a=8,r=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:a,p:r,q:l},i=Math.floor(i),a=Math.floor(a);const u=[],h=[],m=[],g=[],v=new re,b=new re,S=new re,M=new re,A=new re,T=new re,_=new re;for(let O=0;O<=i;++O){const F=O/i*r*Math.PI*2;L(F,r,l,e,S),L(F+.01,r,l,e,M),T.subVectors(M,S),_.addVectors(M,S),A.crossVectors(T,_),_.crossVectors(A,T),A.normalize(),_.normalize();for(let D=0;D<=a;++D){const U=D/a*Math.PI*2,B=-t*Math.cos(U),H=t*Math.sin(U);v.x=S.x+(B*_.x+H*A.x),v.y=S.y+(B*_.y+H*A.y),v.z=S.z+(B*_.z+H*A.z),h.push(v.x,v.y,v.z),b.subVectors(v,S).normalize(),m.push(b.x,b.y,b.z),g.push(O/i),g.push(D/a)}}for(let O=1;O<=i;O++)for(let F=1;F<=a;F++){const D=(a+1)*(O-1)+(F-1),U=(a+1)*O+(F-1),B=(a+1)*O+F,H=(a+1)*(O-1)+F;u.push(D,U,H),u.push(U,B,H)}this.setIndex(u),this.setAttribute("position",new Mt(h,3)),this.setAttribute("normal",new Mt(m,3)),this.setAttribute("uv",new Mt(g,2));function L(O,F,D,U,B){const H=Math.cos(O),I=Math.sin(O),P=D/F*O,j=Math.cos(P);B.x=U*(2+j)*.5*H,B.y=U*(2+j)*I*.5,B.z=U*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class jb extends tn{constructor(e=new IM(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),t=64,i=1,a=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:a,closed:r};const l=e.computeFrenetFrames(t,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new re,h=new re,m=new We;let g=new re;const v=[],b=[],S=[],M=[];A(),this.setIndex(M),this.setAttribute("position",new Mt(v,3)),this.setAttribute("normal",new Mt(b,3)),this.setAttribute("uv",new Mt(S,2));function A(){for(let O=0;O<t;O++)T(O);T(r===!1?t:0),L(),_()}function T(O){g=e.getPointAt(O/t,g);const F=l.normals[O],D=l.binormals[O];for(let U=0;U<=a;U++){const B=U/a*Math.PI*2,H=Math.sin(B),I=-Math.cos(B);h.x=I*F.x+H*D.x,h.y=I*F.y+H*D.y,h.z=I*F.z+H*D.z,h.normalize(),b.push(h.x,h.y,h.z),u.x=g.x+i*h.x,u.y=g.y+i*h.y,u.z=g.z+i*h.z,v.push(u.x,u.y,u.z)}}function _(){for(let O=1;O<=t;O++)for(let F=1;F<=a;F++){const D=(a+1)*(O-1)+(F-1),U=(a+1)*O+(F-1),B=(a+1)*O+F,H=(a+1)*(O-1)+F;M.push(D,U,H),M.push(U,B,H)}}function L(){for(let O=0;O<=t;O++)for(let F=0;F<=a;F++)m.x=O/t,m.y=F/a,S.push(m.x,m.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new jb(new Xy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class BD extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,a=new re,r=new re;if(e.index!==null){const l=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let m=0,g=h.length;m<g;++m){const v=h[m],b=v.start,S=v.count;for(let M=b,A=b+S;M<A;M+=3)for(let T=0;T<3;T++){const _=u.getX(M+T),L=u.getX(M+(T+1)%3);a.fromBufferAttribute(l,_),r.fromBufferAttribute(l,L),ST(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}}else{const l=e.attributes.position;for(let u=0,h=l.count/3;u<h;u++)for(let m=0;m<3;m++){const g=3*u+m,v=3*u+(m+1)%3;a.fromBufferAttribute(l,g),r.fromBufferAttribute(l,v),ST(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Mt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function ST(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(a)===!0?!1:(t.add(i),t.add(a),!0)}var ET=Object.freeze({__proto__:null,BoxGeometry:id,CapsuleGeometry:Lb,CircleGeometry:Ub,ConeGeometry:ig,CylinderGeometry:ng,DodecahedronGeometry:Pb,EdgesGeometry:AD,ExtrudeGeometry:Bb,IcosahedronGeometry:Ib,LatheGeometry:Fb,OctahedronGeometry:ag,PlaneGeometry:pm,PolyhedronGeometry:Tu,RingGeometry:Vb,ShapeGeometry:Hb,SphereGeometry:sg,TetrahedronGeometry:kb,TorusGeometry:Gb,TorusKnotGeometry:qb,TubeGeometry:jb,WireframeGeometry:BD});class ID extends Xa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new vt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class FD extends zr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class VM extends Xa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ur,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VD extends VM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new We(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Gt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class HD extends Xa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new vt(16777215),this.specular=new vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ur,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kD extends Xa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class GD extends Xa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class qD extends Xa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ur,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HM extends Xa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=eD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class kM extends Xa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class jD extends Xa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mu,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XD extends vs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gf(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function WD(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function YD(n){function e(a,r){return n[a]-n[r]}const t=n.length,i=new Array(t);for(let a=0;a!==t;++a)i[a]=a;return i.sort(e),i}function uE(n,e,t){const i=n.length,a=new n.constructor(i);for(let r=0,l=0;l!==i;++r){const u=t[r]*e;for(let h=0;h!==e;++h)a[l++]=n[u+h]}return a}function GM(n,e,t,i){let a=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[a++];if(r===void 0)return;let l=r[i];if(l!==void 0)if(Array.isArray(l))do l=r[i],l!==void 0&&(e.push(r.time),t.push(...l)),r=n[a++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[i],l!==void 0&&(e.push(r.time),l.toArray(t,t.length)),r=n[a++];while(r!==void 0);else do l=r[i],l!==void 0&&(e.push(r.time),t.push(l)),r=n[a++];while(r!==void 0)}function YV(n,e,t,i,a=30){const r=n.clone();r.name=e;const l=[];for(let h=0;h<r.tracks.length;++h){const m=r.tracks[h],g=m.getValueSize(),v=[],b=[];for(let S=0;S<m.times.length;++S){const M=m.times[S]*a;if(!(M<t||M>=i)){v.push(m.times[S]);for(let A=0;A<g;++A)b.push(m.values[S*g+A])}}v.length!==0&&(m.times=Gf(v,m.times.constructor),m.values=Gf(b,m.values.constructor),l.push(m))}r.tracks=l;let u=1/0;for(let h=0;h<r.tracks.length;++h)u>r.tracks[h].times[0]&&(u=r.tracks[h].times[0]);for(let h=0;h<r.tracks.length;++h)r.tracks[h].shift(-1*u);return r.resetDuration(),r}function ZV(n,e=0,t=n,i=30){i<=0&&(i=30);const a=t.tracks.length,r=e/i;for(let l=0;l<a;++l){const u=t.tracks[l],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const m=n.tracks.find(function(_){return _.name===u.name&&_.ValueTypeName===h});if(m===void 0)continue;let g=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);let b=0;const S=m.getValueSize();m.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=S/3);const M=u.times.length-1;let A;if(r<=u.times[0]){const _=g,L=v-g;A=u.values.slice(_,L)}else if(r>=u.times[M]){const _=M*v+g,L=_+v-g;A=u.values.slice(_,L)}else{const _=u.createInterpolant(),L=g,O=v-g;_.evaluate(r),A=_.resultBuffer.slice(L,O)}h==="quaternion"&&new Hs().fromArray(A).normalize().conjugate().toArray(A);const T=m.times.length;for(let _=0;_<T;++_){const L=_*S+b;if(h==="quaternion")Hs.multiplyQuaternionsFlat(m.values,L,A,0,m.values,L);else{const O=S-b*2;for(let F=0;F<O;++F)m.values[L+F]-=A[F]}}}return n.blendMode=SM,n}class KV{static convertArray(e,t){return Gf(e,t)}static isTypedArray(e){return WD(e)}static getKeyframeOrder(e){return YD(e)}static sortedArray(e,t,i){return uE(e,t,i)}static flattenJSON(e,t,i,a){GM(e,t,i,a)}static subclip(e,t,i,a,r=30){return YV(e,t,i,a,r)}static makeClipAdditive(e,t=0,i=e,a=30){return ZV(e,t,i,a)}}class rg{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,a=t[i],r=t[i-1];e:{t:{let l;n:{i:if(!(e<a)){for(let u=i+2;;){if(a===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(r=a,a=t[++i],e<a)break t}l=t.length;break n}if(!(e>=r)){const u=t[1];e<u&&(i=2,r=u);for(let h=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(a=r,r=t[--i-1],e>=r)break t}l=i,i=0;break n}break e}for(;i<l;){const u=i+l>>>1;e<t[u]?l=u:i=u+1}if(a=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,a)}return this.interpolate_(i,r,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a;for(let l=0;l!==a;++l)t[l]=i[r+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ZD extends rg{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hf,endingEnd:Hf}}intervalChanged_(e,t,i){const a=this.parameterPositions;let r=e-2,l=e+1,u=a[r],h=a[l];if(u===void 0)switch(this.getSettings_().endingStart){case kf:r=e,u=2*t-i;break;case N0:r=a.length-2,u=t+a[r]-a[r+1];break;default:r=e,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case kf:l=e,h=2*i-t;break;case N0:l=1,h=i+a[1]-a[0];break;default:l=e-1,h=t}const m=(i-t)*.5,g=this.valueSize;this._weightPrev=m/(t-u),this._weightNext=m/(h-i),this._offsetPrev=r*g,this._offsetNext=l*g}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,m=h-u,g=this._offsetPrev,v=this._offsetNext,b=this._weightPrev,S=this._weightNext,M=(i-t)/(a-t),A=M*M,T=A*M,_=-b*T+2*b*A-b*M,L=(1+b)*T+(-1.5-2*b)*A+(-.5+b)*M+1,O=(-1-S)*T+(1.5+S)*A+.5*M,F=S*T-S*A;for(let D=0;D!==u;++D)r[D]=_*l[g+D]+L*l[m+D]+O*l[h+D]+F*l[v+D];return r}}class qM extends rg{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,m=h-u,g=(i-t)/(a-t),v=1-g;for(let b=0;b!==u;++b)r[b]=l[m+b]*v+l[h+b]*g;return r}}class KD extends rg{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ir{constructor(e,t,i,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gf(t,this.TimeBufferType),this.values=Gf(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Gf(e.times,Array),values:Gf(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(i.interpolation=a)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new KD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ZD(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case C0:t=this.InterpolantFactoryMethodDiscrete;break;case Gy:t=this.InterpolantFactoryMethodLinear;break;case Zv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return ht("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return C0;case this.InterpolantFactoryMethodLinear:return Gy;case this.InterpolantFactoryMethodSmooth:return Zv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]*=e}return this}trim(e,t){const i=this.times,a=i.length;let r=0,l=a-1;for(;r!==a&&i[r]<e;)++r;for(;l!==-1&&i[l]>t;)--l;if(++l,r!==0||l!==a){r>=l&&(l=Math.max(l,1),r=l-1);const u=this.getValueSize();this.times=i.slice(r,l),this.values=this.values.slice(r*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Wt("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,a=this.values,r=i.length;r===0&&(Wt("KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==r;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){Wt("KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(l!==null&&l>h){Wt("KeyframeTrack: Out of order keys.",this,u,h,l),e=!1;break}l=h}if(a!==void 0&&WD(a))for(let u=0,h=a.length;u!==h;++u){const m=a[u];if(isNaN(m)){Wt("KeyframeTrack: Value is not a valid number.",this,u,m),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===Zv,r=e.length-1;let l=1;for(let u=1;u<r;++u){let h=!1;const m=e[u],g=e[u+1];if(m!==g&&(u!==1||m!==e[0]))if(a)h=!0;else{const v=u*i,b=v-i,S=v+i;for(let M=0;M!==i;++M){const A=t[v+M];if(A!==t[b+M]||A!==t[S+M]){h=!0;break}}}if(h){if(u!==l){e[l]=e[u];const v=u*i,b=l*i;for(let S=0;S!==i;++S)t[b+S]=t[v+S]}++l}}if(r>0){e[l]=e[r];for(let u=r*i,h=l*i,m=0;m!==i;++m)t[h+m]=t[u+m];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,a=new i(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}Ir.prototype.ValueTypeName="";Ir.prototype.TimeBufferType=Float32Array;Ir.prototype.ValueBufferType=Float32Array;Ir.prototype.DefaultInterpolation=Gy;class ad extends Ir{constructor(e,t,i){super(e,t,i)}}ad.prototype.ValueTypeName="bool";ad.prototype.ValueBufferType=Array;ad.prototype.DefaultInterpolation=C0;ad.prototype.InterpolantFactoryMethodLinear=void 0;ad.prototype.InterpolantFactoryMethodSmooth=void 0;class jM extends Ir{constructor(e,t,i,a){super(e,t,i,a)}}jM.prototype.ValueTypeName="color";class B0 extends Ir{constructor(e,t,i,a){super(e,t,i,a)}}B0.prototype.ValueTypeName="number";class QD extends rg{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=(i-t)/(a-t);let m=e*u;for(let g=m+u;m!==g;m+=4)Hs.slerpFlat(r,0,l,m-u,l,m,h);return r}}class og extends Ir{constructor(e,t,i,a){super(e,t,i,a)}InterpolantFactoryMethodLinear(e){return new QD(this.times,this.values,this.getValueSize(),e)}}og.prototype.ValueTypeName="quaternion";og.prototype.InterpolantFactoryMethodSmooth=void 0;class sd extends Ir{constructor(e,t,i){super(e,t,i)}}sd.prototype.ValueTypeName="string";sd.prototype.ValueBufferType=Array;sd.prototype.DefaultInterpolation=C0;sd.prototype.InterpolantFactoryMethodLinear=void 0;sd.prototype.InterpolantFactoryMethodSmooth=void 0;class I0 extends Ir{constructor(e,t,i,a){super(e,t,i,a)}}I0.prototype.ValueTypeName="vector";class F0{constructor(e="",t=-1,i=[],a=Eb){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=cr(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,a=1/(e.fps||1);for(let l=0,u=i.length;l!==u;++l)t.push(JV(i[l]).scale(a));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],i=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,l=i.length;r!==l;++r)t.push(Ir.toJSON(i[r]));return a}static CreateFromMorphTargetSequence(e,t,i,a){const r=t.length,l=[];for(let u=0;u<r;u++){let h=[],m=[];h.push((u+r-1)%r,u,(u+1)%r),m.push(0,1,0);const g=YD(h);h=uE(h,1,g),m=uE(m,1,g),!a&&h[0]===0&&(h.push(r),m.push(m[0])),l.push(new B0(".morphTargetInfluences["+t[u].name+"]",h,m).scale(1/i))}return new this(e,-1,l)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const a=e;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const a={},r=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const m=e[u],g=m.name.match(r);if(g&&g.length>1){const v=g[1];let b=a[v];b||(a[v]=b=[]),b.push(m)}}const l=[];for(const u in a)l.push(this.CreateFromMorphTargetSequence(u,a[u],t,i));return l}static parseAnimation(e,t){if(ht("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Wt("AnimationClip: No animation in JSONLoader data."),null;const i=function(v,b,S,M,A){if(S.length!==0){const T=[],_=[];GM(S,T,_,M),T.length!==0&&A.push(new v(b,T,_))}},a=[],r=e.name||"default",l=e.fps||30,u=e.blendMode;let h=e.length||-1;const m=e.hierarchy||[];for(let v=0;v<m.length;v++){const b=m[v].keys;if(!(!b||b.length===0))if(b[0].morphTargets){const S={};let M;for(M=0;M<b.length;M++)if(b[M].morphTargets)for(let A=0;A<b[M].morphTargets.length;A++)S[b[M].morphTargets[A]]=-1;for(const A in S){const T=[],_=[];for(let L=0;L!==b[M].morphTargets.length;++L){const O=b[M];T.push(O.time),_.push(O.morphTarget===A?1:0)}a.push(new B0(".morphTargetInfluence["+A+"]",T,_))}h=S.length*l}else{const S=".bones["+t[v].name+"]";i(I0,S+".position",b,"pos",a),i(og,S+".quaternion",b,"rot",a),i(I0,S+".scale",b,"scl",a)}}return a.length===0?null:new this(r,h,a,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,a=e.length;i!==a;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function QV(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return B0;case"vector":case"vector2":case"vector3":case"vector4":return I0;case"color":return jM;case"quaternion":return og;case"bool":case"boolean":return ad;case"string":return sd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function JV(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=QV(n.type);if(n.times===void 0){const t=[],i=[];GM(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const fl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class XM{constructor(e,t,i){const a=this;let r=!1,l=0,u=0,h;const m=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(g){u++,r===!1&&a.onStart!==void 0&&a.onStart(g,l,u),r=!0},this.itemEnd=function(g){l++,a.onProgress!==void 0&&a.onProgress(g,l,u),l===u&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(g){a.onError!==void 0&&a.onError(g)},this.resolveURL=function(g){return h?h(g):g},this.setURLModifier=function(g){return h=g,this},this.addHandler=function(g,v){return m.push(g,v),this},this.removeHandler=function(g){const v=m.indexOf(g);return v!==-1&&m.splice(v,2),this},this.getHandler=function(g){for(let v=0,b=m.length;v<b;v+=2){const S=m[v],M=m[v+1];if(S.global&&(S.lastIndex=0),S.test(g))return M}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const JD=new XM;class ks{constructor(e){this.manager=e!==void 0?e:JD,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(a,r){i.load(e,a,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ks.DEFAULT_MATERIAL_NAME="__DEFAULT";const Zl={};class $V extends Error{constructor(e,t){super(e),this.response=t}}class oc extends ks{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=fl.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Zl[e]!==void 0){Zl[e].push({onLoad:t,onProgress:i,onError:a});return}Zl[e]=[],Zl[e].push({onLoad:t,onProgress:i,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,h=this.responseType;fetch(l).then(m=>{if(m.status===200||m.status===0){if(m.status===0&&ht("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||m.body===void 0||m.body.getReader===void 0)return m;const g=Zl[e],v=m.body.getReader(),b=m.headers.get("X-File-Size")||m.headers.get("Content-Length"),S=b?parseInt(b):0,M=S!==0;let A=0;const T=new ReadableStream({start(_){L();function L(){v.read().then(({done:O,value:F})=>{if(O)_.close();else{A+=F.byteLength;const D=new ProgressEvent("progress",{lengthComputable:M,loaded:A,total:S});for(let U=0,B=g.length;U<B;U++){const H=g[U];H.onProgress&&H.onProgress(D)}_.enqueue(F),L()}},O=>{_.error(O)})}}});return new Response(T)}else throw new $V(`fetch for "${m.url}" responded with ${m.status}: ${m.statusText}`,m)}).then(m=>{switch(h){case"arraybuffer":return m.arrayBuffer();case"blob":return m.blob();case"document":return m.text().then(g=>new DOMParser().parseFromString(g,u));case"json":return m.json();default:if(u==="")return m.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),b=v&&v[1]?v[1].toLowerCase():void 0,S=new TextDecoder(b);return m.arrayBuffer().then(M=>S.decode(M))}}}).then(m=>{fl.add(`file:${e}`,m);const g=Zl[e];delete Zl[e];for(let v=0,b=g.length;v<b;v++){const S=g[v];S.onLoad&&S.onLoad(m)}}).catch(m=>{const g=Zl[e];if(g===void 0)throw this.manager.itemError(e),m;delete Zl[e];for(let v=0,b=g.length;v<b;v++){const S=g[v];S.onError&&S.onError(m)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class e9 extends ks{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new oc(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){a?a(h):Wt(h),r.manager.itemError(e)}},i,a)}parse(e){const t=[];for(let i=0;i<e.length;i++){const a=F0.parse(e[i]);t.push(a)}return t}}class t9 extends ks{constructor(e){super(e)}load(e,t,i,a){const r=this,l=[],u=new Ob,h=new oc(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(r.withCredentials);let m=0;function g(v){h.load(e[v],function(b){const S=r.parse(b,!0);l[v]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},m+=1,m===6&&(S.mipmapCount===1&&(u.minFilter=Fi),u.image=l,u.format=S.format,u.needsUpdate=!0,t&&t(u))},i,a)}if(Array.isArray(e))for(let v=0,b=e.length;v<b;++v)g(v);else h.load(e,function(v){const b=r.parse(v,!0);if(b.isCubemap){const S=b.mipmaps.length/b.mipmapCount;for(let M=0;M<S;M++){l[M]={mipmaps:[]};for(let A=0;A<b.mipmapCount;A++)l[M].mipmaps.push(b.mipmaps[M*b.mipmapCount+A]),l[M].format=b.format,l[M].width=b.width,l[M].height=b.height}u.image=l}else u.image.width=b.width,u.image.height=b.height,u.mipmaps=b.mipmaps;b.mipmapCount===1&&(u.minFilter=Fi),u.format=b.format,u.needsUpdate=!0,t&&t(u)},i,a);return u}}const Mh=new WeakMap;class V0 extends ks{constructor(e){super(e)}load(e,t,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=fl.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0);else{let v=Mh.get(l);v===void 0&&(v=[],Mh.set(l,v)),v.push({onLoad:t,onError:a})}return l}const u=O0("img");function h(){g(),t&&t(this);const v=Mh.get(this)||[];for(let b=0;b<v.length;b++){const S=v[b];S.onLoad&&S.onLoad(this)}Mh.delete(this),r.manager.itemEnd(e)}function m(v){g(),a&&a(v),fl.remove(`image:${e}`);const b=Mh.get(this)||[];for(let S=0;S<b.length;S++){const M=b[S];M.onError&&M.onError(v)}Mh.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function g(){u.removeEventListener("load",h,!1),u.removeEventListener("error",m,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",m,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),fl.add(`image:${e}`,u),r.manager.itemStart(e),u.src=e,u}}class n9 extends ks{constructor(e){super(e)}load(e,t,i,a){const r=new tg;r.colorSpace=Ha;const l=new V0(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function h(m){l.load(e[m],function(g){r.images[m]=g,u++,u===6&&(r.needsUpdate=!0,t&&t(r))},void 0,a)}for(let m=0;m<e.length;++m)h(m);return r}}class i9 extends ks{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new bo,u=new oc(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(r.withCredentials),u.load(e,function(h){let m;try{m=r.parse(h)}catch(g){if(a!==void 0)a(g);else{g(g);return}}m.image!==void 0?l.image=m.image:m.data!==void 0&&(l.image.width=m.width,l.image.height=m.height,l.image.data=m.data),l.wrapS=m.wrapS!==void 0?m.wrapS:Bs,l.wrapT=m.wrapT!==void 0?m.wrapT:Bs,l.magFilter=m.magFilter!==void 0?m.magFilter:Fi,l.minFilter=m.minFilter!==void 0?m.minFilter:Fi,l.anisotropy=m.anisotropy!==void 0?m.anisotropy:1,m.colorSpace!==void 0&&(l.colorSpace=m.colorSpace),m.flipY!==void 0&&(l.flipY=m.flipY),m.format!==void 0&&(l.format=m.format),m.type!==void 0&&(l.type=m.type),m.mipmaps!==void 0&&(l.mipmaps=m.mipmaps,l.minFilter=ul),m.mipmapCount===1&&(l.minFilter=Fi),m.generateMipmaps!==void 0&&(l.generateMipmaps=m.generateMipmaps),l.needsUpdate=!0,t&&t(l,m)},i,a),l}}class a9 extends ks{constructor(e){super(e)}load(e,t,i,a){const r=new Ci,l=new V0(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){r.image=u,r.needsUpdate=!0,t!==void 0&&t(r)},i,a),r}}class Au extends An{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new vt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class $D extends Au{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.groundColor=new vt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const IS=new Xt,MT=new re,wT=new re;class WM{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new We(512,512),this.mapType=Pr,this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mm,this._frameExtents=new We(1,1),this._viewportCount=1,this._viewports=[new Tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;MT.setFromMatrixPosition(e.matrixWorld),t.position.copy(MT),wT.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(wT),t.updateMatrixWorld(),IS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IS,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(IS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class s9 extends WM{constructor(){super(new pa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Kh*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||a!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=a,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class eO extends Au{constructor(e,t,i=0,a=Math.PI/3,r=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.distance=i,this.angle=a,this.penumbra=r,this.decay=l,this.map=null,this.shadow=new s9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const TT=new Xt,Wp=new re,FS=new re;class r9 extends WM{constructor(){super(new pa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new We(4,2),this._viewportCount=6,this._viewports=[new Tn(2,1,1,1),new Tn(0,1,1,1),new Tn(3,1,1,1),new Tn(1,1,1,1),new Tn(3,0,1,1),new Tn(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,a=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Wp.setFromMatrixPosition(e.matrixWorld),i.position.copy(Wp),FS.copy(i.position),FS.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(FS),i.updateMatrixWorld(),a.makeTranslation(-Wp.x,-Wp.y,-Wp.z),TT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TT,i.coordinateSystem,i.reversedDepth)}}class tO extends Au{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new r9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class lg extends Tb{constructor(e=-1,t=1,i=1,a=-1,r=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=i-e,l=i+e,u=a+t,h=a-t;if(this.view!==null&&this.view.enabled){const m=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=m*this.view.offsetX,l=r+m*this.view.width,u-=g*this.view.offsetY,h=u-g*this.view.height}this.projectionMatrix.makeOrthographic(r,l,u,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class o9 extends WM{constructor(){super(new lg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nO extends Au{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.shadow=new o9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class iO extends Au{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class aO extends Au{constructor(e,t,i=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class sO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*r),t.addScaledVector(l[3],.488603*i),t.addScaledVector(l[4],1.092548*(i*a)),t.addScaledVector(l[5],1.092548*(a*r)),t.addScaledVector(l[6],.315392*(3*r*r-1)),t.addScaledVector(l[7],1.092548*(i*r)),t.addScaledVector(l[8],.546274*(i*i-a*a)),t}getIrradianceAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*r),t.addScaledVector(l[3],2*.511664*i),t.addScaledVector(l[4],2*.429043*i*a),t.addScaledVector(l[5],2*.429043*a*r),t.addScaledVector(l[6],.743125*r*r-.247708),t.addScaledVector(l[7],2*.429043*i*r),t.addScaledVector(l[8],.429043*(i*i-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const i=e.x,a=e.y,r=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*a,t[5]=1.092548*a*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-a*a)}}class rO extends Au{constructor(e=new sO,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Xb extends ks{constructor(e){super(e),this.textures={}}load(e,t,i,a){const r=this,l=new oc(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){a?a(h):Wt(h),r.manager.itemError(e)}},i,a)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&ht("MaterialLoader: Undefined texture",r),t[r]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new vt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const l=e.uniforms[r];switch(a.uniforms[r]={},l.type){case"t":a.uniforms[r].value=i(l.value);break;case"c":a.uniforms[r].value=new vt().setHex(l.value);break;case"v2":a.uniforms[r].value=new We().fromArray(l.value);break;case"v3":a.uniforms[r].value=new re().fromArray(l.value);break;case"v4":a.uniforms[r].value=new Tn().fromArray(l.value);break;case"m3":a.uniforms[r].value=new en().fromArray(l.value);break;case"m4":a.uniforms[r].value=new Xt().fromArray(l.value);break;default:a.uniforms[r].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)a.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=i(e.map)),e.matcap!==void 0&&(a.matcap=i(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),a.normalScale=new We().fromArray(r)}return e.displacementMap!==void 0&&(a.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=i(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new We().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Xb.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:ID,SpriteMaterial:NM,RawShaderMaterial:FD,ShaderMaterial:zr,PointsMaterial:DM,MeshPhysicalMaterial:VD,MeshStandardMaterial:VM,MeshPhongMaterial:HD,MeshToonMaterial:kD,MeshNormalMaterial:GD,MeshLambertMaterial:qD,MeshDepthMaterial:HM,MeshDistanceMaterial:kM,MeshBasicMaterial:wu,MeshMatcapMaterial:jD,LineDashedMaterial:XD,LineBasicMaterial:vs,Material:Xa};return new t[e]}}class fE{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class oO extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lO extends ks{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new oc(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){a?a(h):Wt(h),r.manager.itemError(e)}},i,a)}parse(e){const t={},i={};function a(S,M){if(t[M]!==void 0)return t[M];const T=S.interleavedBuffers[M],_=r(S,T.buffer),L=Bh(T.type,_),O=new Nb(L,T.stride);return O.uuid=T.uuid,t[M]=O,O}function r(S,M){if(i[M]!==void 0)return i[M];const T=S.arrayBuffers[M],_=new Uint32Array(T).buffer;return i[M]=_,_}const l=e.isInstancedBufferGeometry?new oO:new tn,u=e.data.index;if(u!==void 0){const S=Bh(u.type,u.array);l.setIndex(new Kn(S,1))}const h=e.data.attributes;for(const S in h){const M=h[S];let A;if(M.isInterleavedBufferAttribute){const T=a(e.data,M.data);A=new $f(T,M.itemSize,M.offset,M.normalized)}else{const T=Bh(M.type,M.array),_=M.isInstancedBufferAttribute?$h:Kn;A=new _(T,M.itemSize,M.normalized)}M.name!==void 0&&(A.name=M.name),M.usage!==void 0&&A.setUsage(M.usage),l.setAttribute(S,A)}const m=e.data.morphAttributes;if(m)for(const S in m){const M=m[S],A=[];for(let T=0,_=M.length;T<_;T++){const L=M[T];let O;if(L.isInterleavedBufferAttribute){const F=a(e.data,L.data);O=new $f(F,L.itemSize,L.offset,L.normalized)}else{const F=Bh(L.type,L.array);O=new Kn(F,L.itemSize,L.normalized)}L.name!==void 0&&(O.name=L.name),A.push(O)}l.morphAttributes[S]=A}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let S=0,M=v.length;S!==M;++S){const A=v[S];l.addGroup(A.start,A.count,A.materialIndex)}const b=e.data.boundingSphere;return b!==void 0&&(l.boundingSphere=new Ca().fromJSON(b)),e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class l9 extends ks{constructor(e){super(e)}load(e,t,i,a){const r=this,l=this.path===""?fE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new oc(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let m=null;try{m=JSON.parse(h)}catch(v){a!==void 0&&a(v),v("ObjectLoader: Can't parse "+e+".",v.message);return}const g=m.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),Wt("ObjectLoader: Can't load "+e);return}r.parse(m,t)},i,a)}async loadAsync(e,t){const i=this,a=this.path===""?fE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const r=new oc(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const l=await r.loadAsync(e,t),u=JSON.parse(l),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(m)}),u=this.parseTextures(e.textures,l),h=this.parseMaterials(e.materials,u),m=this.parseObject(e.object,r,h,u,i),g=this.parseSkeletons(e.skeletons,m);if(this.bindSkeletons(m,g),this.bindLightTargets(m),t!==void 0){let v=!1;for(const b in l)if(l[b].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(m)}return m}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,r),u=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,a,u,l,t),m=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,m),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let i=0,a=e.length;i<a;i++){const r=new Kf().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},a={};if(t.traverse(function(r){r.isBone&&(a[r.uuid]=r)}),e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=new Rb().fromJSON(e[r],a);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const a=new lO;for(let r=0,l=e.length;r<l;r++){let u;const h=e[r];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=a.parse(h);break;default:h.type in ET?u=ET[h.type].fromJSON(h,t):ht(`ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),i[h.uuid]=u}}return i}parseMaterials(e,t){const i={},a={};if(e!==void 0){const r=new Xb;r.setTextures(t);for(let l=0,u=e.length;l<u;l++){const h=e[l];i[h.uuid]===void 0&&(i[h.uuid]=r.parse(h)),a[h.uuid]=i[h.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const a=e[i],r=F0.parse(a);t[r.uuid]=r}return t}parseImages(e,t){const i=this,a={};let r;function l(h){return i.manager.itemStart(h),r.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const m=h,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m)?m:i.resourcePath+m;return l(g)}else return h.data?{data:Bh(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new XM(t);r=new V0(h),r.setCrossOrigin(this.crossOrigin);for(let m=0,g=e.length;m<g;m++){const v=e[m],b=v.url;if(Array.isArray(b)){const S=[];for(let M=0,A=b.length;M<A;M++){const T=b[M],_=u(T);_!==null&&(_ instanceof HTMLImageElement?S.push(_):S.push(new bo(_.data,_.width,_.height)))}a[v.uuid]=new pu(S)}else{const S=u(v.url);a[v.uuid]=new pu(S)}}}return a}async parseImagesAsync(e){const t=this,i={};let a;async function r(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await a.loadAsync(h)}else return l.data?{data:Bh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new V0(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const h=e[l],m=h.url;if(Array.isArray(m)){const g=[];for(let v=0,b=m.length;v<b;v++){const S=m[v],M=await r(S);M!==null&&(M instanceof HTMLImageElement?g.push(M):g.push(new bo(M.data,M.width,M.height)))}i[h.uuid]=new pu(g)}else{const g=await r(h.url);i[h.uuid]=new pu(g)}}}return i}parseTextures(e,t){function i(r,l){return typeof r=="number"?r:(ht("ObjectLoader.parseTexture: Constant should be in numeric form.",r),l[r])}const a={};if(e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=e[r];u.image===void 0&&ht('ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&ht("ObjectLoader: Undefined image",u.image);const h=t[u.image],m=h.data;let g;Array.isArray(m)?(g=new tg,m.length===6&&(g.needsUpdate=!0)):(m&&m.data?g=new bo:g=new Ci,m&&(g.needsUpdate=!0)),g.source=h,g.uuid=u.uuid,u.name!==void 0&&(g.name=u.name),u.mapping!==void 0&&(g.mapping=i(u.mapping,c9)),u.channel!==void 0&&(g.channel=u.channel),u.offset!==void 0&&g.offset.fromArray(u.offset),u.repeat!==void 0&&g.repeat.fromArray(u.repeat),u.center!==void 0&&g.center.fromArray(u.center),u.rotation!==void 0&&(g.rotation=u.rotation),u.wrap!==void 0&&(g.wrapS=i(u.wrap[0],AT),g.wrapT=i(u.wrap[1],AT)),u.format!==void 0&&(g.format=u.format),u.internalFormat!==void 0&&(g.internalFormat=u.internalFormat),u.type!==void 0&&(g.type=u.type),u.colorSpace!==void 0&&(g.colorSpace=u.colorSpace),u.minFilter!==void 0&&(g.minFilter=i(u.minFilter,CT)),u.magFilter!==void 0&&(g.magFilter=i(u.magFilter,CT)),u.anisotropy!==void 0&&(g.anisotropy=u.anisotropy),u.flipY!==void 0&&(g.flipY=u.flipY),u.generateMipmaps!==void 0&&(g.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(g.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(g.compareFunction=u.compareFunction),u.userData!==void 0&&(g.userData=u.userData),a[u.uuid]=g}return a}parseObject(e,t,i,a,r){let l;function u(b){return t[b]===void 0&&ht("ObjectLoader: Undefined geometry",b),t[b]}function h(b){if(b!==void 0){if(Array.isArray(b)){const S=[];for(let M=0,A=b.length;M<A;M++){const T=b[M];i[T]===void 0&&ht("ObjectLoader: Undefined material",T),S.push(i[T])}return S}return i[b]===void 0&&ht("ObjectLoader: Undefined material",b),i[b]}}function m(b){return a[b]===void 0&&ht("ObjectLoader: Undefined texture",b),a[b]}let g,v;switch(e.type){case"Scene":l=new CM,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new vt(e.background):l.background=m(e.background)),e.environment!==void 0&&(l.environment=m(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Cb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new Ab(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new pa(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new lg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new iO(e.color,e.intensity);break;case"DirectionalLight":l=new nO(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new tO(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new aO(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new eO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new $D(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new rO().fromJSON(e);break;case"SkinnedMesh":g=u(e.geometry),v=h(e.material),l=new _D(g,v),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":g=u(e.geometry),v=h(e.material),l=new ra(g,v);break;case"InstancedMesh":g=u(e.geometry),v=h(e.material);const b=e.count,S=e.instanceMatrix,M=e.instanceColor;l=new SD(g,v,b),l.instanceMatrix=new $h(new Float32Array(S.array),16),M!==void 0&&(l.instanceColor=new $h(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":g=u(e.geometry),v=h(e.material),l=new ED(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),l.geometry=g,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(A=>{let T=null,_=null;return A.boundingBox!==void 0&&(T=new ja().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(_=new Ca().fromJSON(A.boundingSphere)),{...A,boundingBox:T,boundingSphere:_}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=m(e.matricesTexture.uuid),l._indirectTexture=m(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=m(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new Ca().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(l.boundingBox=new ja().fromJSON(e.boundingBox));break;case"LOD":l=new bD;break;case"Line":l=new Su(u(e.geometry),h(e.material));break;case"LineLoop":l=new MD(u(e.geometry),h(e.material));break;case"LineSegments":l=new yl(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":l=new wD(u(e.geometry),h(e.material));break;case"Sprite":l=new yD(h(e.material));break;case"Group":l=new Ih;break;case"Bone":l=new RM;break;default:l=new An}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const b=e.children;for(let S=0;S<b.length;S++)l.add(this.parseObject(b[S],t,i,a,r))}if(e.animations!==void 0){const b=e.animations;for(let S=0;S<b.length;S++){const M=b[S];l.animations.push(r[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const b=e.levels;for(let S=0;S<b.length;S++){const M=b[S],A=l.getObjectByProperty("uuid",M.object);A!==void 0&&l.addLevel(A,M.distance,M.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=t[i.skeleton];a===void 0?ht("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,a=e.getObjectByProperty("uuid",i);a!==void 0?t.target=a:t.target=new An}})}}const c9={UVMapping:pb,CubeReflectionMapping:sc,CubeRefractionMapping:yu,EquirectangularReflectionMapping:M0,EquirectangularRefractionMapping:w0,CubeUVReflectionMapping:dm},AT={RepeatWrapping:T0,ClampToEdgeWrapping:Bs,MirroredRepeatWrapping:A0},CT={NearestFilter:Aa,NearestMipmapNearestFilter:pM,NearestMipmapLinearFilter:zh,LinearFilter:Fi,LinearMipmapNearestFilter:l0,LinearMipmapLinearFilter:ul},VS=new WeakMap;class u9 extends ks{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&ht("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&ht("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=fl.get(`image-bitmap:${e}`);if(l!==void 0){if(r.manager.itemStart(e),l.then){l.then(m=>{if(VS.has(l)===!0)a&&a(VS.get(l)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(m),r.manager.itemEnd(e),m});return}return setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const h=fetch(e,u).then(function(m){return m.blob()}).then(function(m){return createImageBitmap(m,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(m){return fl.add(`image-bitmap:${e}`,m),t&&t(m),r.manager.itemEnd(e),m}).catch(function(m){a&&a(m),VS.set(h,m),fl.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});fl.add(`image-bitmap:${e}`,h),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Cv;class YM{static getContext(){return Cv===void 0&&(Cv=new(window.AudioContext||window.webkitAudioContext)),Cv}static setContext(e){Cv=e}}class f9 extends ks{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new oc(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{const m=h.slice(0);YM.getContext().decodeAudioData(m,function(v){t(v)}).catch(u)}catch(m){u(m)}},i,a);function u(h){a?a(h):Wt(h),r.manager.itemError(e)}}}const NT=new Xt,RT=new Xt,Tf=new Xt;class d9{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Tf.copy(e.projectionMatrix);const a=t.eyeSep/2,r=a*t.near/t.focus,l=t.near*Math.tan(Zf*t.fov*.5)/t.zoom;let u,h;RT.elements[12]=-a,NT.elements[12]=a,u=-l*t.aspect+r,h=l*t.aspect+r,Tf.elements[0]=2*t.near/(h-u),Tf.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(Tf),u=-l*t.aspect-r,h=l*t.aspect-r,Tf.elements[0]=2*t.near/(h-u),Tf.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(Tf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(RT),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(NT)}}class cO extends pa{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class ZM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Af=new re,HS=new Hs,h9=new re,Cf=new re,Nf=new re;class m9 extends An{constructor(){super(),this.type="AudioListener",this.context=YM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ZM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Af,HS,h9),Cf.set(0,0,-1).applyQuaternion(HS),Nf.set(0,1,0).applyQuaternion(HS),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Af.x,i),t.positionY.linearRampToValueAtTime(Af.y,i),t.positionZ.linearRampToValueAtTime(Af.z,i),t.forwardX.linearRampToValueAtTime(Cf.x,i),t.forwardY.linearRampToValueAtTime(Cf.y,i),t.forwardZ.linearRampToValueAtTime(Cf.z,i),t.upX.linearRampToValueAtTime(Nf.x,i),t.upY.linearRampToValueAtTime(Nf.y,i),t.upZ.linearRampToValueAtTime(Nf.z,i)}else t.setPosition(Af.x,Af.y,Af.z),t.setOrientation(Cf.x,Cf.y,Cf.z,Nf.x,Nf.y,Nf.z)}}class uO extends An{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){ht("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(ht("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(ht("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Rf=new re,DT=new Hs,p9=new re,Df=new re;class g9 extends uO{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rf,DT,p9),Df.set(0,0,1).applyQuaternion(DT);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rf.x,i),t.positionY.linearRampToValueAtTime(Rf.y,i),t.positionZ.linearRampToValueAtTime(Rf.z,i),t.orientationX.linearRampToValueAtTime(Df.x,i),t.orientationY.linearRampToValueAtTime(Df.y,i),t.orientationZ.linearRampToValueAtTime(Df.z,i)}else t.setPosition(Rf.x,Rf.y,Rf.z),t.setOrientation(Df.x,Df.y,Df.z)}}class x9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class fO{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,r,l;switch(t){case"quaternion":a=this._slerp,r=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,r=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,r=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=r,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,a=this.valueSize,r=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==a;++u)i[r+u]=i[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(i,r,0,u,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,a=e*t+t,r=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const h=t*this._origIndex;this._mixBufferRegion(i,a,h,1-r,t)}l>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*t,1,t);for(let h=t,m=t+t;h!==m;++h)if(i[h]!==i[h+t]){u.setValue(i,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,a=i*this._origIndex;e.getValue(t,a);for(let r=i,l=a;r!==l;++r)t[r]=t[a+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,a,r){if(a>=.5)for(let l=0;l!==r;++l)e[t+l]=e[i+l]}_slerp(e,t,i,a){Hs.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,r){const l=this._workIndex*r;Hs.multiplyQuaternionsFlat(e,l,e,t,e,i),Hs.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,i,a,r){const l=1-a;for(let u=0;u!==r;++u){const h=t+u;e[h]=e[h]*l+e[i+u]*a}}_lerpAdditive(e,t,i,a,r){for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]+e[i+l]*a}}}const KM="\\[\\]\\.:\\/",v9=new RegExp("["+KM+"]","g"),QM="[^"+KM+"]",y9="[^"+KM.replace("\\.","")+"]",b9=/((?:WC+[\/:])*)/.source.replace("WC",QM),_9=/(WCOD+)?/.source.replace("WCOD",y9),S9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",QM),E9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",QM),M9=new RegExp("^"+b9+_9+S9+E9+"$"),w9=["material","materials","bones","map"];class T9{constructor(e,t,i){const a=i||wn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,r=i.length;a!==r;++a)i[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class wn{constructor(e,t,i){this.path=t,this.parsedPath=i||wn.parseTrackName(t),this.node=wn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new wn.Composite(e,t,i):new wn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(v9,"")}static parseTrackName(e){const t=M9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const r=i.nodeName.substring(a+1);w9.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let l=0;l<r.length;l++){const u=r[l];if(u.name===t||u.uuid===t)return u;const h=i(u.children);if(h)return h}return null},a=i(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)e[t++]=i[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,a=t.propertyName;let r=t.propertyIndex;if(e||(e=wn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){ht("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let m=t.objectIndex;switch(i){case"materials":if(!e.material){Wt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Wt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Wt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let g=0;g<e.length;g++)if(e[g].name===m){m=g;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Wt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Wt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Wt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(m!==void 0){if(e[m]===void 0){Wt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[m]}}const l=e[a];if(l===void 0){const m=t.nodeName;Wt("PropertyBinding: Trying to update property for track: "+m+"."+a+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(r!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){Wt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Wt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wn.Composite=T9;wn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wn.prototype.GetterByBindingType=[wn.prototype._getValue_direct,wn.prototype._getValue_array,wn.prototype._getValue_arrayElement,wn.prototype._getValue_toArray];wn.prototype.SetterByBindingTypeAndVersioning=[[wn.prototype._setValue_direct,wn.prototype._setValue_direct_setNeedsUpdate,wn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_array,wn.prototype._setValue_array_setNeedsUpdate,wn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_arrayElement,wn.prototype._setValue_arrayElement_setNeedsUpdate,wn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_fromArray,wn.prototype._setValue_fromArray_setNeedsUpdate,wn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class A9{constructor(){this.isAnimationObjectGroup=!0,this.uuid=cr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,a=arguments.length;i!==a;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,a=this._parsedPaths,r=this._bindings,l=r.length;let u,h=e.length,m=this.nCachedObjects_;for(let g=0,v=arguments.length;g!==v;++g){const b=arguments[g],S=b.uuid;let M=t[S];if(M===void 0){M=h++,t[S]=M,e.push(b);for(let A=0,T=l;A!==T;++A)r[A].push(new wn(b,i[A],a[A]))}else if(M<m){u=e[M];const A=--m,T=e[A];t[T.uuid]=M,e[M]=T,t[S]=A,e[A]=b;for(let _=0,L=l;_!==L;++_){const O=r[_],F=O[A];let D=O[M];O[M]=F,D===void 0&&(D=new wn(b,i[_],a[_])),O[A]=D}}else e[M]!==u&&Wt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=m}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],m=h.uuid,g=t[m];if(g!==void 0&&g>=r){const v=r++,b=e[v];t[b.uuid]=g,e[g]=b,t[m]=v,e[v]=h;for(let S=0,M=a;S!==M;++S){const A=i[S],T=A[v],_=A[g];A[g]=T,A[v]=_}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_,l=e.length;for(let u=0,h=arguments.length;u!==h;++u){const m=arguments[u],g=m.uuid,v=t[g];if(v!==void 0)if(delete t[g],v<r){const b=--r,S=e[b],M=--l,A=e[M];t[S.uuid]=v,e[v]=S,t[A.uuid]=b,e[b]=A,e.pop();for(let T=0,_=a;T!==_;++T){const L=i[T],O=L[b],F=L[M];L[v]=O,L[b]=F,L.pop()}}else{const b=--l,S=e[b];b>0&&(t[S.uuid]=v),e[v]=S,e.pop();for(let M=0,A=a;M!==A;++M){const T=i[M];T[v]=T[b],T.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let a=i[e];const r=this._bindings;if(a!==void 0)return r[a];const l=this._paths,u=this._parsedPaths,h=this._objects,m=h.length,g=this.nCachedObjects_,v=new Array(m);a=r.length,i[e]=a,l.push(e),u.push(t),r.push(v);for(let b=g,S=h.length;b!==S;++b){const M=h[b];v[b]=new wn(M,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const a=this._paths,r=this._parsedPaths,l=this._bindings,u=l.length-1,h=l[u],m=e[u];t[m]=i,l[i]=h,l.pop(),r[i]=r[u],r.pop(),a[i]=a[u],a.pop()}}}class dO{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;const r=t.tracks,l=r.length,u=new Array(l),h={endingStart:Hf,endingEnd:Hf};for(let m=0;m!==l;++m){const g=r[m].createInterpolant(null);u[m]=g,g.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=JR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const a=this._clip.duration,r=e._clip.duration,l=r/a,u=a/r;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const a=this._mixer,r=a.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=a._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,m=u.sampleValues;return h[0]=r,h[1]=r+i,m[0]=e/l,m[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const h=(e-r)*i;h<0||i===0?t=0:(this._startTime=null,t=i*h)}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,m=this._propertyBindings;switch(this.blendMode){case SM:for(let g=0,v=h.length;g!==v;++g)h[g].evaluate(l),m[g].accumulateAdditive(u);break;case Eb:default:for(let g=0,v=h.length;g!==v;++g)h[g].evaluate(l),m[g].accumulate(a,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let a=this.time+e,r=this._loopCount;const l=i===$R;if(e===0)return r===-1?a:l&&(r&1)===1?t-a:a;if(i===QR){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const u=Math.floor(a/t);a-=t*u,r+=Math.abs(u);const h=this.repetitions-r;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const m=e<0;this._setEndings(m,!m,l)}else this._setEndings(!1,!1,l);this._loopCount=r,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=a;if(l&&(r&1)===1)return t-a}return a}_setEndings(e,t,i){const a=this._interpolantSettings;i?(a.endingStart=kf,a.endingEnd=kf):(e?a.endingStart=this.zeroSlopeAtStart?kf:Hf:a.endingStart=N0,t?a.endingEnd=this.zeroSlopeAtEnd?kf:Hf:a.endingEnd=N0)}_scheduleFading(e,t,i){const a=this._mixer,r=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=r,h[0]=t,u[1]=r+e,h[1]=i,this}}const C9=new Float32Array(1);class N9 extends vl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,a=e._clip.tracks,r=a.length,l=e._propertyBindings,u=e._interpolants,h=i.uuid,m=this._bindingsByRootAndName;let g=m[h];g===void 0&&(g={},m[h]=g);for(let v=0;v!==r;++v){const b=a[v],S=b.name;let M=g[S];if(M!==void 0)++M.referenceCount,l[v]=M;else{if(M=l[v],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,h,S));continue}const A=t&&t._propertyBindings[v].binding.parsedPath;M=new fO(wn.create(i,S,A),b.ValueTypeName,b.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,h,S),l[v]=M}u[v].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,a=e._clip.uuid,r=this._actionsByClip[a];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,a,i)}const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const a=this._actions,r=this._actionsByClip;let l=r[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],a=e._cacheIndex;i._cacheIndex=a,t[a]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,l=this._actionsByClip,u=l[r],h=u.knownActions,m=h[h.length-1],g=e._byClipCacheIndex;m._byClipCacheIndex=g,h[g]=m,h.pop(),e._byClipCacheIndex=null;const v=u.actionByRoot,b=(e._localRoot||this._root).uuid;delete v[b],h.length===0&&delete l[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const a=this._bindingsByRootAndName,r=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,a=i.rootNode.uuid,r=i.path,l=this._bindingsByRootAndName,u=l[a],h=t[t.length-1],m=e._cacheIndex;h._cacheIndex=m,t[m]=h,t.pop(),delete u[r],Object.keys(u).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new qM(new Float32Array(2),new Float32Array(2),1,C9),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,r=t[a];e.__cacheIndex=a,t[a]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const a=t||this._root,r=a.uuid;let l=typeof e=="string"?F0.findByName(a,e):e;const u=l!==null?l.uuid:e,h=this._actionsByClip[u];let m=null;if(i===void 0&&(l!==null?i=l.blendMode:i=Eb),h!==void 0){const v=h.actionByRoot[r];if(v!==void 0&&v.blendMode===i)return v;m=h.knownActions[0],l===null&&(l=m._clip)}if(l===null)return null;const g=new dO(this,l,t,i);return this._bindAction(g,m),this._addInactiveAction(g,u,r),g}existingAction(e,t){const i=t||this._root,a=i.uuid,r=typeof e=="string"?F0.findByName(i,e):e,l=r?r.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,a=this.time+=e,r=Math.sign(e),l=this._accuIndex^=1;for(let m=0;m!==i;++m)t[m]._update(a,e,r,l);const u=this._bindings,h=this._nActiveBindings;for(let m=0;m!==h;++m)u[m].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,a=this._actionsByClip,r=a[i];if(r!==void 0){const l=r.knownActions;for(let u=0,h=l.length;u!==h;++u){const m=l[u];this._deactivateAction(m);const g=m._cacheIndex,v=t[t.length-1];m._cacheIndex=null,m._byClipCacheIndex=null,v._cacheIndex=g,t[g]=v,t.pop(),this._removeInactiveBindingsForAction(m)}delete a[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const a=this._bindingsByRootAndName,r=a[t];if(r!==void 0)for(const l in r){const u=r[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class R9 extends wM{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new wb(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class JM{constructor(e){this.value=e}clone(){return new JM(this.value.clone===void 0?this.value:this.value.clone())}}let D9=0;class O9 extends vl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:D9++}),this.name="",this.usage=D0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,a=t.length;i<a;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let l=0;l<r.length;l++)this.uniforms.push(r[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class L9 extends Nb{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class U9{constructor(e,t,i,a,r,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=a,this.count=r,this.normalized=l,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const OT=new Xt;class hO{constructor(e,t,i=0,a=1/0){this.ray=new hm(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new Qh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Wt("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return OT.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(OT),this}intersectObject(e,t=!0,i=[]){return dE(e,this,i,t),i.sort(LT),i}intersectObjects(e,t=!0,i=[]){for(let a=0,r=e.length;a<r;a++)dE(e[a],this,i,t);return i.sort(LT),i}}function LT(n,e){return n.distance-e.distance}function dE(n,e,t,i){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&i===!0){const r=n.children;for(let l=0,u=r.length;l<u;l++)dE(r[l],e,t,!0)}}class P9{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=z9.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function z9(){this._document.hidden===!1&&this.reset()}class B9{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Gt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Gt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class I9{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class $M{constructor(e,t,i,a){$M.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,a){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=a,this}}const UT=new We;class F9{constructor(e=new We(1/0,1/0),t=new We(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=UT.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,UT).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const PT=new re,Nv=new re,wh=new re,Th=new re,kS=new re,V9=new re,H9=new re;class k9{constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){PT.subVectors(e,this.start),Nv.subVectors(this.end,this.start);const i=Nv.dot(Nv);let r=Nv.dot(PT)/i;return t&&(r=Gt(r,0,1)),r}closestPointToPoint(e,t,i){const a=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=V9,i=H9){const a=10000000000000001e-32;let r,l;const u=this.start,h=e.start,m=this.end,g=e.end;wh.subVectors(m,u),Th.subVectors(g,h),kS.subVectors(u,h);const v=wh.dot(wh),b=Th.dot(Th),S=Th.dot(kS);if(v<=a&&b<=a)return t.copy(u),i.copy(h),t.sub(i),t.dot(t);if(v<=a)r=0,l=S/b,l=Gt(l,0,1);else{const M=wh.dot(kS);if(b<=a)l=0,r=Gt(-M/v,0,1);else{const A=wh.dot(Th),T=v*b-A*A;T!==0?r=Gt((A*S-M*b)/T,0,1):r=0,l=(A*r+S)/b,l<0?(l=0,r=Gt(-M/v,0,1)):l>1&&(l=1,r=Gt((A-M)/v,0,1))}}return t.copy(u).add(wh.multiplyScalar(r)),i.copy(h).add(Th.multiplyScalar(l)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const zT=new re;class G9 extends An{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new tn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const m=l/h*Math.PI*2,g=u/h*Math.PI*2;a.push(Math.cos(m),Math.sin(m),1,Math.cos(g),Math.sin(g),1)}i.setAttribute("position",new Mt(a,3));const r=new vs({fog:!1,toneMapped:!1});this.cone=new yl(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),zT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const uu=new re,Rv=new Xt,GS=new Xt;class q9 extends yl{constructor(e){const t=mO(e),i=new tn,a=[],r=[];for(let m=0;m<t.length;m++){const g=t[m];g.parent&&g.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}i.setAttribute("position",new Mt(a,3)),i.setAttribute("color",new Mt(r,3));const l=new vs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new vt(255),h=new vt(65280);this.setColors(u,h)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,a=i.getAttribute("position");GS.copy(this.root.matrixWorld).invert();for(let r=0,l=0;r<t.length;r++){const u=t[r];u.parent&&u.parent.isBone&&(Rv.multiplyMatrices(GS,u.matrixWorld),uu.setFromMatrixPosition(Rv),a.setXYZ(l,uu.x,uu.y,uu.z),Rv.multiplyMatrices(GS,u.parent.matrixWorld),uu.setFromMatrixPosition(Rv),a.setXYZ(l+1,uu.x,uu.y,uu.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let r=0;r<a.count;r+=2)a.setXYZ(r,e.r,e.g,e.b),a.setXYZ(r+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function mO(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...mO(n.children[t]));return e}class j9 extends ra{constructor(e,t,i){const a=new sg(t,4,2),r=new wu({wireframe:!0,fog:!1,toneMapped:!1});super(a,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const X9=new re,BT=new vt,IT=new vt;class W9 extends An{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new ag(t);a.rotateY(Math.PI*.5),this.material=new wu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=a.getAttribute("position"),l=new Float32Array(r.count*3);a.setAttribute("color",new Kn(l,3)),this.add(new ra(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");BT.copy(this.light.color),IT.copy(this.light.groundColor);for(let i=0,a=t.count;i<a;i++){const r=i<a/2?BT:IT;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(X9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Y9 extends yl{constructor(e=10,t=10,i=4473924,a=8947848){i=new vt(i),a=new vt(a);const r=t/2,l=e/t,u=e/2,h=[],m=[];for(let b=0,S=0,M=-u;b<=t;b++,M+=l){h.push(-u,0,M,u,0,M),h.push(M,0,-u,M,0,u);const A=b===r?i:a;A.toArray(m,S),S+=3,A.toArray(m,S),S+=3,A.toArray(m,S),S+=3,A.toArray(m,S),S+=3}const g=new tn;g.setAttribute("position",new Mt(h,3)),g.setAttribute("color",new Mt(m,3));const v=new vs({vertexColors:!0,toneMapped:!1});super(g,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Z9 extends yl{constructor(e=10,t=16,i=8,a=64,r=4473924,l=8947848){r=new vt(r),l=new vt(l);const u=[],h=[];if(t>1)for(let v=0;v<t;v++){const b=v/t*(Math.PI*2),S=Math.sin(b)*e,M=Math.cos(b)*e;u.push(0,0,0),u.push(S,0,M);const A=v&1?r:l;h.push(A.r,A.g,A.b),h.push(A.r,A.g,A.b)}for(let v=0;v<i;v++){const b=v&1?r:l,S=e-e/i*v;for(let M=0;M<a;M++){let A=M/a*(Math.PI*2),T=Math.sin(A)*S,_=Math.cos(A)*S;u.push(T,0,_),h.push(b.r,b.g,b.b),A=(M+1)/a*(Math.PI*2),T=Math.sin(A)*S,_=Math.cos(A)*S,u.push(T,0,_),h.push(b.r,b.g,b.b)}}const m=new tn;m.setAttribute("position",new Mt(u,3)),m.setAttribute("color",new Mt(h,3));const g=new vs({vertexColors:!0,toneMapped:!1});super(m,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const FT=new re,Dv=new re,VT=new re;class K9 extends An{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new tn;a.setAttribute("position",new Mt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new vs({fog:!1,toneMapped:!1});this.lightPlane=new Su(a,r),this.add(this.lightPlane),a=new tn,a.setAttribute("position",new Mt([0,0,0,0,0,1],3)),this.targetLine=new Su(a,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),FT.setFromMatrixPosition(this.light.matrixWorld),Dv.setFromMatrixPosition(this.light.target.matrixWorld),VT.subVectors(Dv,FT),this.lightPlane.lookAt(Dv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Dv),this.targetLine.scale.z=VT.length()}}const Ov=new re,wi=new Tb;class Q9 extends yl{constructor(e){const t=new tn,i=new vs({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],r=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(M,A){h(M),h(A)}function h(M){a.push(0,0,0),r.push(0,0,0),l[M]===void 0&&(l[M]=[]),l[M].push(a.length/3-1)}t.setAttribute("position",new Mt(a,3)),t.setAttribute("color",new Mt(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const m=new vt(16755200),g=new vt(16711680),v=new vt(43775),b=new vt(16777215),S=new vt(3355443);this.setColors(m,g,v,b,S)}setColors(e,t,i,a,r){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,a.r,a.g,a.b),u.setXYZ(39,a.r,a.g,a.b),u.setXYZ(40,r.r,r.g,r.b),u.setXYZ(41,r.r,r.g,r.b),u.setXYZ(42,r.r,r.g,r.b),u.setXYZ(43,r.r,r.g,r.b),u.setXYZ(44,r.r,r.g,r.b),u.setXYZ(45,r.r,r.g,r.b),u.setXYZ(46,r.r,r.g,r.b),u.setXYZ(47,r.r,r.g,r.b),u.setXYZ(48,r.r,r.g,r.b),u.setXYZ(49,r.r,r.g,r.b),u.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,a=1;let r,l;if(wi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,l=0;else if(this.camera.coordinateSystem===lr)r=-1,l=1;else if(this.camera.coordinateSystem===Yh)r=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Bi("c",t,e,wi,0,0,r),Bi("t",t,e,wi,0,0,l),Bi("n1",t,e,wi,-i,-a,r),Bi("n2",t,e,wi,i,-a,r),Bi("n3",t,e,wi,-i,a,r),Bi("n4",t,e,wi,i,a,r),Bi("f1",t,e,wi,-i,-a,l),Bi("f2",t,e,wi,i,-a,l),Bi("f3",t,e,wi,-i,a,l),Bi("f4",t,e,wi,i,a,l),Bi("u1",t,e,wi,i*.7,a*1.1,r),Bi("u2",t,e,wi,-i*.7,a*1.1,r),Bi("u3",t,e,wi,0,a*2,r),Bi("cf1",t,e,wi,-i,0,l),Bi("cf2",t,e,wi,i,0,l),Bi("cf3",t,e,wi,0,-a,l),Bi("cf4",t,e,wi,0,a,l),Bi("cn1",t,e,wi,-i,0,r),Bi("cn2",t,e,wi,i,0,r),Bi("cn3",t,e,wi,0,-a,r),Bi("cn4",t,e,wi,0,a,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Bi(n,e,t,i,a,r,l){Ov.set(a,r,l).unproject(i);const u=e[n];if(u!==void 0){const h=t.getAttribute("position");for(let m=0,g=u.length;m<g;m++)h.setXYZ(u[m],Ov.x,Ov.y,Ov.z)}}const Lv=new ja;class J9 extends yl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),r=new tn;r.setIndex(new Kn(i,1)),r.setAttribute("position",new Kn(a,3)),super(r,new vs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Lv.setFromObject(this.object),Lv.isEmpty())return;const e=Lv.min,t=Lv.max,i=this.geometry.attributes.position,a=i.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $9 extends yl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new tn;r.setIndex(new Kn(i,1)),r.setAttribute("position",new Mt(a,3)),super(r,new vs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class eH extends Su{constructor(e,t=1,i=16776960){const a=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new tn;l.setAttribute("position",new Mt(r,3)),l.computeBoundingSphere(),super(l,new vs({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new tn;h.setAttribute("position",new Mt(u,3)),h.computeBoundingSphere(),this.add(new ra(h,new wu({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const HT=new re;let Uv,qS;class tH extends An{constructor(e=new re(0,0,1),t=new re(0,0,0),i=1,a=16776960,r=i*.2,l=r*.2){super(),this.type="ArrowHelper",Uv===void 0&&(Uv=new tn,Uv.setAttribute("position",new Mt([0,0,0,0,1,0],3)),qS=new ig(.5,1,5,1),qS.translate(0,-.5,0)),this.position.copy(t),this.line=new Su(Uv,new vs({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ra(qS,new wu({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{HT.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(HT,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nH extends yl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new tn;a.setAttribute("position",new Mt(t,3)),a.setAttribute("color",new Mt(i,3));const r=new vs({vertexColors:!0,toneMapped:!1});super(a,r),this.type="AxesHelper"}setColors(e,t,i){const a=new vt,r=this.geometry.attributes.color.array;return a.set(e),a.toArray(r,0),a.toArray(r,3),a.set(t),a.toArray(r,6),a.toArray(r,9),a.set(i),a.toArray(r,12),a.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iH{constructor(){this.type="ShapePath",this.color=new vt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Wy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,a){return this.currentPath.quadraticCurveTo(e,t,i,a),this}bezierCurveTo(e,t,i,a,r,l){return this.currentPath.bezierCurveTo(e,t,i,a,r,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const L=[];for(let O=0,F=_.length;O<F;O++){const D=_[O],U=new Kf;U.curves=D.curves,L.push(U)}return L}function i(_,L){const O=L.length;let F=!1;for(let D=O-1,U=0;U<O;D=U++){let B=L[D],H=L[U],I=H.x-B.x,P=H.y-B.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(B=L[U],I=-I,H=L[D],P=-P),_.y<B.y||_.y>H.y)continue;if(_.y===B.y){if(_.x===B.x)return!0}else{const j=P*(_.x-B.x)-I*(_.y-B.y);if(j===0)return!0;if(j<0)continue;F=!F}}else{if(_.y!==B.y)continue;if(H.x<=_.x&&_.x<=B.x||B.x<=_.x&&_.x<=H.x)return!0}}return F}const a=yo.isClockWise,r=this.subPaths;if(r.length===0)return[];let l,u,h;const m=[];if(r.length===1)return u=r[0],h=new Kf,h.curves=u.curves,m.push(h),m;let g=!a(r[0].getPoints());g=e?!g:g;const v=[],b=[];let S=[],M=0,A;b[M]=void 0,S[M]=[];for(let _=0,L=r.length;_<L;_++)u=r[_],A=u.getPoints(),l=a(A),l=e?!l:l,l?(!g&&b[M]&&M++,b[M]={s:new Kf,p:A},b[M].s.curves=u.curves,g&&M++,S[M]=[]):S[M].push({h:u,p:A[0]});if(!b[0])return t(r);if(b.length>1){let _=!1,L=0;for(let O=0,F=b.length;O<F;O++)v[O]=[];for(let O=0,F=b.length;O<F;O++){const D=S[O];for(let U=0;U<D.length;U++){const B=D[U];let H=!0;for(let I=0;I<b.length;I++)i(B.p,b[I].p)&&(O!==I&&L++,H?(H=!1,v[I].push(B)):_=!0);H&&v[O].push(B)}}L>0&&_===!1&&(S=v)}let T;for(let _=0,L=b.length;_<L;_++){h=b[_].s,m.push(h),T=S[_];for(let O=0,F=T.length;O<F;O++)h.holes.push(T[O].h)}return m}}class aH extends vl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){ht("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function sH(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function rH(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function oH(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function hE(n,e,t,i){const a=lH(i);switch(t){case bM:return n*e;case yb:return n*e/a.components*a.byteLength;case eg:return n*e/a.components*a.byteLength;case bb:return n*e*2/a.components*a.byteLength;case _b:return n*e*2/a.components*a.byteLength;case _M:return n*e*3/a.components*a.byteLength;case qa:return n*e*4/a.components*a.byteLength;case Sb:return n*e*4/a.components*a.byteLength;case c0:case u0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case f0:case d0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case gy:case vy:return Math.max(n,16)*Math.max(e,8)/4;case py:case xy:return Math.max(n,8)*Math.max(e,8)/2;case yy:case by:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case _y:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Sy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Ey:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case My:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case wy:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Ty:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Ay:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Cy:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Ny:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Ry:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Dy:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Oy:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Ly:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Uy:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Py:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case zy:case By:case Iy:return Math.ceil(n/4)*Math.ceil(e/4)*16;case Fy:case Vy:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Hy:case ky:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function lH(n){switch(n){case Pr:case gM:return{byteLength:1,components:1};case qh:case xM:case nd:return{byteLength:2,components:1};case xb:case vb:return{byteLength:2,components:4};case rc:case gb:case Is:return{byteLength:4,components:1};case vM:case yM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class cH{static contain(e,t){return sH(e,t)}static cover(e,t){return rH(e,t)}static fill(e){return oH(e)}static getByteLength(e,t,i,a){return hE(e,t,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hb}}));typeof window<"u"&&(window.__THREE__?ht("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function pO(){let n=null,e=!1,t=null,i=null;function a(r,l){t(r,l),i=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function uH(n){const e=new WeakMap;function t(u,h){const m=u.array,g=u.usage,v=m.byteLength,b=n.createBuffer();n.bindBuffer(h,b),n.bufferData(h,m,g),u.onUploadCallback();let S;if(m instanceof Float32Array)S=n.FLOAT;else if(typeof Float16Array<"u"&&m instanceof Float16Array)S=n.HALF_FLOAT;else if(m instanceof Uint16Array)u.isFloat16BufferAttribute?S=n.HALF_FLOAT:S=n.UNSIGNED_SHORT;else if(m instanceof Int16Array)S=n.SHORT;else if(m instanceof Uint32Array)S=n.UNSIGNED_INT;else if(m instanceof Int32Array)S=n.INT;else if(m instanceof Int8Array)S=n.BYTE;else if(m instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(m instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:b,type:S,bytesPerElement:m.BYTES_PER_ELEMENT,version:u.version,size:v}}function i(u,h,m){const g=h.array,v=h.updateRanges;if(n.bindBuffer(m,u),v.length===0)n.bufferSubData(m,0,g);else{v.sort((S,M)=>S.start-M.start);let b=0;for(let S=1;S<v.length;S++){const M=v[b],A=v[S];A.start<=M.start+M.count+1?M.count=Math.max(M.count,A.start+A.count-M.start):(++b,v[b]=A)}v.length=b+1;for(let S=0,M=v.length;S<M;S++){const A=v[S];n.bufferSubData(m,A.start*g.BYTES_PER_ELEMENT,g,A.start,A.count)}h.clearUpdateRanges()}h.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function r(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=e.get(u);h&&(n.deleteBuffer(h.buffer),e.delete(u))}function l(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const g=e.get(u);(!g||g.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const m=e.get(u);if(m===void 0)e.set(u,t(u,h));else if(m.version<u.version){if(m.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(m.buffer,u,h),m.version=u.version}}return{get:a,remove:r,update:l}}var fH=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,dH=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,hH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,mH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pH=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,gH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,xH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,yH=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,bH=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,_H=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,SH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,EH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,MH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,TH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,AH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,CH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,NH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,RH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,OH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,LH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,UH=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,PH=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,zH=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,BH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,IH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,FH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,VH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,HH="gl_FragColor = linearToOutputTexel( gl_FragColor );",kH=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,GH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,qH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,jH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,XH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,WH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ZH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,KH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,QH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,JH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$H=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ek=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,tk=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,nk=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ik=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,ak=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sk=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,rk=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ok=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lk=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ck=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uk=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fk=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,dk=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,hk=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mk=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pk=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gk=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,xk=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,vk=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yk=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,bk=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_k=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Sk=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ek=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Mk=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wk=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Tk=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Ak=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ck=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Nk=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Rk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Dk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ok=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Lk=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Uk=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Pk=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,zk=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Bk=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ik=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Fk=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Vk=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Hk=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kk=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Gk=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,qk=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jk=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Xk=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Wk=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Yk=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Zk=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Kk=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Qk=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Jk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$k=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,e7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,t7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,n7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,i7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,a7=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,s7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,r7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,o7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,l7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,c7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const u7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,f7=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,d7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,h7=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,m7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,p7=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,g7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,x7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,v7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,y7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,b7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,_7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,S7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,E7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,M7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,w7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,T7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,A7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,N7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,D7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,O7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,L7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,P7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,B7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,F7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,V7=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,k7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,G7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ln={alphahash_fragment:fH,alphahash_pars_fragment:dH,alphamap_fragment:hH,alphamap_pars_fragment:mH,alphatest_fragment:pH,alphatest_pars_fragment:gH,aomap_fragment:xH,aomap_pars_fragment:vH,batching_pars_vertex:yH,batching_vertex:bH,begin_vertex:_H,beginnormal_vertex:SH,bsdfs:EH,iridescence_fragment:MH,bumpmap_pars_fragment:wH,clipping_planes_fragment:TH,clipping_planes_pars_fragment:AH,clipping_planes_pars_vertex:CH,clipping_planes_vertex:NH,color_fragment:RH,color_pars_fragment:DH,color_pars_vertex:OH,color_vertex:LH,common:UH,cube_uv_reflection_fragment:PH,defaultnormal_vertex:zH,displacementmap_pars_vertex:BH,displacementmap_vertex:IH,emissivemap_fragment:FH,emissivemap_pars_fragment:VH,colorspace_fragment:HH,colorspace_pars_fragment:kH,envmap_fragment:GH,envmap_common_pars_fragment:qH,envmap_pars_fragment:jH,envmap_pars_vertex:XH,envmap_physical_pars_fragment:ik,envmap_vertex:WH,fog_vertex:YH,fog_pars_vertex:ZH,fog_fragment:KH,fog_pars_fragment:QH,gradientmap_pars_fragment:JH,lightmap_pars_fragment:$H,lights_lambert_fragment:ek,lights_lambert_pars_fragment:tk,lights_pars_begin:nk,lights_toon_fragment:ak,lights_toon_pars_fragment:sk,lights_phong_fragment:rk,lights_phong_pars_fragment:ok,lights_physical_fragment:lk,lights_physical_pars_fragment:ck,lights_fragment_begin:uk,lights_fragment_maps:fk,lights_fragment_end:dk,logdepthbuf_fragment:hk,logdepthbuf_pars_fragment:mk,logdepthbuf_pars_vertex:pk,logdepthbuf_vertex:gk,map_fragment:xk,map_pars_fragment:vk,map_particle_fragment:yk,map_particle_pars_fragment:bk,metalnessmap_fragment:_k,metalnessmap_pars_fragment:Sk,morphinstance_vertex:Ek,morphcolor_vertex:Mk,morphnormal_vertex:wk,morphtarget_pars_vertex:Tk,morphtarget_vertex:Ak,normal_fragment_begin:Ck,normal_fragment_maps:Nk,normal_pars_fragment:Rk,normal_pars_vertex:Dk,normal_vertex:Ok,normalmap_pars_fragment:Lk,clearcoat_normal_fragment_begin:Uk,clearcoat_normal_fragment_maps:Pk,clearcoat_pars_fragment:zk,iridescence_pars_fragment:Bk,opaque_fragment:Ik,packing:Fk,premultiplied_alpha_fragment:Vk,project_vertex:Hk,dithering_fragment:kk,dithering_pars_fragment:Gk,roughnessmap_fragment:qk,roughnessmap_pars_fragment:jk,shadowmap_pars_fragment:Xk,shadowmap_pars_vertex:Wk,shadowmap_vertex:Yk,shadowmask_pars_fragment:Zk,skinbase_vertex:Kk,skinning_pars_vertex:Qk,skinning_vertex:Jk,skinnormal_vertex:$k,specularmap_fragment:e7,specularmap_pars_fragment:t7,tonemapping_fragment:n7,tonemapping_pars_fragment:i7,transmission_fragment:a7,transmission_pars_fragment:s7,uv_pars_fragment:r7,uv_pars_vertex:o7,uv_vertex:l7,worldpos_vertex:c7,background_vert:u7,background_frag:f7,backgroundCube_vert:d7,backgroundCube_frag:h7,cube_vert:m7,cube_frag:p7,depth_vert:g7,depth_frag:x7,distanceRGBA_vert:v7,distanceRGBA_frag:y7,equirect_vert:b7,equirect_frag:_7,linedashed_vert:S7,linedashed_frag:E7,meshbasic_vert:M7,meshbasic_frag:w7,meshlambert_vert:T7,meshlambert_frag:A7,meshmatcap_vert:C7,meshmatcap_frag:N7,meshnormal_vert:R7,meshnormal_frag:D7,meshphong_vert:O7,meshphong_frag:L7,meshphysical_vert:U7,meshphysical_frag:P7,meshtoon_vert:z7,meshtoon_frag:B7,points_vert:I7,points_frag:F7,shadow_vert:V7,shadow_frag:H7,sprite_vert:k7,sprite_frag:G7},dt={common:{diffuse:{value:new vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new en}},envmap:{envMap:{value:null},envMapRotation:{value:new en},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new en}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new en}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new en},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new en},normalScale:{value:new We(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new en},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new en}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new en}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new en}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0},uvTransform:{value:new en}},sprite:{diffuse:{value:new vt(16777215)},opacity:{value:1},center:{value:new We(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}}},vo={basic:{uniforms:ms([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:ms([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new vt(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:ms([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new vt(0)},specular:{value:new vt(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:ms([dt.common,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.roughnessmap,dt.metalnessmap,dt.fog,dt.lights,{emissive:{value:new vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:ms([dt.common,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.gradientmap,dt.fog,dt.lights,{emissive:{value:new vt(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:ms([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:ms([dt.points,dt.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:ms([dt.common,dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:ms([dt.common,dt.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:ms([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:ms([dt.sprite,dt.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new en},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new en}},vertexShader:ln.backgroundCube_vert,fragmentShader:ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:ms([dt.common,dt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:ms([dt.lights,dt.fog,{color:{value:new vt(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};vo.physical={uniforms:ms([vo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new en},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new en},clearcoatNormalScale:{value:new We(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new en},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new en},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new en},sheen:{value:0},sheenColor:{value:new vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new en},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new en},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new en},transmissionSamplerSize:{value:new We},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new en},attenuationDistance:{value:0},attenuationColor:{value:new vt(0)},specularColor:{value:new vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new en},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new en},anisotropyVector:{value:new We},anisotropyMap:{value:null},anisotropyMapTransform:{value:new en}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};const Pv={r:0,b:0,g:0},Of=new ur,q7=new Xt;function j7(n,e,t,i,a,r,l){const u=new vt(0);let h=r===!0?0:1,m,g,v=null,b=0,S=null;function M(O){let F=O.isScene===!0?O.background:null;return F&&F.isTexture&&(F=(O.backgroundBlurriness>0?t:e).get(F)),F}function A(O){let F=!1;const D=M(O);D===null?_(u,h):D&&D.isColor&&(_(D,1),F=!0);const U=n.xr.getEnvironmentBlendMode();U==="additive"?i.buffers.color.setClear(0,0,0,1,l):U==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||F)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function T(O,F){const D=M(F);D&&(D.isCubeTexture||D.mapping===dm)?(g===void 0&&(g=new ra(new id(1,1,1),new zr({name:"BackgroundCubeMaterial",uniforms:Jh(vo.backgroundCube.uniforms),vertexShader:vo.backgroundCube.vertexShader,fragmentShader:vo.backgroundCube.fragmentShader,side:xs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(U,B,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(g)),Of.copy(F.backgroundRotation),Of.x*=-1,Of.y*=-1,Of.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Of.y*=-1,Of.z*=-1),g.material.uniforms.envMap.value=D,g.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=F.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=F.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(q7.makeRotationFromEuler(Of)),g.material.toneMapped=_n.getTransfer(D.colorSpace)!==Hn,(v!==D||b!==D.version||S!==n.toneMapping)&&(g.material.needsUpdate=!0,v=D,b=D.version,S=n.toneMapping),g.layers.enableAll(),O.unshift(g,g.geometry,g.material,0,0,null)):D&&D.isTexture&&(m===void 0&&(m=new ra(new pm(2,2),new zr({name:"BackgroundMaterial",uniforms:Jh(vo.background.uniforms),vertexShader:vo.background.vertexShader,fragmentShader:vo.background.fragmentShader,side:ac,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),Object.defineProperty(m.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(m)),m.material.uniforms.t2D.value=D,m.material.uniforms.backgroundIntensity.value=F.backgroundIntensity,m.material.toneMapped=_n.getTransfer(D.colorSpace)!==Hn,D.matrixAutoUpdate===!0&&D.updateMatrix(),m.material.uniforms.uvTransform.value.copy(D.matrix),(v!==D||b!==D.version||S!==n.toneMapping)&&(m.material.needsUpdate=!0,v=D,b=D.version,S=n.toneMapping),m.layers.enableAll(),O.unshift(m,m.geometry,m.material,0,0,null))}function _(O,F){O.getRGB(Pv,mD(n)),i.buffers.color.setClear(Pv.r,Pv.g,Pv.b,F,l)}function L(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0)}return{getClearColor:function(){return u},setClearColor:function(O,F=1){u.set(O),h=F,_(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(O){h=O,_(u,h)},render:A,addToRenderList:T,dispose:L}}function X7(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=b(null);let r=a,l=!1;function u(P,j,Z,W,Y){let ne=!1;const k=v(W,Z,j);r!==k&&(r=k,m(r.object)),ne=S(P,W,Z,Y),ne&&M(P,W,Z,Y),Y!==null&&e.update(Y,n.ELEMENT_ARRAY_BUFFER),(ne||l)&&(l=!1,F(P,j,Z,W),Y!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Y).buffer))}function h(){return n.createVertexArray()}function m(P){return n.bindVertexArray(P)}function g(P){return n.deleteVertexArray(P)}function v(P,j,Z){const W=Z.wireframe===!0;let Y=i[P.id];Y===void 0&&(Y={},i[P.id]=Y);let ne=Y[j.id];ne===void 0&&(ne={},Y[j.id]=ne);let k=ne[W];return k===void 0&&(k=b(h()),ne[W]=k),k}function b(P){const j=[],Z=[],W=[];for(let Y=0;Y<t;Y++)j[Y]=0,Z[Y]=0,W[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:Z,attributeDivisors:W,object:P,attributes:{},index:null}}function S(P,j,Z,W){const Y=r.attributes,ne=j.attributes;let k=0;const z=Z.getAttributes();for(const $ in z)if(z[$].location>=0){const N=Y[$];let G=ne[$];if(G===void 0&&($==="instanceMatrix"&&P.instanceMatrix&&(G=P.instanceMatrix),$==="instanceColor"&&P.instanceColor&&(G=P.instanceColor)),N===void 0||N.attribute!==G||G&&N.data!==G.data)return!0;k++}return r.attributesNum!==k||r.index!==W}function M(P,j,Z,W){const Y={},ne=j.attributes;let k=0;const z=Z.getAttributes();for(const $ in z)if(z[$].location>=0){let N=ne[$];N===void 0&&($==="instanceMatrix"&&P.instanceMatrix&&(N=P.instanceMatrix),$==="instanceColor"&&P.instanceColor&&(N=P.instanceColor));const G={};G.attribute=N,N&&N.data&&(G.data=N.data),Y[$]=G,k++}r.attributes=Y,r.attributesNum=k,r.index=W}function A(){const P=r.newAttributes;for(let j=0,Z=P.length;j<Z;j++)P[j]=0}function T(P){_(P,0)}function _(P,j){const Z=r.newAttributes,W=r.enabledAttributes,Y=r.attributeDivisors;Z[P]=1,W[P]===0&&(n.enableVertexAttribArray(P),W[P]=1),Y[P]!==j&&(n.vertexAttribDivisor(P,j),Y[P]=j)}function L(){const P=r.newAttributes,j=r.enabledAttributes;for(let Z=0,W=j.length;Z<W;Z++)j[Z]!==P[Z]&&(n.disableVertexAttribArray(Z),j[Z]=0)}function O(P,j,Z,W,Y,ne,k){k===!0?n.vertexAttribIPointer(P,j,Z,Y,ne):n.vertexAttribPointer(P,j,Z,W,Y,ne)}function F(P,j,Z,W){A();const Y=W.attributes,ne=Z.getAttributes(),k=j.defaultAttributeValues;for(const z in ne){const $=ne[z];if($.location>=0){let X=Y[z];if(X===void 0&&(z==="instanceMatrix"&&P.instanceMatrix&&(X=P.instanceMatrix),z==="instanceColor"&&P.instanceColor&&(X=P.instanceColor)),X!==void 0){const N=X.normalized,G=X.itemSize,ae=e.get(X);if(ae===void 0)continue;const fe=ae.buffer,ce=ae.type,_e=ae.bytesPerElement,oe=ce===n.INT||ce===n.UNSIGNED_INT||X.gpuType===gb;if(X.isInterleavedBufferAttribute){const me=X.data,Oe=me.stride,Ye=X.offset;if(me.isInstancedInterleavedBuffer){for(let Ie=0;Ie<$.locationSize;Ie++)_($.location+Ie,me.meshPerAttribute);P.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let Ie=0;Ie<$.locationSize;Ie++)T($.location+Ie);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let Ie=0;Ie<$.locationSize;Ie++)O($.location+Ie,G/$.locationSize,ce,N,Oe*_e,(Ye+G/$.locationSize*Ie)*_e,oe)}else{if(X.isInstancedBufferAttribute){for(let me=0;me<$.locationSize;me++)_($.location+me,X.meshPerAttribute);P.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let me=0;me<$.locationSize;me++)T($.location+me);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let me=0;me<$.locationSize;me++)O($.location+me,G/$.locationSize,ce,N,G*_e,G/$.locationSize*me*_e,oe)}}else if(k!==void 0){const N=k[z];if(N!==void 0)switch(N.length){case 2:n.vertexAttrib2fv($.location,N);break;case 3:n.vertexAttrib3fv($.location,N);break;case 4:n.vertexAttrib4fv($.location,N);break;default:n.vertexAttrib1fv($.location,N)}}}}L()}function D(){H();for(const P in i){const j=i[P];for(const Z in j){const W=j[Z];for(const Y in W)g(W[Y].object),delete W[Y];delete j[Z]}delete i[P]}}function U(P){if(i[P.id]===void 0)return;const j=i[P.id];for(const Z in j){const W=j[Z];for(const Y in W)g(W[Y].object),delete W[Y];delete j[Z]}delete i[P.id]}function B(P){for(const j in i){const Z=i[j];if(Z[P.id]===void 0)continue;const W=Z[P.id];for(const Y in W)g(W[Y].object),delete W[Y];delete Z[P.id]}}function H(){I(),l=!0,r!==a&&(r=a,m(r.object))}function I(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:u,reset:H,resetDefaultState:I,dispose:D,releaseStatesOfGeometry:U,releaseStatesOfProgram:B,initAttributes:A,enableAttribute:T,disableUnusedAttributes:L}}function W7(n,e,t){let i;function a(m){i=m}function r(m,g){n.drawArrays(i,m,g),t.update(g,i,1)}function l(m,g,v){v!==0&&(n.drawArraysInstanced(i,m,g,v),t.update(g,i,v))}function u(m,g,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,m,0,g,0,v);let S=0;for(let M=0;M<v;M++)S+=g[M];t.update(S,i,1)}function h(m,g,v,b){if(v===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let M=0;M<m.length;M++)l(m[M],g[M],b[M]);else{S.multiDrawArraysInstancedWEBGL(i,m,0,g,0,b,0,v);let M=0;for(let A=0;A<v;A++)M+=g[A]*b[A];t.update(M,i,1)}}this.setMode=a,this.render=r,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function Y7(n,e,t,i){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(B){return!(B!==qa&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(B){const H=B===nd&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Pr&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==Is&&!H)}function h(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let m=t.precision!==void 0?t.precision:"highp";const g=h(m);g!==m&&(ht("WebGLRenderer:",m,"not supported, using",g,"instead."),m=g);const v=t.logarithmicDepthBuffer===!0,b=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),S=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),L=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),O=n.getParameter(n.MAX_VARYING_VECTORS),F=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=M>0,U=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:h,textureFormatReadable:l,textureTypeReadable:u,precision:m,logarithmicDepthBuffer:v,reversedDepthBuffer:b,maxTextures:S,maxVertexTextures:M,maxTextureSize:A,maxCubemapSize:T,maxAttributes:_,maxVertexUniforms:L,maxVaryings:O,maxFragmentUniforms:F,vertexTextures:D,maxSamples:U}}function Z7(n){const e=this;let t=null,i=0,a=!1,r=!1;const l=new du,u=new en,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,b){const S=v.length!==0||b||i!==0||a;return a=b,i=v.length,S},this.beginShadows=function(){r=!0,g(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(v,b){t=g(v,b,0)},this.setState=function(v,b,S){const M=v.clippingPlanes,A=v.clipIntersection,T=v.clipShadows,_=n.get(v);if(!a||M===null||M.length===0||r&&!T)r?g(null):m();else{const L=r?0:i,O=L*4;let F=_.clippingState||null;h.value=F,F=g(M,b,O,S);for(let D=0;D!==O;++D)F[D]=t[D];_.clippingState=F,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=L}};function m(){h.value!==t&&(h.value=t,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function g(v,b,S,M){const A=v!==null?v.length:0;let T=null;if(A!==0){if(T=h.value,M!==!0||T===null){const _=S+A*4,L=b.matrixWorldInverse;u.getNormalMatrix(L),(T===null||T.length<_)&&(T=new Float32Array(_));for(let O=0,F=S;O!==A;++O,F+=4)l.copy(v[O]).applyMatrix4(L,u),l.normal.toArray(T,F),T[F+3]=l.constant}h.value=T,h.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,T}}function K7(n){let e=new WeakMap;function t(l,u){return u===M0?l.mapping=sc:u===w0&&(l.mapping=yu),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===M0||u===w0)if(e.has(l)){const h=e.get(l).texture;return t(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const m=new xD(h.height);return m.fromEquirectangularTexture(n,l),e.set(l,m),l.addEventListener("dispose",a),t(m.texture,l.mapping)}else return null}}return l}function a(l){const u=l.target;u.removeEventListener("dispose",a);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const gu=4,kT=[.125,.215,.35,.446,.526,.582],Bf=20,Q7=256,Yp=new lg,GT=new vt;let jS=null,XS=0,WS=0,YS=!1;const J7=new re;class mE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,a=100,r={}){const{size:l=256,position:u=J7}=r;jS=this._renderer.getRenderTarget(),XS=this._renderer.getActiveCubeFace(),WS=this._renderer.getActiveMipmapLevel(),YS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,i,a,h,u),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=jT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(jS,XS,WS),this._renderer.xr.enabled=YS,e.scissorTest=!1,Ah(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===sc||e.mapping===yu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),jS=this._renderer.getRenderTarget(),XS=this._renderer.getActiveCubeFace(),WS=this._renderer.getActiveMipmapLevel(),YS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Fi,minFilter:Fi,generateMipmaps:!1,type:nd,format:qa,colorSpace:bu,depthBuffer:!1},a=qT(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=qT(e,t,i);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=$7(r)),this._blurMaterial=tG(r,e,t)}return a}_compileMaterial(e){const t=new ra(new tn,e);this._renderer.compile(t,Yp)}_sceneToCubeUV(e,t,i,a,r){const h=new pa(90,1,t,i),m=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],v=this._renderer,b=v.autoClear,S=v.toneMapping;v.getClearColor(GT),v.toneMapping=gl,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(a),v.clearDepth(),v.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ra(new id,new wu({name:"PMREM.Background",side:xs,depthWrite:!1,depthTest:!1})));const A=this._backgroundBox,T=A.material;let _=!1;const L=e.background;L?L.isColor&&(T.color.copy(L),e.background=null,_=!0):(T.color.copy(GT),_=!0);for(let O=0;O<6;O++){const F=O%3;F===0?(h.up.set(0,m[O],0),h.position.set(r.x,r.y,r.z),h.lookAt(r.x+g[O],r.y,r.z)):F===1?(h.up.set(0,0,m[O]),h.position.set(r.x,r.y,r.z),h.lookAt(r.x,r.y+g[O],r.z)):(h.up.set(0,m[O],0),h.position.set(r.x,r.y,r.z),h.lookAt(r.x,r.y,r.z+g[O]));const D=this._cubeSize;Ah(a,F*D,O>2?D:0,D,D),v.setRenderTarget(a),_&&v.render(A,h),v.render(e,h)}v.toneMapping=S,v.autoClear=b,e.background=L}_textureToCubeUV(e,t){const i=this._renderer,a=e.mapping===sc||e.mapping===yu;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=XT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=jT());const r=a?this._cubemapMaterial:this._equirectMaterial,l=this._lodMeshes[0];l.material=r;const u=r.uniforms;u.envMap.value=e;const h=this._cubeSize;Ah(t,0,0,3*h,2*h),i.setRenderTarget(t),i.render(l,Yp)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let r=1;r<a;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=i}_applyGGXFilter(e,t,i){const a=this._renderer,r=this._pingPongRenderTarget;if(this._ggxMaterial===null){const L=3*Math.max(this._cubeSize,16),O=4*this._cubeSize;this._ggxMaterial=eG(this._lodMax,L,O)}const l=this._ggxMaterial,u=this._lodMeshes[i];u.material=l;const h=l.uniforms,m=i/(this._lodMeshes.length-1),g=t/(this._lodMeshes.length-1),v=Math.sqrt(m*m-g*g),b=.05+m*.95,S=v*b,{_lodMax:M}=this,A=this._sizeLods[i],T=3*A*(i>M-gu?i-M+gu:0),_=4*(this._cubeSize-A);h.envMap.value=e.texture,h.roughness.value=S,h.mipInt.value=M-t,Ah(r,T,_,3*A,2*A),a.setRenderTarget(r),a.render(u,Yp),h.envMap.value=r.texture,h.roughness.value=0,h.mipInt.value=M-i,Ah(e,T,_,3*A,2*A),a.setRenderTarget(e),a.render(u,Yp)}_blur(e,t,i,a,r){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,i,a,"latitudinal",r),this._halfBlur(l,e,i,i,a,"longitudinal",r)}_halfBlur(e,t,i,a,r,l,u){const h=this._renderer,m=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&Wt("blur direction must be either latitudinal or longitudinal!");const g=3,v=this._lodMeshes[a];v.material=m;const b=m.uniforms,S=this._sizeLods[i]-1,M=isFinite(r)?Math.PI/(2*S):2*Math.PI/(2*Bf-1),A=r/M,T=isFinite(r)?1+Math.floor(g*A):Bf;T>Bf&&ht(`sigmaRadians, ${r}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Bf}`);const _=[];let L=0;for(let B=0;B<Bf;++B){const H=B/A,I=Math.exp(-H*H/2);_.push(I),B===0?L+=I:B<T&&(L+=2*I)}for(let B=0;B<_.length;B++)_[B]=_[B]/L;b.envMap.value=e.texture,b.samples.value=T,b.weights.value=_,b.latitudinal.value=l==="latitudinal",u&&(b.poleAxis.value=u);const{_lodMax:O}=this;b.dTheta.value=M,b.mipInt.value=O-i;const F=this._sizeLods[a],D=3*F*(a>O-gu?a-O+gu:0),U=4*(this._cubeSize-F);Ah(t,D,U,3*F,2*F),h.setRenderTarget(t),h.render(v,Yp)}}function $7(n){const e=[],t=[],i=[];let a=n;const r=n-gu+1+kT.length;for(let l=0;l<r;l++){const u=Math.pow(2,a);e.push(u);let h=1/u;l>n-gu?h=kT[l-n+gu-1]:l===0&&(h=0),t.push(h);const m=1/(u-2),g=-m,v=1+m,b=[g,g,v,g,v,v,g,g,v,v,g,v],S=6,M=6,A=3,T=2,_=1,L=new Float32Array(A*M*S),O=new Float32Array(T*M*S),F=new Float32Array(_*M*S);for(let U=0;U<S;U++){const B=U%3*2/3-1,H=U>2?0:-1,I=[B,H,0,B+2/3,H,0,B+2/3,H+1,0,B,H,0,B+2/3,H+1,0,B,H+1,0];L.set(I,A*M*U),O.set(b,T*M*U);const P=[U,U,U,U,U,U];F.set(P,_*M*U)}const D=new tn;D.setAttribute("position",new Kn(L,A)),D.setAttribute("uv",new Kn(O,T)),D.setAttribute("faceIndex",new Kn(F,_)),i.push(new ra(D,null)),a>gu&&a--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function qT(n,e,t){const i=new xl(n,e,t);return i.texture.mapping=dm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ah(n,e,t,i,a){n.viewport.set(e,t,i,a),n.scissor.set(e,t,i,a)}function eG(n,e,t){return new zr({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Q7,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Wb(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function tG(n,e,t){const i=new Float32Array(Bf),a=new re(0,1,0);return new zr({name:"SphericalGaussianBlur",defines:{n:Bf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:Wb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function jT(){return new zr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Wb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function XT(){return new zr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Wb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function Wb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function nG(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const h=u.mapping,m=h===M0||h===w0,g=h===sc||h===yu;if(m||g){let v=e.get(u);const b=v!==void 0?v.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==b)return t===null&&(t=new mE(n)),v=m?t.fromEquirectangular(u,v):t.fromCubemap(u,v),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),v.texture;if(v!==void 0)return v.texture;{const S=u.image;return m&&S&&S.height>0||g&&S&&a(S)?(t===null&&(t=new mE(n)),v=m?t.fromEquirectangular(u):t.fromCubemap(u),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),u.addEventListener("dispose",r),v.texture):null}}}return u}function a(u){let h=0;const m=6;for(let g=0;g<m;g++)u[g]!==void 0&&h++;return h===m}function r(u){const h=u.target;h.removeEventListener("dispose",r);const m=e.get(h);m!==void 0&&(e.delete(h),m.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:l}}function iG(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const a=n.getExtension(i);return e[i]=a,a}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const a=t(i);return a===null&&Zh("WebGLRenderer: "+i+" extension not supported."),a}}}function aG(n,e,t,i){const a={},r=new WeakMap;function l(v){const b=v.target;b.index!==null&&e.remove(b.index);for(const M in b.attributes)e.remove(b.attributes[M]);b.removeEventListener("dispose",l),delete a[b.id];const S=r.get(b);S&&(e.remove(S),r.delete(b)),i.releaseStatesOfGeometry(b),b.isInstancedBufferGeometry===!0&&delete b._maxInstanceCount,t.memory.geometries--}function u(v,b){return a[b.id]===!0||(b.addEventListener("dispose",l),a[b.id]=!0,t.memory.geometries++),b}function h(v){const b=v.attributes;for(const S in b)e.update(b[S],n.ARRAY_BUFFER)}function m(v){const b=[],S=v.index,M=v.attributes.position;let A=0;if(S!==null){const L=S.array;A=S.version;for(let O=0,F=L.length;O<F;O+=3){const D=L[O+0],U=L[O+1],B=L[O+2];b.push(D,U,U,B,B,D)}}else if(M!==void 0){const L=M.array;A=M.version;for(let O=0,F=L.length/3-1;O<F;O+=3){const D=O+0,U=O+1,B=O+2;b.push(D,U,U,B,B,D)}}else return;const T=new(uD(b)?AM:TM)(b,1);T.version=A;const _=r.get(v);_&&e.remove(_),r.set(v,T)}function g(v){const b=r.get(v);if(b){const S=v.index;S!==null&&b.version<S.version&&m(v)}else m(v);return r.get(v)}return{get:u,update:h,getWireframeAttribute:g}}function sG(n,e,t){let i;function a(b){i=b}let r,l;function u(b){r=b.type,l=b.bytesPerElement}function h(b,S){n.drawElements(i,S,r,b*l),t.update(S,i,1)}function m(b,S,M){M!==0&&(n.drawElementsInstanced(i,S,r,b*l,M),t.update(S,i,M))}function g(b,S,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,S,0,r,b,0,M);let T=0;for(let _=0;_<M;_++)T+=S[_];t.update(T,i,1)}function v(b,S,M,A){if(M===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let _=0;_<b.length;_++)m(b[_]/l,S[_],A[_]);else{T.multiDrawElementsInstancedWEBGL(i,S,0,r,b,0,A,0,M);let _=0;for(let L=0;L<M;L++)_+=S[L]*A[L];t.update(_,i,1)}}this.setMode=a,this.setIndex=u,this.render=h,this.renderInstances=m,this.renderMultiDraw=g,this.renderMultiDrawInstances=v}function rG(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,l,u){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=u*(r/3);break;case n.LINES:t.lines+=u*(r/2);break;case n.LINE_STRIP:t.lines+=u*(r-1);break;case n.LINE_LOOP:t.lines+=u*r;break;case n.POINTS:t.points+=u*r;break;default:Wt("WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:i}}function oG(n,e,t){const i=new WeakMap,a=new Tn;function r(l,u,h){const m=l.morphTargetInfluences,g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let b=i.get(u);if(b===void 0||b.count!==v){let P=function(){H.dispose(),i.delete(u),u.removeEventListener("dispose",P)};var S=P;b!==void 0&&b.texture.dispose();const M=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,_=u.morphAttributes.position||[],L=u.morphAttributes.normal||[],O=u.morphAttributes.color||[];let F=0;M===!0&&(F=1),A===!0&&(F=2),T===!0&&(F=3);let D=u.attributes.position.count*F,U=1;D>e.maxTextureSize&&(U=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const B=new Float32Array(D*U*4*v),H=new Mb(B,D,U,v);H.type=Is,H.needsUpdate=!0;const I=F*4;for(let j=0;j<v;j++){const Z=_[j],W=L[j],Y=O[j],ne=D*U*4*j;for(let k=0;k<Z.count;k++){const z=k*I;M===!0&&(a.fromBufferAttribute(Z,k),B[ne+z+0]=a.x,B[ne+z+1]=a.y,B[ne+z+2]=a.z,B[ne+z+3]=0),A===!0&&(a.fromBufferAttribute(W,k),B[ne+z+4]=a.x,B[ne+z+5]=a.y,B[ne+z+6]=a.z,B[ne+z+7]=0),T===!0&&(a.fromBufferAttribute(Y,k),B[ne+z+8]=a.x,B[ne+z+9]=a.y,B[ne+z+10]=a.z,B[ne+z+11]=Y.itemSize===4?a.w:1)}}b={count:v,texture:H,size:new We(D,U)},i.set(u,b),u.addEventListener("dispose",P)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let M=0;for(let T=0;T<m.length;T++)M+=m[T];const A=u.morphTargetsRelative?1:1-M;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",m)}h.getUniforms().setValue(n,"morphTargetsTexture",b.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",b.size)}return{update:r}}function lG(n,e,t,i){let a=new WeakMap;function r(h){const m=i.render.frame,g=h.geometry,v=e.get(h,g);if(a.get(v)!==m&&(e.update(v),a.set(v,m)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),a.get(h)!==m&&(t.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,n.ARRAY_BUFFER),a.set(h,m))),h.isSkinnedMesh){const b=h.skeleton;a.get(b)!==m&&(b.update(),a.set(b,m))}return v}function l(){a=new WeakMap}function u(h){const m=h.target;m.removeEventListener("dispose",u),t.remove(m.instanceMatrix),m.instanceColor!==null&&t.remove(m.instanceColor)}return{update:r,dispose:l}}const gO=new Ci,WT=new OM(1,1),xO=new Mb,vO=new wb,yO=new tg,YT=[],ZT=[],KT=new Float32Array(16),QT=new Float32Array(9),JT=new Float32Array(4);function gm(n,e,t){const i=n[0];if(i<=0||i>0)return n;const a=e*t;let r=YT[a];if(r===void 0&&(r=new Float32Array(a),YT[a]=r),e!==0){i.toArray(r,0);for(let l=1,u=0;l!==e;++l)u+=t,n[l].toArray(r,u)}return r}function oa(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function la(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Yb(n,e){let t=ZT[e];t===void 0&&(t=new Int32Array(e),ZT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function cG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function uG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(oa(t,e))return;n.uniform2fv(this.addr,e),la(t,e)}}function fG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(oa(t,e))return;n.uniform3fv(this.addr,e),la(t,e)}}function dG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(oa(t,e))return;n.uniform4fv(this.addr,e),la(t,e)}}function hG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(oa(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),la(t,e)}else{if(oa(t,i))return;JT.set(i),n.uniformMatrix2fv(this.addr,!1,JT),la(t,i)}}function mG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(oa(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),la(t,e)}else{if(oa(t,i))return;QT.set(i),n.uniformMatrix3fv(this.addr,!1,QT),la(t,i)}}function pG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(oa(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),la(t,e)}else{if(oa(t,i))return;KT.set(i),n.uniformMatrix4fv(this.addr,!1,KT),la(t,i)}}function gG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function xG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(oa(t,e))return;n.uniform2iv(this.addr,e),la(t,e)}}function vG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(oa(t,e))return;n.uniform3iv(this.addr,e),la(t,e)}}function yG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(oa(t,e))return;n.uniform4iv(this.addr,e),la(t,e)}}function bG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function _G(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(oa(t,e))return;n.uniform2uiv(this.addr,e),la(t,e)}}function SG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(oa(t,e))return;n.uniform3uiv(this.addr,e),la(t,e)}}function EG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(oa(t,e))return;n.uniform4uiv(this.addr,e),la(t,e)}}function MG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let r;this.type===n.SAMPLER_2D_SHADOW?(WT.compareFunction=EM,r=WT):r=gO,t.setTexture2D(e||r,a)}function wG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture3D(e||vO,a)}function TG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTextureCube(e||yO,a)}function AG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture2DArray(e||xO,a)}function CG(n){switch(n){case 5126:return cG;case 35664:return uG;case 35665:return fG;case 35666:return dG;case 35674:return hG;case 35675:return mG;case 35676:return pG;case 5124:case 35670:return gG;case 35667:case 35671:return xG;case 35668:case 35672:return vG;case 35669:case 35673:return yG;case 5125:return bG;case 36294:return _G;case 36295:return SG;case 36296:return EG;case 35678:case 36198:case 36298:case 36306:case 35682:return MG;case 35679:case 36299:case 36307:return wG;case 35680:case 36300:case 36308:case 36293:return TG;case 36289:case 36303:case 36311:case 36292:return AG}}function NG(n,e){n.uniform1fv(this.addr,e)}function RG(n,e){const t=gm(e,this.size,2);n.uniform2fv(this.addr,t)}function DG(n,e){const t=gm(e,this.size,3);n.uniform3fv(this.addr,t)}function OG(n,e){const t=gm(e,this.size,4);n.uniform4fv(this.addr,t)}function LG(n,e){const t=gm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function UG(n,e){const t=gm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function PG(n,e){const t=gm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function zG(n,e){n.uniform1iv(this.addr,e)}function BG(n,e){n.uniform2iv(this.addr,e)}function IG(n,e){n.uniform3iv(this.addr,e)}function FG(n,e){n.uniform4iv(this.addr,e)}function VG(n,e){n.uniform1uiv(this.addr,e)}function HG(n,e){n.uniform2uiv(this.addr,e)}function kG(n,e){n.uniform3uiv(this.addr,e)}function GG(n,e){n.uniform4uiv(this.addr,e)}function qG(n,e,t){const i=this.cache,a=e.length,r=Yb(t,a);oa(i,r)||(n.uniform1iv(this.addr,r),la(i,r));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||gO,r[l])}function jG(n,e,t){const i=this.cache,a=e.length,r=Yb(t,a);oa(i,r)||(n.uniform1iv(this.addr,r),la(i,r));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||vO,r[l])}function XG(n,e,t){const i=this.cache,a=e.length,r=Yb(t,a);oa(i,r)||(n.uniform1iv(this.addr,r),la(i,r));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||yO,r[l])}function WG(n,e,t){const i=this.cache,a=e.length,r=Yb(t,a);oa(i,r)||(n.uniform1iv(this.addr,r),la(i,r));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||xO,r[l])}function YG(n){switch(n){case 5126:return NG;case 35664:return RG;case 35665:return DG;case 35666:return OG;case 35674:return LG;case 35675:return UG;case 35676:return PG;case 5124:case 35670:return zG;case 35667:case 35671:return BG;case 35668:case 35672:return IG;case 35669:case 35673:return FG;case 5125:return VG;case 36294:return HG;case 36295:return kG;case 36296:return GG;case 35678:case 36198:case 36298:case 36306:case 35682:return qG;case 35679:case 36299:case 36307:return jG;case 35680:case 36300:case 36308:case 36293:return XG;case 36289:case 36303:case 36311:case 36292:return WG}}class ZG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=CG(t.type)}}class KG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=YG(t.type)}}class QG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const a=this.seq;for(let r=0,l=a.length;r!==l;++r){const u=a[r];u.setValue(e,t[u.id],i)}}}const ZS=/(\w+)(\])?(\[|\.)?/g;function $T(n,e){n.seq.push(e),n.map[e.id]=e}function JG(n,e,t){const i=n.name,a=i.length;for(ZS.lastIndex=0;;){const r=ZS.exec(i),l=ZS.lastIndex;let u=r[1];const h=r[2]==="]",m=r[3];if(h&&(u=u|0),m===void 0||m==="["&&l+2===a){$T(t,m===void 0?new ZG(u,n,e):new KG(u,n,e));break}else{let v=t.map[u];v===void 0&&(v=new QG(u),$T(t,v)),t=v}}}class Qv{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const r=e.getActiveUniform(t,a),l=e.getUniformLocation(t,r.name);JG(r,l,this)}}setValue(e,t,i,a){const r=this.map[t];r!==void 0&&r.setValue(e,i,a)}setOptional(e,t,i){const a=t[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,t,i,a){for(let r=0,l=t.length;r!==l;++r){const u=t[r],h=i[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,a)}}static seqWithValue(e,t){const i=[];for(let a=0,r=e.length;a!==r;++a){const l=e[a];l.id in t&&i.push(l)}return i}}function eA(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const $G=37297;let eq=0;function tq(n,e){const t=n.split(`
`),i=[],a=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let l=a;l<r;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return i.join(`
`)}const tA=new en;function nq(n){_n._getMatrix(tA,_n.workingColorSpace,n);const e=`mat3( ${tA.elements.map(t=>t.toFixed(4))} )`;switch(_n.getTransfer(n)){case R0:return[e,"LinearTransferOETF"];case Hn:return[e,"sRGBTransferOETF"];default:return ht("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function nA(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=(n.getShaderInfoLog(e)||"").trim();if(i&&r==="")return"";const l=/ERROR: 0:(\d+)/.exec(r);if(l){const u=parseInt(l[1]);return t.toUpperCase()+`

`+r+`

`+tq(n.getShaderSource(e),u)}else return r}function iq(n,e){const t=nq(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function aq(n,e){let t;switch(e){case qR:t="Linear";break;case jR:t="Reinhard";break;case XR:t="Cineon";break;case mM:t="ACESFilmic";break;case YR:t="AgX";break;case ZR:t="Neutral";break;case WR:t="Custom";break;default:ht("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const zv=new re;function sq(){_n.getLuminanceCoefficients(zv);const n=zv.x.toFixed(4),e=zv.y.toFixed(4),t=zv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function rq(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(t0).join(`
`)}function oq(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function lq(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const r=n.getActiveAttrib(e,a),l=r.name;let u=1;r.type===n.FLOAT_MAT2&&(u=2),r.type===n.FLOAT_MAT3&&(u=3),r.type===n.FLOAT_MAT4&&(u=4),t[l]={type:r.type,location:n.getAttribLocation(e,l),locationSize:u}}return t}function t0(n){return n!==""}function iA(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function aA(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cq=/^[ \t]*#include +<([\w\d./]+)>/gm;function pE(n){return n.replace(cq,fq)}const uq=new Map;function fq(n,e){let t=ln[e];if(t===void 0){const i=uq.get(e);if(i!==void 0)t=ln[i],ht('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return pE(t)}const dq=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sA(n){return n.replace(dq,hq)}function hq(n,e,t,i){let a="";for(let r=parseInt(e);r<parseInt(t);r++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function rA(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function mq(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===mb?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===o0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xo&&(e="SHADOWMAP_TYPE_VSM"),e}function pq(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case sc:case yu:e="ENVMAP_TYPE_CUBE";break;case dm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function gq(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case yu:e="ENVMAP_MODE_REFRACTION";break}return e}function xq(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case $0:e="ENVMAP_BLENDING_MULTIPLY";break;case kR:e="ENVMAP_BLENDING_MIX";break;case GR:e="ENVMAP_BLENDING_ADD";break}return e}function vq(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function yq(n,e,t,i){const a=n.getContext(),r=t.defines;let l=t.vertexShader,u=t.fragmentShader;const h=mq(t),m=pq(t),g=gq(t),v=xq(t),b=vq(t),S=rq(t),M=oq(r),A=a.createProgram();let T,_,L=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(T=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(t0).join(`
`),T.length>0&&(T+=`
`),_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(t0).join(`
`),_.length>0&&(_+=`
`)):(T=[rA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(t0).join(`
`),_=[rA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",t.envMap?"#define "+v:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==gl?"#define TONE_MAPPING":"",t.toneMapping!==gl?ln.tonemapping_pars_fragment:"",t.toneMapping!==gl?aq("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ln.colorspace_pars_fragment,iq("linearToOutputTexel",t.outputColorSpace),sq(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(t0).join(`
`)),l=pE(l),l=iA(l,t),l=aA(l,t),u=pE(u),u=iA(u,t),u=aA(u,t),l=sA(l),u=sA(u),t.isRawShaderMaterial!==!0&&(L=`#version 300 es
`,T=[S,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,_=["#define varying in",t.glslVersion===rE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===rE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const O=L+T+l,F=L+_+u,D=eA(a,a.VERTEX_SHADER,O),U=eA(a,a.FRAGMENT_SHADER,F);a.attachShader(A,D),a.attachShader(A,U),t.index0AttributeName!==void 0?a.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(A,0,"position"),a.linkProgram(A);function B(j){if(n.debug.checkShaderErrors){const Z=a.getProgramInfoLog(A)||"",W=a.getShaderInfoLog(D)||"",Y=a.getShaderInfoLog(U)||"",ne=Z.trim(),k=W.trim(),z=Y.trim();let $=!0,X=!0;if(a.getProgramParameter(A,a.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,A,D,U);else{const N=nA(a,D,"vertex"),G=nA(a,U,"fragment");Wt("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(A,a.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+ne+`
`+N+`
`+G)}else ne!==""?ht("WebGLProgram: Program Info Log:",ne):(k===""||z==="")&&(X=!1);X&&(j.diagnostics={runnable:$,programLog:ne,vertexShader:{log:k,prefix:T},fragmentShader:{log:z,prefix:_}})}a.deleteShader(D),a.deleteShader(U),H=new Qv(a,A),I=lq(a,A)}let H;this.getUniforms=function(){return H===void 0&&B(this),H};let I;this.getAttributes=function(){return I===void 0&&B(this),I};let P=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=a.getProgramParameter(A,$G)),P},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(A),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=eq++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=D,this.fragmentShader=U,this}let bq=0;class _q{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(t),r=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(r)===!1&&(l.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Sq(e),t.set(e,i)),i}}class Sq{constructor(e){this.id=bq++,this.code=e,this.usedTimes=0}}function Eq(n,e,t,i,a,r,l){const u=new Qh,h=new _q,m=new Set,g=[],v=a.logarithmicDepthBuffer,b=a.vertexTextures;let S=a.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(I){return m.add(I),I===0?"uv":`uv${I}`}function T(I,P,j,Z,W){const Y=Z.fog,ne=W.geometry,k=I.isMeshStandardMaterial?Z.environment:null,z=(I.isMeshStandardMaterial?t:e).get(I.envMap||k),$=z&&z.mapping===dm?z.image.height:null,X=M[I.type];I.precision!==null&&(S=a.getMaxPrecision(I.precision),S!==I.precision&&ht("WebGLProgram.getParameters:",I.precision,"not supported, using",S,"instead."));const N=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,G=N!==void 0?N.length:0;let ae=0;ne.morphAttributes.position!==void 0&&(ae=1),ne.morphAttributes.normal!==void 0&&(ae=2),ne.morphAttributes.color!==void 0&&(ae=3);let fe,ce,_e,oe;if(X){const gn=vo[X];fe=gn.vertexShader,ce=gn.fragmentShader}else fe=I.vertexShader,ce=I.fragmentShader,h.update(I),_e=h.getVertexShaderID(I),oe=h.getFragmentShaderID(I);const me=n.getRenderTarget(),Oe=n.state.buffers.depth.getReversed(),Ye=W.isInstancedMesh===!0,Ie=W.isBatchedMesh===!0,rt=!!I.map,yt=!!I.matcap,tt=!!z,Ae=!!I.aoMap,ie=!!I.lightMap,Be=!!I.bumpMap,Te=!!I.normalMap,Xe=!!I.displacementMap,He=!!I.emissiveMap,Qe=!!I.metalnessMap,Ze=!!I.roughnessMap,ut=I.anisotropy>0,se=I.clearcoat>0,Q=I.dispersion>0,ye=I.iridescence>0,Pe=I.sheen>0,ze=I.transmission>0,Ce=ut&&!!I.anisotropyMap,mt=se&&!!I.clearcoatMap,ot=se&&!!I.clearcoatNormalMap,At=se&&!!I.clearcoatRoughnessMap,St=ye&&!!I.iridescenceMap,Ge=ye&&!!I.iridescenceThicknessMap,Je=Pe&&!!I.sheenColorMap,wt=Pe&&!!I.sheenRoughnessMap,Ct=!!I.specularMap,lt=!!I.specularColorMap,Ut=!!I.specularIntensityMap,de=ze&&!!I.transmissionMap,ct=ze&&!!I.thicknessMap,it=!!I.gradientMap,at=!!I.alphaMap,Ke=I.alphaTest>0,qe=!!I.alphaHash,_t=!!I.extensions;let zt=gl;I.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(zt=n.toneMapping);const vn={shaderID:X,shaderType:I.type,shaderName:I.name,vertexShader:fe,fragmentShader:ce,defines:I.defines,customVertexShaderID:_e,customFragmentShaderID:oe,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:S,batching:Ie,batchingColor:Ie&&W._colorsTexture!==null,instancing:Ye,instancingColor:Ye&&W.instanceColor!==null,instancingMorph:Ye&&W.morphTexture!==null,supportsVertexTextures:b,outputColorSpace:me===null?n.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:bu,alphaToCoverage:!!I.alphaToCoverage,map:rt,matcap:yt,envMap:tt,envMapMode:tt&&z.mapping,envMapCubeUVHeight:$,aoMap:Ae,lightMap:ie,bumpMap:Be,normalMap:Te,displacementMap:b&&Xe,emissiveMap:He,normalMapObjectSpace:Te&&I.normalMapType===nD,normalMapTangentSpace:Te&&I.normalMapType===Mu,metalnessMap:Qe,roughnessMap:Ze,anisotropy:ut,anisotropyMap:Ce,clearcoat:se,clearcoatMap:mt,clearcoatNormalMap:ot,clearcoatRoughnessMap:At,dispersion:Q,iridescence:ye,iridescenceMap:St,iridescenceThicknessMap:Ge,sheen:Pe,sheenColorMap:Je,sheenRoughnessMap:wt,specularMap:Ct,specularColorMap:lt,specularIntensityMap:Ut,transmission:ze,transmissionMap:de,thicknessMap:ct,gradientMap:it,opaque:I.transparent===!1&&I.blending===Yf&&I.alphaToCoverage===!1,alphaMap:at,alphaTest:Ke,alphaHash:qe,combine:I.combine,mapUv:rt&&A(I.map.channel),aoMapUv:Ae&&A(I.aoMap.channel),lightMapUv:ie&&A(I.lightMap.channel),bumpMapUv:Be&&A(I.bumpMap.channel),normalMapUv:Te&&A(I.normalMap.channel),displacementMapUv:Xe&&A(I.displacementMap.channel),emissiveMapUv:He&&A(I.emissiveMap.channel),metalnessMapUv:Qe&&A(I.metalnessMap.channel),roughnessMapUv:Ze&&A(I.roughnessMap.channel),anisotropyMapUv:Ce&&A(I.anisotropyMap.channel),clearcoatMapUv:mt&&A(I.clearcoatMap.channel),clearcoatNormalMapUv:ot&&A(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:At&&A(I.clearcoatRoughnessMap.channel),iridescenceMapUv:St&&A(I.iridescenceMap.channel),iridescenceThicknessMapUv:Ge&&A(I.iridescenceThicknessMap.channel),sheenColorMapUv:Je&&A(I.sheenColorMap.channel),sheenRoughnessMapUv:wt&&A(I.sheenRoughnessMap.channel),specularMapUv:Ct&&A(I.specularMap.channel),specularColorMapUv:lt&&A(I.specularColorMap.channel),specularIntensityMapUv:Ut&&A(I.specularIntensityMap.channel),transmissionMapUv:de&&A(I.transmissionMap.channel),thicknessMapUv:ct&&A(I.thicknessMap.channel),alphaMapUv:at&&A(I.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(Te||ut),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!ne.attributes.uv&&(rt||at),fog:!!Y,useFog:I.fog===!0,fogExp2:!!Y&&Y.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:Oe,skinning:W.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:ae,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&j.length>0,shadowMapType:n.shadowMap.type,toneMapping:zt,decodeVideoTexture:rt&&I.map.isVideoTexture===!0&&_n.getTransfer(I.map.colorSpace)===Hn,decodeVideoTextureEmissive:He&&I.emissiveMap.isVideoTexture===!0&&_n.getTransfer(I.emissiveMap.colorSpace)===Hn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===cl,flipSided:I.side===xs,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:_t&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&I.extensions.multiDraw===!0||Ie)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return vn.vertexUv1s=m.has(1),vn.vertexUv2s=m.has(2),vn.vertexUv3s=m.has(3),m.clear(),vn}function _(I){const P=[];if(I.shaderID?P.push(I.shaderID):(P.push(I.customVertexShaderID),P.push(I.customFragmentShaderID)),I.defines!==void 0)for(const j in I.defines)P.push(j),P.push(I.defines[j]);return I.isRawShaderMaterial===!1&&(L(P,I),O(P,I),P.push(n.outputColorSpace)),P.push(I.customProgramCacheKey),P.join()}function L(I,P){I.push(P.precision),I.push(P.outputColorSpace),I.push(P.envMapMode),I.push(P.envMapCubeUVHeight),I.push(P.mapUv),I.push(P.alphaMapUv),I.push(P.lightMapUv),I.push(P.aoMapUv),I.push(P.bumpMapUv),I.push(P.normalMapUv),I.push(P.displacementMapUv),I.push(P.emissiveMapUv),I.push(P.metalnessMapUv),I.push(P.roughnessMapUv),I.push(P.anisotropyMapUv),I.push(P.clearcoatMapUv),I.push(P.clearcoatNormalMapUv),I.push(P.clearcoatRoughnessMapUv),I.push(P.iridescenceMapUv),I.push(P.iridescenceThicknessMapUv),I.push(P.sheenColorMapUv),I.push(P.sheenRoughnessMapUv),I.push(P.specularMapUv),I.push(P.specularColorMapUv),I.push(P.specularIntensityMapUv),I.push(P.transmissionMapUv),I.push(P.thicknessMapUv),I.push(P.combine),I.push(P.fogExp2),I.push(P.sizeAttenuation),I.push(P.morphTargetsCount),I.push(P.morphAttributeCount),I.push(P.numDirLights),I.push(P.numPointLights),I.push(P.numSpotLights),I.push(P.numSpotLightMaps),I.push(P.numHemiLights),I.push(P.numRectAreaLights),I.push(P.numDirLightShadows),I.push(P.numPointLightShadows),I.push(P.numSpotLightShadows),I.push(P.numSpotLightShadowsWithMaps),I.push(P.numLightProbes),I.push(P.shadowMapType),I.push(P.toneMapping),I.push(P.numClippingPlanes),I.push(P.numClipIntersection),I.push(P.depthPacking)}function O(I,P){u.disableAll(),P.supportsVertexTextures&&u.enable(0),P.instancing&&u.enable(1),P.instancingColor&&u.enable(2),P.instancingMorph&&u.enable(3),P.matcap&&u.enable(4),P.envMap&&u.enable(5),P.normalMapObjectSpace&&u.enable(6),P.normalMapTangentSpace&&u.enable(7),P.clearcoat&&u.enable(8),P.iridescence&&u.enable(9),P.alphaTest&&u.enable(10),P.vertexColors&&u.enable(11),P.vertexAlphas&&u.enable(12),P.vertexUv1s&&u.enable(13),P.vertexUv2s&&u.enable(14),P.vertexUv3s&&u.enable(15),P.vertexTangents&&u.enable(16),P.anisotropy&&u.enable(17),P.alphaHash&&u.enable(18),P.batching&&u.enable(19),P.dispersion&&u.enable(20),P.batchingColor&&u.enable(21),P.gradientMap&&u.enable(22),I.push(u.mask),u.disableAll(),P.fog&&u.enable(0),P.useFog&&u.enable(1),P.flatShading&&u.enable(2),P.logarithmicDepthBuffer&&u.enable(3),P.reversedDepthBuffer&&u.enable(4),P.skinning&&u.enable(5),P.morphTargets&&u.enable(6),P.morphNormals&&u.enable(7),P.morphColors&&u.enable(8),P.premultipliedAlpha&&u.enable(9),P.shadowMapEnabled&&u.enable(10),P.doubleSided&&u.enable(11),P.flipSided&&u.enable(12),P.useDepthPacking&&u.enable(13),P.dithering&&u.enable(14),P.transmission&&u.enable(15),P.sheen&&u.enable(16),P.opaque&&u.enable(17),P.pointsUvs&&u.enable(18),P.decodeVideoTexture&&u.enable(19),P.decodeVideoTextureEmissive&&u.enable(20),P.alphaToCoverage&&u.enable(21),I.push(u.mask)}function F(I){const P=M[I.type];let j;if(P){const Z=vo[P];j=pD.clone(Z.uniforms)}else j=I.uniforms;return j}function D(I,P){let j;for(let Z=0,W=g.length;Z<W;Z++){const Y=g[Z];if(Y.cacheKey===P){j=Y,++j.usedTimes;break}}return j===void 0&&(j=new yq(n,P,I,r),g.push(j)),j}function U(I){if(--I.usedTimes===0){const P=g.indexOf(I);g[P]=g[g.length-1],g.pop(),I.destroy()}}function B(I){h.remove(I)}function H(){h.dispose()}return{getParameters:T,getProgramCacheKey:_,getUniforms:F,acquireProgram:D,releaseProgram:U,releaseShaderCache:B,programs:g,dispose:H}}function Mq(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function a(l,u,h){n.get(l)[u]=h}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:a,dispose:r}}function wq(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function oA(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function lA(){const n=[];let e=0;const t=[],i=[],a=[];function r(){e=0,t.length=0,i.length=0,a.length=0}function l(v,b,S,M,A,T){let _=n[e];return _===void 0?(_={id:v.id,object:v,geometry:b,material:S,groupOrder:M,renderOrder:v.renderOrder,z:A,group:T},n[e]=_):(_.id=v.id,_.object=v,_.geometry=b,_.material=S,_.groupOrder=M,_.renderOrder=v.renderOrder,_.z=A,_.group=T),e++,_}function u(v,b,S,M,A,T){const _=l(v,b,S,M,A,T);S.transmission>0?i.push(_):S.transparent===!0?a.push(_):t.push(_)}function h(v,b,S,M,A,T){const _=l(v,b,S,M,A,T);S.transmission>0?i.unshift(_):S.transparent===!0?a.unshift(_):t.unshift(_)}function m(v,b){t.length>1&&t.sort(v||wq),i.length>1&&i.sort(b||oA),a.length>1&&a.sort(b||oA)}function g(){for(let v=e,b=n.length;v<b;v++){const S=n[v];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}}return{opaque:t,transmissive:i,transparent:a,init:r,push:u,unshift:h,finish:g,sort:m}}function Tq(){let n=new WeakMap;function e(i,a){const r=n.get(i);let l;return r===void 0?(l=new lA,n.set(i,[l])):a>=r.length?(l=new lA,r.push(l)):l=r[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function Aq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new vt};break;case"SpotLight":t={position:new re,direction:new re,color:new vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new vt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new vt,groundColor:new vt};break;case"RectAreaLight":t={color:new vt,position:new re,halfWidth:new re,halfHeight:new re};break}return n[e.id]=t,t}}}function Cq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Nq=0;function Rq(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Dq(n){const e=new Aq,t=Cq(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let m=0;m<9;m++)i.probe.push(new re);const a=new re,r=new Xt,l=new Xt;function u(m){let g=0,v=0,b=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let S=0,M=0,A=0,T=0,_=0,L=0,O=0,F=0,D=0,U=0,B=0;m.sort(Rq);for(let I=0,P=m.length;I<P;I++){const j=m[I],Z=j.color,W=j.intensity,Y=j.distance,ne=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)g+=Z.r*W,v+=Z.g*W,b+=Z.b*W;else if(j.isLightProbe){for(let k=0;k<9;k++)i.probe[k].addScaledVector(j.sh.coefficients[k],W);B++}else if(j.isDirectionalLight){const k=e.get(j);if(k.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const z=j.shadow,$=t.get(j);$.shadowIntensity=z.intensity,$.shadowBias=z.bias,$.shadowNormalBias=z.normalBias,$.shadowRadius=z.radius,$.shadowMapSize=z.mapSize,i.directionalShadow[S]=$,i.directionalShadowMap[S]=ne,i.directionalShadowMatrix[S]=j.shadow.matrix,L++}i.directional[S]=k,S++}else if(j.isSpotLight){const k=e.get(j);k.position.setFromMatrixPosition(j.matrixWorld),k.color.copy(Z).multiplyScalar(W),k.distance=Y,k.coneCos=Math.cos(j.angle),k.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),k.decay=j.decay,i.spot[A]=k;const z=j.shadow;if(j.map&&(i.spotLightMap[D]=j.map,D++,z.updateMatrices(j),j.castShadow&&U++),i.spotLightMatrix[A]=z.matrix,j.castShadow){const $=t.get(j);$.shadowIntensity=z.intensity,$.shadowBias=z.bias,$.shadowNormalBias=z.normalBias,$.shadowRadius=z.radius,$.shadowMapSize=z.mapSize,i.spotShadow[A]=$,i.spotShadowMap[A]=ne,F++}A++}else if(j.isRectAreaLight){const k=e.get(j);k.color.copy(Z).multiplyScalar(W),k.halfWidth.set(j.width*.5,0,0),k.halfHeight.set(0,j.height*.5,0),i.rectArea[T]=k,T++}else if(j.isPointLight){const k=e.get(j);if(k.color.copy(j.color).multiplyScalar(j.intensity),k.distance=j.distance,k.decay=j.decay,j.castShadow){const z=j.shadow,$=t.get(j);$.shadowIntensity=z.intensity,$.shadowBias=z.bias,$.shadowNormalBias=z.normalBias,$.shadowRadius=z.radius,$.shadowMapSize=z.mapSize,$.shadowCameraNear=z.camera.near,$.shadowCameraFar=z.camera.far,i.pointShadow[M]=$,i.pointShadowMap[M]=ne,i.pointShadowMatrix[M]=j.shadow.matrix,O++}i.point[M]=k,M++}else if(j.isHemisphereLight){const k=e.get(j);k.skyColor.copy(j.color).multiplyScalar(W),k.groundColor.copy(j.groundColor).multiplyScalar(W),i.hemi[_]=k,_++}}T>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=dt.LTC_FLOAT_1,i.rectAreaLTC2=dt.LTC_FLOAT_2):(i.rectAreaLTC1=dt.LTC_HALF_1,i.rectAreaLTC2=dt.LTC_HALF_2)),i.ambient[0]=g,i.ambient[1]=v,i.ambient[2]=b;const H=i.hash;(H.directionalLength!==S||H.pointLength!==M||H.spotLength!==A||H.rectAreaLength!==T||H.hemiLength!==_||H.numDirectionalShadows!==L||H.numPointShadows!==O||H.numSpotShadows!==F||H.numSpotMaps!==D||H.numLightProbes!==B)&&(i.directional.length=S,i.spot.length=A,i.rectArea.length=T,i.point.length=M,i.hemi.length=_,i.directionalShadow.length=L,i.directionalShadowMap.length=L,i.pointShadow.length=O,i.pointShadowMap.length=O,i.spotShadow.length=F,i.spotShadowMap.length=F,i.directionalShadowMatrix.length=L,i.pointShadowMatrix.length=O,i.spotLightMatrix.length=F+D-U,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=B,H.directionalLength=S,H.pointLength=M,H.spotLength=A,H.rectAreaLength=T,H.hemiLength=_,H.numDirectionalShadows=L,H.numPointShadows=O,H.numSpotShadows=F,H.numSpotMaps=D,H.numLightProbes=B,i.version=Nq++)}function h(m,g){let v=0,b=0,S=0,M=0,A=0;const T=g.matrixWorldInverse;for(let _=0,L=m.length;_<L;_++){const O=m[_];if(O.isDirectionalLight){const F=i.directional[v];F.direction.setFromMatrixPosition(O.matrixWorld),a.setFromMatrixPosition(O.target.matrixWorld),F.direction.sub(a),F.direction.transformDirection(T),v++}else if(O.isSpotLight){const F=i.spot[S];F.position.setFromMatrixPosition(O.matrixWorld),F.position.applyMatrix4(T),F.direction.setFromMatrixPosition(O.matrixWorld),a.setFromMatrixPosition(O.target.matrixWorld),F.direction.sub(a),F.direction.transformDirection(T),S++}else if(O.isRectAreaLight){const F=i.rectArea[M];F.position.setFromMatrixPosition(O.matrixWorld),F.position.applyMatrix4(T),l.identity(),r.copy(O.matrixWorld),r.premultiply(T),l.extractRotation(r),F.halfWidth.set(O.width*.5,0,0),F.halfHeight.set(0,O.height*.5,0),F.halfWidth.applyMatrix4(l),F.halfHeight.applyMatrix4(l),M++}else if(O.isPointLight){const F=i.point[b];F.position.setFromMatrixPosition(O.matrixWorld),F.position.applyMatrix4(T),b++}else if(O.isHemisphereLight){const F=i.hemi[A];F.direction.setFromMatrixPosition(O.matrixWorld),F.direction.transformDirection(T),A++}}}return{setup:u,setupView:h,state:i}}function cA(n){const e=new Dq(n),t=[],i=[];function a(g){m.camera=g,t.length=0,i.length=0}function r(g){t.push(g)}function l(g){i.push(g)}function u(){e.setup(t)}function h(g){e.setupView(t,g)}const m={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:m,setupLights:u,setupLightsView:h,pushLight:r,pushShadow:l}}function Oq(n){let e=new WeakMap;function t(a,r=0){const l=e.get(a);let u;return l===void 0?(u=new cA(n),e.set(a,[u])):r>=l.length?(u=new cA(n),l.push(u)):u=l[r],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const Lq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Uq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Pq(n,e,t){let i=new mm;const a=new We,r=new We,l=new Tn,u=new HM({depthPacking:tD}),h=new kM,m={},g=t.maxTextureSize,v={[ac]:xs,[xs]:ac,[cl]:cl},b=new zr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new We},radius:{value:4}},vertexShader:Lq,fragmentShader:Uq}),S=b.clone();S.defines.HORIZONTAL_PASS=1;const M=new tn;M.setAttribute("position",new Kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new ra(M,b),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=mb;let _=this.type;this.render=function(U,B,H){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||U.length===0)return;const I=n.getRenderTarget(),P=n.getActiveCubeFace(),j=n.getActiveMipmapLevel(),Z=n.state;Z.setBlending(pl),Z.buffers.depth.getReversed()===!0?Z.buffers.color.setClear(0,0,0,0):Z.buffers.color.setClear(1,1,1,1),Z.buffers.depth.setTest(!0),Z.setScissorTest(!1);const W=_!==xo&&this.type===xo,Y=_===xo&&this.type!==xo;for(let ne=0,k=U.length;ne<k;ne++){const z=U[ne],$=z.shadow;if($===void 0){ht("WebGLShadowMap:",z,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;a.copy($.mapSize);const X=$.getFrameExtents();if(a.multiply(X),r.copy($.mapSize),(a.x>g||a.y>g)&&(a.x>g&&(r.x=Math.floor(g/X.x),a.x=r.x*X.x,$.mapSize.x=r.x),a.y>g&&(r.y=Math.floor(g/X.y),a.y=r.y*X.y,$.mapSize.y=r.y)),$.map===null||W===!0||Y===!0){const G=this.type!==xo?{minFilter:Aa,magFilter:Aa}:{};$.map!==null&&$.map.dispose(),$.map=new xl(a.x,a.y,G),$.map.texture.name=z.name+".shadowMap",$.camera.updateProjectionMatrix()}n.setRenderTarget($.map),n.clear();const N=$.getViewportCount();for(let G=0;G<N;G++){const ae=$.getViewport(G);l.set(r.x*ae.x,r.y*ae.y,r.x*ae.z,r.y*ae.w),Z.viewport(l),$.updateMatrices(z,G),i=$.getFrustum(),F(B,H,$.camera,z,this.type)}$.isPointLightShadow!==!0&&this.type===xo&&L($,H),$.needsUpdate=!1}_=this.type,T.needsUpdate=!1,n.setRenderTarget(I,P,j)};function L(U,B){const H=e.update(A);b.defines.VSM_SAMPLES!==U.blurSamples&&(b.defines.VSM_SAMPLES=U.blurSamples,S.defines.VSM_SAMPLES=U.blurSamples,b.needsUpdate=!0,S.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new xl(a.x,a.y)),b.uniforms.shadow_pass.value=U.map.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(B,null,H,b,A,null),S.uniforms.shadow_pass.value=U.mapPass.texture,S.uniforms.resolution.value=U.mapSize,S.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(B,null,H,S,A,null)}function O(U,B,H,I){let P=null;const j=H.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(j!==void 0)P=j;else if(P=H.isPointLight===!0?h:u,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const Z=P.uuid,W=B.uuid;let Y=m[Z];Y===void 0&&(Y={},m[Z]=Y);let ne=Y[W];ne===void 0&&(ne=P.clone(),Y[W]=ne,B.addEventListener("dispose",D)),P=ne}if(P.visible=B.visible,P.wireframe=B.wireframe,I===xo?P.side=B.shadowSide!==null?B.shadowSide:B.side:P.side=B.shadowSide!==null?B.shadowSide:v[B.side],P.alphaMap=B.alphaMap,P.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,P.map=B.map,P.clipShadows=B.clipShadows,P.clippingPlanes=B.clippingPlanes,P.clipIntersection=B.clipIntersection,P.displacementMap=B.displacementMap,P.displacementScale=B.displacementScale,P.displacementBias=B.displacementBias,P.wireframeLinewidth=B.wireframeLinewidth,P.linewidth=B.linewidth,H.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const Z=n.properties.get(P);Z.light=H}return P}function F(U,B,H,I,P){if(U.visible===!1)return;if(U.layers.test(B.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&P===xo)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,U.matrixWorld);const W=e.update(U),Y=U.material;if(Array.isArray(Y)){const ne=W.groups;for(let k=0,z=ne.length;k<z;k++){const $=ne[k],X=Y[$.materialIndex];if(X&&X.visible){const N=O(U,X,I,P);U.onBeforeShadow(n,U,B,H,W,N,$),n.renderBufferDirect(H,null,W,N,U,$),U.onAfterShadow(n,U,B,H,W,N,$)}}}else if(Y.visible){const ne=O(U,Y,I,P);U.onBeforeShadow(n,U,B,H,W,ne,null),n.renderBufferDirect(H,null,W,ne,U,null),U.onAfterShadow(n,U,B,H,W,ne,null)}}const Z=U.children;for(let W=0,Y=Z.length;W<Y;W++)F(Z[W],B,H,I,P)}function D(U){U.target.removeEventListener("dispose",D);for(const H in m){const I=m[H],P=U.target.uuid;P in I&&(I[P].dispose(),delete I[P])}}}const zq={[ly]:cy,[uy]:hy,[fy]:my,[Jf]:dy,[cy]:ly,[hy]:uy,[my]:fy,[dy]:Jf};function Bq(n,e){function t(){let de=!1;const ct=new Tn;let it=null;const at=new Tn(0,0,0,0);return{setMask:function(Ke){it!==Ke&&!de&&(n.colorMask(Ke,Ke,Ke,Ke),it=Ke)},setLocked:function(Ke){de=Ke},setClear:function(Ke,qe,_t,zt,vn){vn===!0&&(Ke*=zt,qe*=zt,_t*=zt),ct.set(Ke,qe,_t,zt),at.equals(ct)===!1&&(n.clearColor(Ke,qe,_t,zt),at.copy(ct))},reset:function(){de=!1,it=null,at.set(-1,0,0,0)}}}function i(){let de=!1,ct=!1,it=null,at=null,Ke=null;return{setReversed:function(qe){if(ct!==qe){const _t=e.get("EXT_clip_control");qe?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT),ct=qe;const zt=Ke;Ke=null,this.setClear(zt)}},getReversed:function(){return ct},setTest:function(qe){qe?me(n.DEPTH_TEST):Oe(n.DEPTH_TEST)},setMask:function(qe){it!==qe&&!de&&(n.depthMask(qe),it=qe)},setFunc:function(qe){if(ct&&(qe=zq[qe]),at!==qe){switch(qe){case ly:n.depthFunc(n.NEVER);break;case cy:n.depthFunc(n.ALWAYS);break;case uy:n.depthFunc(n.LESS);break;case Jf:n.depthFunc(n.LEQUAL);break;case fy:n.depthFunc(n.EQUAL);break;case dy:n.depthFunc(n.GEQUAL);break;case hy:n.depthFunc(n.GREATER);break;case my:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}at=qe}},setLocked:function(qe){de=qe},setClear:function(qe){Ke!==qe&&(ct&&(qe=1-qe),n.clearDepth(qe),Ke=qe)},reset:function(){de=!1,it=null,at=null,Ke=null,ct=!1}}}function a(){let de=!1,ct=null,it=null,at=null,Ke=null,qe=null,_t=null,zt=null,vn=null;return{setTest:function(gn){de||(gn?me(n.STENCIL_TEST):Oe(n.STENCIL_TEST))},setMask:function(gn){ct!==gn&&!de&&(n.stencilMask(gn),ct=gn)},setFunc:function(gn,Wa,ui){(it!==gn||at!==Wa||Ke!==ui)&&(n.stencilFunc(gn,Wa,ui),it=gn,at=Wa,Ke=ui)},setOp:function(gn,Wa,ui){(qe!==gn||_t!==Wa||zt!==ui)&&(n.stencilOp(gn,Wa,ui),qe=gn,_t=Wa,zt=ui)},setLocked:function(gn){de=gn},setClear:function(gn){vn!==gn&&(n.clearStencil(gn),vn=gn)},reset:function(){de=!1,ct=null,it=null,at=null,Ke=null,qe=null,_t=null,zt=null,vn=null}}}const r=new t,l=new i,u=new a,h=new WeakMap,m=new WeakMap;let g={},v={},b=new WeakMap,S=[],M=null,A=!1,T=null,_=null,L=null,O=null,F=null,D=null,U=null,B=new vt(0,0,0),H=0,I=!1,P=null,j=null,Z=null,W=null,Y=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,z=0;const $=n.getParameter(n.VERSION);$.indexOf("WebGL")!==-1?(z=parseFloat(/^WebGL (\d)/.exec($)[1]),k=z>=1):$.indexOf("OpenGL ES")!==-1&&(z=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),k=z>=2);let X=null,N={};const G=n.getParameter(n.SCISSOR_BOX),ae=n.getParameter(n.VIEWPORT),fe=new Tn().fromArray(G),ce=new Tn().fromArray(ae);function _e(de,ct,it,at){const Ke=new Uint8Array(4),qe=n.createTexture();n.bindTexture(de,qe),n.texParameteri(de,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(de,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let _t=0;_t<it;_t++)de===n.TEXTURE_3D||de===n.TEXTURE_2D_ARRAY?n.texImage3D(ct,0,n.RGBA,1,1,at,0,n.RGBA,n.UNSIGNED_BYTE,Ke):n.texImage2D(ct+_t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ke);return qe}const oe={};oe[n.TEXTURE_2D]=_e(n.TEXTURE_2D,n.TEXTURE_2D,1),oe[n.TEXTURE_CUBE_MAP]=_e(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[n.TEXTURE_2D_ARRAY]=_e(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),oe[n.TEXTURE_3D]=_e(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),l.setClear(1),u.setClear(0),me(n.DEPTH_TEST),l.setFunc(Jf),Be(!1),Te(eE),me(n.CULL_FACE),Ae(pl);function me(de){g[de]!==!0&&(n.enable(de),g[de]=!0)}function Oe(de){g[de]!==!1&&(n.disable(de),g[de]=!1)}function Ye(de,ct){return v[de]!==ct?(n.bindFramebuffer(de,ct),v[de]=ct,de===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=ct),de===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=ct),!0):!1}function Ie(de,ct){let it=S,at=!1;if(de){it=b.get(ct),it===void 0&&(it=[],b.set(ct,it));const Ke=de.textures;if(it.length!==Ke.length||it[0]!==n.COLOR_ATTACHMENT0){for(let qe=0,_t=Ke.length;qe<_t;qe++)it[qe]=n.COLOR_ATTACHMENT0+qe;it.length=Ke.length,at=!0}}else it[0]!==n.BACK&&(it[0]=n.BACK,at=!0);at&&n.drawBuffers(it)}function rt(de){return M!==de?(n.useProgram(de),M=de,!0):!1}const yt={[hu]:n.FUNC_ADD,[wR]:n.FUNC_SUBTRACT,[TR]:n.FUNC_REVERSE_SUBTRACT};yt[AR]=n.MIN,yt[CR]=n.MAX;const tt={[NR]:n.ZERO,[RR]:n.ONE,[DR]:n.SRC_COLOR,[ry]:n.SRC_ALPHA,[BR]:n.SRC_ALPHA_SATURATE,[PR]:n.DST_COLOR,[LR]:n.DST_ALPHA,[OR]:n.ONE_MINUS_SRC_COLOR,[oy]:n.ONE_MINUS_SRC_ALPHA,[zR]:n.ONE_MINUS_DST_COLOR,[UR]:n.ONE_MINUS_DST_ALPHA,[IR]:n.CONSTANT_COLOR,[FR]:n.ONE_MINUS_CONSTANT_COLOR,[VR]:n.CONSTANT_ALPHA,[HR]:n.ONE_MINUS_CONSTANT_ALPHA};function Ae(de,ct,it,at,Ke,qe,_t,zt,vn,gn){if(de===pl){A===!0&&(Oe(n.BLEND),A=!1);return}if(A===!1&&(me(n.BLEND),A=!0),de!==MR){if(de!==T||gn!==I){if((_!==hu||F!==hu)&&(n.blendEquation(n.FUNC_ADD),_=hu,F=hu),gn)switch(de){case Yf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case tE:n.blendFunc(n.ONE,n.ONE);break;case nE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case iE:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Wt("WebGLState: Invalid blending: ",de);break}else switch(de){case Yf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case tE:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case nE:Wt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case iE:Wt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Wt("WebGLState: Invalid blending: ",de);break}L=null,O=null,D=null,U=null,B.set(0,0,0),H=0,T=de,I=gn}return}Ke=Ke||ct,qe=qe||it,_t=_t||at,(ct!==_||Ke!==F)&&(n.blendEquationSeparate(yt[ct],yt[Ke]),_=ct,F=Ke),(it!==L||at!==O||qe!==D||_t!==U)&&(n.blendFuncSeparate(tt[it],tt[at],tt[qe],tt[_t]),L=it,O=at,D=qe,U=_t),(zt.equals(B)===!1||vn!==H)&&(n.blendColor(zt.r,zt.g,zt.b,vn),B.copy(zt),H=vn),T=de,I=!1}function ie(de,ct){de.side===cl?Oe(n.CULL_FACE):me(n.CULL_FACE);let it=de.side===xs;ct&&(it=!it),Be(it),de.blending===Yf&&de.transparent===!1?Ae(pl):Ae(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.blendColor,de.blendAlpha,de.premultipliedAlpha),l.setFunc(de.depthFunc),l.setTest(de.depthTest),l.setMask(de.depthWrite),r.setMask(de.colorWrite);const at=de.stencilWrite;u.setTest(at),at&&(u.setMask(de.stencilWriteMask),u.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),u.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),He(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?me(n.SAMPLE_ALPHA_TO_COVERAGE):Oe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Be(de){P!==de&&(de?n.frontFace(n.CW):n.frontFace(n.CCW),P=de)}function Te(de){de!==_R?(me(n.CULL_FACE),de!==j&&(de===eE?n.cullFace(n.BACK):de===SR?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Oe(n.CULL_FACE),j=de}function Xe(de){de!==Z&&(k&&n.lineWidth(de),Z=de)}function He(de,ct,it){de?(me(n.POLYGON_OFFSET_FILL),(W!==ct||Y!==it)&&(n.polygonOffset(ct,it),W=ct,Y=it)):Oe(n.POLYGON_OFFSET_FILL)}function Qe(de){de?me(n.SCISSOR_TEST):Oe(n.SCISSOR_TEST)}function Ze(de){de===void 0&&(de=n.TEXTURE0+ne-1),X!==de&&(n.activeTexture(de),X=de)}function ut(de,ct,it){it===void 0&&(X===null?it=n.TEXTURE0+ne-1:it=X);let at=N[it];at===void 0&&(at={type:void 0,texture:void 0},N[it]=at),(at.type!==de||at.texture!==ct)&&(X!==it&&(n.activeTexture(it),X=it),n.bindTexture(de,ct||oe[de]),at.type=de,at.texture=ct)}function se(){const de=N[X];de!==void 0&&de.type!==void 0&&(n.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Q(){try{n.compressedTexImage2D(...arguments)}catch(de){de("WebGLState:",de)}}function ye(){try{n.compressedTexImage3D(...arguments)}catch(de){de("WebGLState:",de)}}function Pe(){try{n.texSubImage2D(...arguments)}catch(de){de("WebGLState:",de)}}function ze(){try{n.texSubImage3D(...arguments)}catch(de){de("WebGLState:",de)}}function Ce(){try{n.compressedTexSubImage2D(...arguments)}catch(de){de("WebGLState:",de)}}function mt(){try{n.compressedTexSubImage3D(...arguments)}catch(de){de("WebGLState:",de)}}function ot(){try{n.texStorage2D(...arguments)}catch(de){de("WebGLState:",de)}}function At(){try{n.texStorage3D(...arguments)}catch(de){de("WebGLState:",de)}}function St(){try{n.texImage2D(...arguments)}catch(de){de("WebGLState:",de)}}function Ge(){try{n.texImage3D(...arguments)}catch(de){de("WebGLState:",de)}}function Je(de){fe.equals(de)===!1&&(n.scissor(de.x,de.y,de.z,de.w),fe.copy(de))}function wt(de){ce.equals(de)===!1&&(n.viewport(de.x,de.y,de.z,de.w),ce.copy(de))}function Ct(de,ct){let it=m.get(ct);it===void 0&&(it=new WeakMap,m.set(ct,it));let at=it.get(de);at===void 0&&(at=n.getUniformBlockIndex(ct,de.name),it.set(de,at))}function lt(de,ct){const at=m.get(ct).get(de);h.get(ct)!==at&&(n.uniformBlockBinding(ct,at,de.__bindingPointIndex),h.set(ct,at))}function Ut(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},X=null,N={},v={},b=new WeakMap,S=[],M=null,A=!1,T=null,_=null,L=null,O=null,F=null,D=null,U=null,B=new vt(0,0,0),H=0,I=!1,P=null,j=null,Z=null,W=null,Y=null,fe.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),r.reset(),l.reset(),u.reset()}return{buffers:{color:r,depth:l,stencil:u},enable:me,disable:Oe,bindFramebuffer:Ye,drawBuffers:Ie,useProgram:rt,setBlending:Ae,setMaterial:ie,setFlipSided:Be,setCullFace:Te,setLineWidth:Xe,setPolygonOffset:He,setScissorTest:Qe,activeTexture:Ze,bindTexture:ut,unbindTexture:se,compressedTexImage2D:Q,compressedTexImage3D:ye,texImage2D:St,texImage3D:Ge,updateUBOMapping:Ct,uniformBlockBinding:lt,texStorage2D:ot,texStorage3D:At,texSubImage2D:Pe,texSubImage3D:ze,compressedTexSubImage2D:Ce,compressedTexSubImage3D:mt,scissor:Je,viewport:wt,reset:Ut}}function Iq(n,e,t,i,a,r,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new We,g=new WeakMap;let v;const b=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(se,Q){return S?new OffscreenCanvas(se,Q):O0("canvas")}function A(se,Q,ye){let Pe=1;const ze=ut(se);if((ze.width>ye||ze.height>ye)&&(Pe=ye/Math.max(ze.width,ze.height)),Pe<1)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap||typeof VideoFrame<"u"&&se instanceof VideoFrame){const Ce=Math.floor(Pe*ze.width),mt=Math.floor(Pe*ze.height);v===void 0&&(v=M(Ce,mt));const ot=Q?M(Ce,mt):v;return ot.width=Ce,ot.height=mt,ot.getContext("2d").drawImage(se,0,0,Ce,mt),ht("WebGLRenderer: Texture has been resized from ("+ze.width+"x"+ze.height+") to ("+Ce+"x"+mt+")."),ot}else return"data"in se&&ht("WebGLRenderer: Image in DataTexture is too big ("+ze.width+"x"+ze.height+")."),se;return se}function T(se){return se.generateMipmaps}function _(se){n.generateMipmap(se)}function L(se){return se.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:se.isWebGL3DRenderTarget?n.TEXTURE_3D:se.isWebGLArrayRenderTarget||se.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function O(se,Q,ye,Pe,ze=!1){if(se!==null){if(n[se]!==void 0)return n[se];ht("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let Ce=Q;if(Q===n.RED&&(ye===n.FLOAT&&(Ce=n.R32F),ye===n.HALF_FLOAT&&(Ce=n.R16F),ye===n.UNSIGNED_BYTE&&(Ce=n.R8)),Q===n.RED_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Ce=n.R8UI),ye===n.UNSIGNED_SHORT&&(Ce=n.R16UI),ye===n.UNSIGNED_INT&&(Ce=n.R32UI),ye===n.BYTE&&(Ce=n.R8I),ye===n.SHORT&&(Ce=n.R16I),ye===n.INT&&(Ce=n.R32I)),Q===n.RG&&(ye===n.FLOAT&&(Ce=n.RG32F),ye===n.HALF_FLOAT&&(Ce=n.RG16F),ye===n.UNSIGNED_BYTE&&(Ce=n.RG8)),Q===n.RG_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Ce=n.RG8UI),ye===n.UNSIGNED_SHORT&&(Ce=n.RG16UI),ye===n.UNSIGNED_INT&&(Ce=n.RG32UI),ye===n.BYTE&&(Ce=n.RG8I),ye===n.SHORT&&(Ce=n.RG16I),ye===n.INT&&(Ce=n.RG32I)),Q===n.RGB_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Ce=n.RGB8UI),ye===n.UNSIGNED_SHORT&&(Ce=n.RGB16UI),ye===n.UNSIGNED_INT&&(Ce=n.RGB32UI),ye===n.BYTE&&(Ce=n.RGB8I),ye===n.SHORT&&(Ce=n.RGB16I),ye===n.INT&&(Ce=n.RGB32I)),Q===n.RGBA_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Ce=n.RGBA8UI),ye===n.UNSIGNED_SHORT&&(Ce=n.RGBA16UI),ye===n.UNSIGNED_INT&&(Ce=n.RGBA32UI),ye===n.BYTE&&(Ce=n.RGBA8I),ye===n.SHORT&&(Ce=n.RGBA16I),ye===n.INT&&(Ce=n.RGBA32I)),Q===n.RGB&&(ye===n.UNSIGNED_INT_5_9_9_9_REV&&(Ce=n.RGB9_E5),ye===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ce=n.R11F_G11F_B10F)),Q===n.RGBA){const mt=ze?R0:_n.getTransfer(Pe);ye===n.FLOAT&&(Ce=n.RGBA32F),ye===n.HALF_FLOAT&&(Ce=n.RGBA16F),ye===n.UNSIGNED_BYTE&&(Ce=mt===Hn?n.SRGB8_ALPHA8:n.RGBA8),ye===n.UNSIGNED_SHORT_4_4_4_4&&(Ce=n.RGBA4),ye===n.UNSIGNED_SHORT_5_5_5_1&&(Ce=n.RGB5_A1)}return(Ce===n.R16F||Ce===n.R32F||Ce===n.RG16F||Ce===n.RG32F||Ce===n.RGBA16F||Ce===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function F(se,Q){let ye;return se?Q===null||Q===rc||Q===jh?ye=n.DEPTH24_STENCIL8:Q===Is?ye=n.DEPTH32F_STENCIL8:Q===qh&&(ye=n.DEPTH24_STENCIL8,ht("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Q===null||Q===rc||Q===jh?ye=n.DEPTH_COMPONENT24:Q===Is?ye=n.DEPTH_COMPONENT32F:Q===qh&&(ye=n.DEPTH_COMPONENT16),ye}function D(se,Q){return T(se)===!0||se.isFramebufferTexture&&se.minFilter!==Aa&&se.minFilter!==Fi?Math.log2(Math.max(Q.width,Q.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?Q.mipmaps.length:1}function U(se){const Q=se.target;Q.removeEventListener("dispose",U),H(Q),Q.isVideoTexture&&g.delete(Q)}function B(se){const Q=se.target;Q.removeEventListener("dispose",B),P(Q)}function H(se){const Q=i.get(se);if(Q.__webglInit===void 0)return;const ye=se.source,Pe=b.get(ye);if(Pe){const ze=Pe[Q.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&I(se),Object.keys(Pe).length===0&&b.delete(ye)}i.remove(se)}function I(se){const Q=i.get(se);n.deleteTexture(Q.__webglTexture);const ye=se.source,Pe=b.get(ye);delete Pe[Q.__cacheKey],l.memory.textures--}function P(se){const Q=i.get(se);if(se.depthTexture&&(se.depthTexture.dispose(),i.remove(se.depthTexture)),se.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++){if(Array.isArray(Q.__webglFramebuffer[Pe]))for(let ze=0;ze<Q.__webglFramebuffer[Pe].length;ze++)n.deleteFramebuffer(Q.__webglFramebuffer[Pe][ze]);else n.deleteFramebuffer(Q.__webglFramebuffer[Pe]);Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[Pe])}else{if(Array.isArray(Q.__webglFramebuffer))for(let Pe=0;Pe<Q.__webglFramebuffer.length;Pe++)n.deleteFramebuffer(Q.__webglFramebuffer[Pe]);else n.deleteFramebuffer(Q.__webglFramebuffer);if(Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let Pe=0;Pe<Q.__webglColorRenderbuffer.length;Pe++)Q.__webglColorRenderbuffer[Pe]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[Pe]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}const ye=se.textures;for(let Pe=0,ze=ye.length;Pe<ze;Pe++){const Ce=i.get(ye[Pe]);Ce.__webglTexture&&(n.deleteTexture(Ce.__webglTexture),l.memory.textures--),i.remove(ye[Pe])}i.remove(se)}let j=0;function Z(){j=0}function W(){const se=j;return se>=a.maxTextures&&ht("WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+a.maxTextures),j+=1,se}function Y(se){const Q=[];return Q.push(se.wrapS),Q.push(se.wrapT),Q.push(se.wrapR||0),Q.push(se.magFilter),Q.push(se.minFilter),Q.push(se.anisotropy),Q.push(se.internalFormat),Q.push(se.format),Q.push(se.type),Q.push(se.generateMipmaps),Q.push(se.premultiplyAlpha),Q.push(se.flipY),Q.push(se.unpackAlignment),Q.push(se.colorSpace),Q.join()}function ne(se,Q){const ye=i.get(se);if(se.isVideoTexture&&Qe(se),se.isRenderTargetTexture===!1&&se.isExternalTexture!==!0&&se.version>0&&ye.__version!==se.version){const Pe=se.image;if(Pe===null)ht("WebGLRenderer: Texture marked for update but no image data found.");else if(Pe.complete===!1)ht("WebGLRenderer: Texture marked for update but image is incomplete");else{oe(ye,se,Q);return}}else se.isExternalTexture&&(ye.__webglTexture=se.sourceTexture?se.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,ye.__webglTexture,n.TEXTURE0+Q)}function k(se,Q){const ye=i.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&ye.__version!==se.version){oe(ye,se,Q);return}else se.isExternalTexture&&(ye.__webglTexture=se.sourceTexture?se.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,ye.__webglTexture,n.TEXTURE0+Q)}function z(se,Q){const ye=i.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&ye.__version!==se.version){oe(ye,se,Q);return}t.bindTexture(n.TEXTURE_3D,ye.__webglTexture,n.TEXTURE0+Q)}function $(se,Q){const ye=i.get(se);if(se.version>0&&ye.__version!==se.version){me(ye,se,Q);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ye.__webglTexture,n.TEXTURE0+Q)}const X={[T0]:n.REPEAT,[Bs]:n.CLAMP_TO_EDGE,[A0]:n.MIRRORED_REPEAT},N={[Aa]:n.NEAREST,[pM]:n.NEAREST_MIPMAP_NEAREST,[zh]:n.NEAREST_MIPMAP_LINEAR,[Fi]:n.LINEAR,[l0]:n.LINEAR_MIPMAP_NEAREST,[ul]:n.LINEAR_MIPMAP_LINEAR},G={[iD]:n.NEVER,[cD]:n.ALWAYS,[aD]:n.LESS,[EM]:n.LEQUAL,[sD]:n.EQUAL,[lD]:n.GEQUAL,[rD]:n.GREATER,[oD]:n.NOTEQUAL};function ae(se,Q){if(Q.type===Is&&e.has("OES_texture_float_linear")===!1&&(Q.magFilter===Fi||Q.magFilter===l0||Q.magFilter===zh||Q.magFilter===ul||Q.minFilter===Fi||Q.minFilter===l0||Q.minFilter===zh||Q.minFilter===ul)&&ht("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(se,n.TEXTURE_WRAP_S,X[Q.wrapS]),n.texParameteri(se,n.TEXTURE_WRAP_T,X[Q.wrapT]),(se===n.TEXTURE_3D||se===n.TEXTURE_2D_ARRAY)&&n.texParameteri(se,n.TEXTURE_WRAP_R,X[Q.wrapR]),n.texParameteri(se,n.TEXTURE_MAG_FILTER,N[Q.magFilter]),n.texParameteri(se,n.TEXTURE_MIN_FILTER,N[Q.minFilter]),Q.compareFunction&&(n.texParameteri(se,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(se,n.TEXTURE_COMPARE_FUNC,G[Q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Q.magFilter===Aa||Q.minFilter!==zh&&Q.minFilter!==ul||Q.type===Is&&e.has("OES_texture_float_linear")===!1)return;if(Q.anisotropy>1||i.get(Q).__currentAnisotropy){const ye=e.get("EXT_texture_filter_anisotropic");n.texParameterf(se,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,a.getMaxAnisotropy())),i.get(Q).__currentAnisotropy=Q.anisotropy}}}function fe(se,Q){let ye=!1;se.__webglInit===void 0&&(se.__webglInit=!0,Q.addEventListener("dispose",U));const Pe=Q.source;let ze=b.get(Pe);ze===void 0&&(ze={},b.set(Pe,ze));const Ce=Y(Q);if(Ce!==se.__cacheKey){ze[Ce]===void 0&&(ze[Ce]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,ye=!0),ze[Ce].usedTimes++;const mt=ze[se.__cacheKey];mt!==void 0&&(ze[se.__cacheKey].usedTimes--,mt.usedTimes===0&&I(Q)),se.__cacheKey=Ce,se.__webglTexture=ze[Ce].texture}return ye}function ce(se,Q,ye){return Math.floor(Math.floor(se/ye)/Q)}function _e(se,Q,ye,Pe){const Ce=se.updateRanges;if(Ce.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,Q.width,Q.height,ye,Pe,Q.data);else{Ce.sort((Ge,Je)=>Ge.start-Je.start);let mt=0;for(let Ge=1;Ge<Ce.length;Ge++){const Je=Ce[mt],wt=Ce[Ge],Ct=Je.start+Je.count,lt=ce(wt.start,Q.width,4),Ut=ce(Je.start,Q.width,4);wt.start<=Ct+1&&lt===Ut&&ce(wt.start+wt.count-1,Q.width,4)===lt?Je.count=Math.max(Je.count,wt.start+wt.count-Je.start):(++mt,Ce[mt]=wt)}Ce.length=mt+1;const ot=n.getParameter(n.UNPACK_ROW_LENGTH),At=n.getParameter(n.UNPACK_SKIP_PIXELS),St=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Q.width);for(let Ge=0,Je=Ce.length;Ge<Je;Ge++){const wt=Ce[Ge],Ct=Math.floor(wt.start/4),lt=Math.ceil(wt.count/4),Ut=Ct%Q.width,de=Math.floor(Ct/Q.width),ct=lt,it=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ut),n.pixelStorei(n.UNPACK_SKIP_ROWS,de),t.texSubImage2D(n.TEXTURE_2D,0,Ut,de,ct,it,ye,Pe,Q.data)}se.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,ot),n.pixelStorei(n.UNPACK_SKIP_PIXELS,At),n.pixelStorei(n.UNPACK_SKIP_ROWS,St)}}function oe(se,Q,ye){let Pe=n.TEXTURE_2D;(Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(Pe=n.TEXTURE_2D_ARRAY),Q.isData3DTexture&&(Pe=n.TEXTURE_3D);const ze=fe(se,Q),Ce=Q.source;t.bindTexture(Pe,se.__webglTexture,n.TEXTURE0+ye);const mt=i.get(Ce);if(Ce.version!==mt.__version||ze===!0){t.activeTexture(n.TEXTURE0+ye);const ot=_n.getPrimaries(_n.workingColorSpace),At=Q.colorSpace===Ql?null:_n.getPrimaries(Q.colorSpace),St=Q.colorSpace===Ql||ot===At?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let Ge=A(Q.image,!1,a.maxTextureSize);Ge=Ze(Q,Ge);const Je=r.convert(Q.format,Q.colorSpace),wt=r.convert(Q.type);let Ct=O(Q.internalFormat,Je,wt,Q.colorSpace,Q.isVideoTexture);ae(Pe,Q);let lt;const Ut=Q.mipmaps,de=Q.isVideoTexture!==!0,ct=mt.__version===void 0||ze===!0,it=Ce.dataReady,at=D(Q,Ge);if(Q.isDepthTexture)Ct=F(Q.format===Wh,Q.type),ct&&(de?t.texStorage2D(n.TEXTURE_2D,1,Ct,Ge.width,Ge.height):t.texImage2D(n.TEXTURE_2D,0,Ct,Ge.width,Ge.height,0,Je,wt,null));else if(Q.isDataTexture)if(Ut.length>0){de&&ct&&t.texStorage2D(n.TEXTURE_2D,at,Ct,Ut[0].width,Ut[0].height);for(let Ke=0,qe=Ut.length;Ke<qe;Ke++)lt=Ut[Ke],de?it&&t.texSubImage2D(n.TEXTURE_2D,Ke,0,0,lt.width,lt.height,Je,wt,lt.data):t.texImage2D(n.TEXTURE_2D,Ke,Ct,lt.width,lt.height,0,Je,wt,lt.data);Q.generateMipmaps=!1}else de?(ct&&t.texStorage2D(n.TEXTURE_2D,at,Ct,Ge.width,Ge.height),it&&_e(Q,Ge,Je,wt)):t.texImage2D(n.TEXTURE_2D,0,Ct,Ge.width,Ge.height,0,Je,wt,Ge.data);else if(Q.isCompressedTexture)if(Q.isCompressedArrayTexture){de&&ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,at,Ct,Ut[0].width,Ut[0].height,Ge.depth);for(let Ke=0,qe=Ut.length;Ke<qe;Ke++)if(lt=Ut[Ke],Q.format!==qa)if(Je!==null)if(de){if(it)if(Q.layerUpdates.size>0){const _t=hE(lt.width,lt.height,Q.format,Q.type);for(const zt of Q.layerUpdates){const vn=lt.data.subarray(zt*_t/lt.data.BYTES_PER_ELEMENT,(zt+1)*_t/lt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,zt,lt.width,lt.height,1,Je,vn)}Q.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,0,lt.width,lt.height,Ge.depth,Je,lt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ke,Ct,lt.width,lt.height,Ge.depth,0,lt.data,0,0);else ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else de?it&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,0,lt.width,lt.height,Ge.depth,Je,wt,lt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ke,Ct,lt.width,lt.height,Ge.depth,0,Je,wt,lt.data)}else{de&&ct&&t.texStorage2D(n.TEXTURE_2D,at,Ct,Ut[0].width,Ut[0].height);for(let Ke=0,qe=Ut.length;Ke<qe;Ke++)lt=Ut[Ke],Q.format!==qa?Je!==null?de?it&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ke,0,0,lt.width,lt.height,Je,lt.data):t.compressedTexImage2D(n.TEXTURE_2D,Ke,Ct,lt.width,lt.height,0,lt.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):de?it&&t.texSubImage2D(n.TEXTURE_2D,Ke,0,0,lt.width,lt.height,Je,wt,lt.data):t.texImage2D(n.TEXTURE_2D,Ke,Ct,lt.width,lt.height,0,Je,wt,lt.data)}else if(Q.isDataArrayTexture)if(de){if(ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,at,Ct,Ge.width,Ge.height,Ge.depth),it)if(Q.layerUpdates.size>0){const Ke=hE(Ge.width,Ge.height,Q.format,Q.type);for(const qe of Q.layerUpdates){const _t=Ge.data.subarray(qe*Ke/Ge.data.BYTES_PER_ELEMENT,(qe+1)*Ke/Ge.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,qe,Ge.width,Ge.height,1,Je,wt,_t)}Q.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ge.width,Ge.height,Ge.depth,Je,wt,Ge.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ct,Ge.width,Ge.height,Ge.depth,0,Je,wt,Ge.data);else if(Q.isData3DTexture)de?(ct&&t.texStorage3D(n.TEXTURE_3D,at,Ct,Ge.width,Ge.height,Ge.depth),it&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ge.width,Ge.height,Ge.depth,Je,wt,Ge.data)):t.texImage3D(n.TEXTURE_3D,0,Ct,Ge.width,Ge.height,Ge.depth,0,Je,wt,Ge.data);else if(Q.isFramebufferTexture){if(ct)if(de)t.texStorage2D(n.TEXTURE_2D,at,Ct,Ge.width,Ge.height);else{let Ke=Ge.width,qe=Ge.height;for(let _t=0;_t<at;_t++)t.texImage2D(n.TEXTURE_2D,_t,Ct,Ke,qe,0,Je,wt,null),Ke>>=1,qe>>=1}}else if(Ut.length>0){if(de&&ct){const Ke=ut(Ut[0]);t.texStorage2D(n.TEXTURE_2D,at,Ct,Ke.width,Ke.height)}for(let Ke=0,qe=Ut.length;Ke<qe;Ke++)lt=Ut[Ke],de?it&&t.texSubImage2D(n.TEXTURE_2D,Ke,0,0,Je,wt,lt):t.texImage2D(n.TEXTURE_2D,Ke,Ct,Je,wt,lt);Q.generateMipmaps=!1}else if(de){if(ct){const Ke=ut(Ge);t.texStorage2D(n.TEXTURE_2D,at,Ct,Ke.width,Ke.height)}it&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Je,wt,Ge)}else t.texImage2D(n.TEXTURE_2D,0,Ct,Je,wt,Ge);T(Q)&&_(Pe),mt.__version=Ce.version,Q.onUpdate&&Q.onUpdate(Q)}se.__version=Q.version}function me(se,Q,ye){if(Q.image.length!==6)return;const Pe=fe(se,Q),ze=Q.source;t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture,n.TEXTURE0+ye);const Ce=i.get(ze);if(ze.version!==Ce.__version||Pe===!0){t.activeTexture(n.TEXTURE0+ye);const mt=_n.getPrimaries(_n.workingColorSpace),ot=Q.colorSpace===Ql?null:_n.getPrimaries(Q.colorSpace),At=Q.colorSpace===Ql||mt===ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,At);const St=Q.isCompressedTexture||Q.image[0].isCompressedTexture,Ge=Q.image[0]&&Q.image[0].isDataTexture,Je=[];for(let qe=0;qe<6;qe++)!St&&!Ge?Je[qe]=A(Q.image[qe],!0,a.maxCubemapSize):Je[qe]=Ge?Q.image[qe].image:Q.image[qe],Je[qe]=Ze(Q,Je[qe]);const wt=Je[0],Ct=r.convert(Q.format,Q.colorSpace),lt=r.convert(Q.type),Ut=O(Q.internalFormat,Ct,lt,Q.colorSpace),de=Q.isVideoTexture!==!0,ct=Ce.__version===void 0||Pe===!0,it=ze.dataReady;let at=D(Q,wt);ae(n.TEXTURE_CUBE_MAP,Q);let Ke;if(St){de&&ct&&t.texStorage2D(n.TEXTURE_CUBE_MAP,at,Ut,wt.width,wt.height);for(let qe=0;qe<6;qe++){Ke=Je[qe].mipmaps;for(let _t=0;_t<Ke.length;_t++){const zt=Ke[_t];Q.format!==qa?Ct!==null?de?it&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t,0,0,zt.width,zt.height,Ct,zt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t,Ut,zt.width,zt.height,0,zt.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):de?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t,0,0,zt.width,zt.height,Ct,lt,zt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t,Ut,zt.width,zt.height,0,Ct,lt,zt.data)}}}else{if(Ke=Q.mipmaps,de&&ct){Ke.length>0&&at++;const qe=ut(Je[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,at,Ut,qe.width,qe.height)}for(let qe=0;qe<6;qe++)if(Ge){de?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,Je[qe].width,Je[qe].height,Ct,lt,Je[qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Ut,Je[qe].width,Je[qe].height,0,Ct,lt,Je[qe].data);for(let _t=0;_t<Ke.length;_t++){const vn=Ke[_t].image[qe].image;de?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t+1,0,0,vn.width,vn.height,Ct,lt,vn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t+1,Ut,vn.width,vn.height,0,Ct,lt,vn.data)}}else{de?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,Ct,lt,Je[qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Ut,Ct,lt,Je[qe]);for(let _t=0;_t<Ke.length;_t++){const zt=Ke[_t];de?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t+1,0,0,Ct,lt,zt.image[qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,_t+1,Ut,Ct,lt,zt.image[qe])}}}T(Q)&&_(n.TEXTURE_CUBE_MAP),Ce.__version=ze.version,Q.onUpdate&&Q.onUpdate(Q)}se.__version=Q.version}function Oe(se,Q,ye,Pe,ze,Ce){const mt=r.convert(ye.format,ye.colorSpace),ot=r.convert(ye.type),At=O(ye.internalFormat,mt,ot,ye.colorSpace),St=i.get(Q),Ge=i.get(ye);if(Ge.__renderTarget=Q,!St.__hasExternalTextures){const Je=Math.max(1,Q.width>>Ce),wt=Math.max(1,Q.height>>Ce);ze===n.TEXTURE_3D||ze===n.TEXTURE_2D_ARRAY?t.texImage3D(ze,Ce,At,Je,wt,Q.depth,0,mt,ot,null):t.texImage2D(ze,Ce,At,Je,wt,0,mt,ot,null)}t.bindFramebuffer(n.FRAMEBUFFER,se),He(Q)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Pe,ze,Ge.__webglTexture,0,Xe(Q)):(ze===n.TEXTURE_2D||ze>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ze<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Pe,ze,Ge.__webglTexture,Ce),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ye(se,Q,ye){if(n.bindRenderbuffer(n.RENDERBUFFER,se),Q.depthBuffer){const Pe=Q.depthTexture,ze=Pe&&Pe.isDepthTexture?Pe.type:null,Ce=F(Q.stencilBuffer,ze),mt=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ot=Xe(Q);He(Q)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ot,Ce,Q.width,Q.height):ye?n.renderbufferStorageMultisample(n.RENDERBUFFER,ot,Ce,Q.width,Q.height):n.renderbufferStorage(n.RENDERBUFFER,Ce,Q.width,Q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,mt,n.RENDERBUFFER,se)}else{const Pe=Q.textures;for(let ze=0;ze<Pe.length;ze++){const Ce=Pe[ze],mt=r.convert(Ce.format,Ce.colorSpace),ot=r.convert(Ce.type),At=O(Ce.internalFormat,mt,ot,Ce.colorSpace),St=Xe(Q);ye&&He(Q)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,St,At,Q.width,Q.height):He(Q)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,St,At,Q.width,Q.height):n.renderbufferStorage(n.RENDERBUFFER,At,Q.width,Q.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ie(se,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,se),!(Q.depthTexture&&Q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Pe=i.get(Q.depthTexture);Pe.__renderTarget=Q,(!Pe.__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),ne(Q.depthTexture,0);const ze=Pe.__webglTexture,Ce=Xe(Q);if(Q.depthTexture.format===Xh)He(Q)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ze,0,Ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ze,0);else if(Q.depthTexture.format===Wh)He(Q)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ze,0,Ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ze,0);else throw new Error("Unknown depthTexture format")}function rt(se){const Q=i.get(se),ye=se.isWebGLCubeRenderTarget===!0;if(Q.__boundDepthTexture!==se.depthTexture){const Pe=se.depthTexture;if(Q.__depthDisposeCallback&&Q.__depthDisposeCallback(),Pe){const ze=()=>{delete Q.__boundDepthTexture,delete Q.__depthDisposeCallback,Pe.removeEventListener("dispose",ze)};Pe.addEventListener("dispose",ze),Q.__depthDisposeCallback=ze}Q.__boundDepthTexture=Pe}if(se.depthTexture&&!Q.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");const Pe=se.texture.mipmaps;Pe&&Pe.length>0?Ie(Q.__webglFramebuffer[0],se):Ie(Q.__webglFramebuffer,se)}else if(ye){Q.__webglDepthbuffer=[];for(let Pe=0;Pe<6;Pe++)if(t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglFramebuffer[Pe]),Q.__webglDepthbuffer[Pe]===void 0)Q.__webglDepthbuffer[Pe]=n.createRenderbuffer(),Ye(Q.__webglDepthbuffer[Pe],se,!1);else{const ze=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ce=Q.__webglDepthbuffer[Pe];n.bindRenderbuffer(n.RENDERBUFFER,Ce),n.framebufferRenderbuffer(n.FRAMEBUFFER,ze,n.RENDERBUFFER,Ce)}}else{const Pe=se.texture.mipmaps;if(Pe&&Pe.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglFramebuffer),Q.__webglDepthbuffer===void 0)Q.__webglDepthbuffer=n.createRenderbuffer(),Ye(Q.__webglDepthbuffer,se,!1);else{const ze=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ce=Q.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ce),n.framebufferRenderbuffer(n.FRAMEBUFFER,ze,n.RENDERBUFFER,Ce)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function yt(se,Q,ye){const Pe=i.get(se);Q!==void 0&&Oe(Pe.__webglFramebuffer,se,se.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ye!==void 0&&rt(se)}function tt(se){const Q=se.texture,ye=i.get(se),Pe=i.get(Q);se.addEventListener("dispose",B);const ze=se.textures,Ce=se.isWebGLCubeRenderTarget===!0,mt=ze.length>1;if(mt||(Pe.__webglTexture===void 0&&(Pe.__webglTexture=n.createTexture()),Pe.__version=Q.version,l.memory.textures++),Ce){ye.__webglFramebuffer=[];for(let ot=0;ot<6;ot++)if(Q.mipmaps&&Q.mipmaps.length>0){ye.__webglFramebuffer[ot]=[];for(let At=0;At<Q.mipmaps.length;At++)ye.__webglFramebuffer[ot][At]=n.createFramebuffer()}else ye.__webglFramebuffer[ot]=n.createFramebuffer()}else{if(Q.mipmaps&&Q.mipmaps.length>0){ye.__webglFramebuffer=[];for(let ot=0;ot<Q.mipmaps.length;ot++)ye.__webglFramebuffer[ot]=n.createFramebuffer()}else ye.__webglFramebuffer=n.createFramebuffer();if(mt)for(let ot=0,At=ze.length;ot<At;ot++){const St=i.get(ze[ot]);St.__webglTexture===void 0&&(St.__webglTexture=n.createTexture(),l.memory.textures++)}if(se.samples>0&&He(se)===!1){ye.__webglMultisampledFramebuffer=n.createFramebuffer(),ye.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let ot=0;ot<ze.length;ot++){const At=ze[ot];ye.__webglColorRenderbuffer[ot]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ye.__webglColorRenderbuffer[ot]);const St=r.convert(At.format,At.colorSpace),Ge=r.convert(At.type),Je=O(At.internalFormat,St,Ge,At.colorSpace,se.isXRRenderTarget===!0),wt=Xe(se);n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,Je,se.width,se.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,ye.__webglColorRenderbuffer[ot])}n.bindRenderbuffer(n.RENDERBUFFER,null),se.depthBuffer&&(ye.__webglDepthRenderbuffer=n.createRenderbuffer(),Ye(ye.__webglDepthRenderbuffer,se,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ce){t.bindTexture(n.TEXTURE_CUBE_MAP,Pe.__webglTexture),ae(n.TEXTURE_CUBE_MAP,Q);for(let ot=0;ot<6;ot++)if(Q.mipmaps&&Q.mipmaps.length>0)for(let At=0;At<Q.mipmaps.length;At++)Oe(ye.__webglFramebuffer[ot][At],se,Q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,At);else Oe(ye.__webglFramebuffer[ot],se,Q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0);T(Q)&&_(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(mt){for(let ot=0,At=ze.length;ot<At;ot++){const St=ze[ot],Ge=i.get(St);let Je=n.TEXTURE_2D;(se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(Je=se.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Je,Ge.__webglTexture),ae(Je,St),Oe(ye.__webglFramebuffer,se,St,n.COLOR_ATTACHMENT0+ot,Je,0),T(St)&&_(Je)}t.unbindTexture()}else{let ot=n.TEXTURE_2D;if((se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(ot=se.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ot,Pe.__webglTexture),ae(ot,Q),Q.mipmaps&&Q.mipmaps.length>0)for(let At=0;At<Q.mipmaps.length;At++)Oe(ye.__webglFramebuffer[At],se,Q,n.COLOR_ATTACHMENT0,ot,At);else Oe(ye.__webglFramebuffer,se,Q,n.COLOR_ATTACHMENT0,ot,0);T(Q)&&_(ot),t.unbindTexture()}se.depthBuffer&&rt(se)}function Ae(se){const Q=se.textures;for(let ye=0,Pe=Q.length;ye<Pe;ye++){const ze=Q[ye];if(T(ze)){const Ce=L(se),mt=i.get(ze).__webglTexture;t.bindTexture(Ce,mt),_(Ce),t.unbindTexture()}}}const ie=[],Be=[];function Te(se){if(se.samples>0){if(He(se)===!1){const Q=se.textures,ye=se.width,Pe=se.height;let ze=n.COLOR_BUFFER_BIT;const Ce=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,mt=i.get(se),ot=Q.length>1;if(ot)for(let St=0;St<Q.length;St++)t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer);const At=se.texture.mipmaps;At&&At.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let St=0;St<Q.length;St++){if(se.resolveDepthBuffer&&(se.depthBuffer&&(ze|=n.DEPTH_BUFFER_BIT),se.stencilBuffer&&se.resolveStencilBuffer&&(ze|=n.STENCIL_BUFFER_BIT)),ot){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,mt.__webglColorRenderbuffer[St]);const Ge=i.get(Q[St]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ge,0)}n.blitFramebuffer(0,0,ye,Pe,0,0,ye,Pe,ze,n.NEAREST),h===!0&&(ie.length=0,Be.length=0,ie.push(n.COLOR_ATTACHMENT0+St),se.depthBuffer&&se.resolveDepthBuffer===!1&&(ie.push(Ce),Be.push(Ce),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Be)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ie))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ot)for(let St=0;St<Q.length;St++){t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,mt.__webglColorRenderbuffer[St]);const Ge=i.get(Q[St]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,Ge,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(se.depthBuffer&&se.resolveDepthBuffer===!1&&h){const Q=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Q])}}}function Xe(se){return Math.min(a.maxSamples,se.samples)}function He(se){const Q=i.get(se);return se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Q.__useRenderToTexture!==!1}function Qe(se){const Q=l.render.frame;g.get(se)!==Q&&(g.set(se,Q),se.update())}function Ze(se,Q){const ye=se.colorSpace,Pe=se.format,ze=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||ye!==bu&&ye!==Ql&&(_n.getTransfer(ye)===Hn?(Pe!==qa||ze!==Pr)&&ht("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Wt("WebGLTextures: Unsupported texture color space:",ye)),Q}function ut(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(m.width=se.naturalWidth||se.width,m.height=se.naturalHeight||se.height):typeof VideoFrame<"u"&&se instanceof VideoFrame?(m.width=se.displayWidth,m.height=se.displayHeight):(m.width=se.width,m.height=se.height),m}this.allocateTextureUnit=W,this.resetTextureUnits=Z,this.setTexture2D=ne,this.setTexture2DArray=k,this.setTexture3D=z,this.setTextureCube=$,this.rebindTextures=yt,this.setupRenderTarget=tt,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=Te,this.setupDepthRenderbuffer=rt,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=He}function bO(n,e){function t(i,a=Ql){let r;const l=_n.getTransfer(a);if(i===Pr)return n.UNSIGNED_BYTE;if(i===xb)return n.UNSIGNED_SHORT_4_4_4_4;if(i===vb)return n.UNSIGNED_SHORT_5_5_5_1;if(i===vM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===yM)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===gM)return n.BYTE;if(i===xM)return n.SHORT;if(i===qh)return n.UNSIGNED_SHORT;if(i===gb)return n.INT;if(i===rc)return n.UNSIGNED_INT;if(i===Is)return n.FLOAT;if(i===nd)return n.HALF_FLOAT;if(i===bM)return n.ALPHA;if(i===_M)return n.RGB;if(i===qa)return n.RGBA;if(i===Xh)return n.DEPTH_COMPONENT;if(i===Wh)return n.DEPTH_STENCIL;if(i===yb)return n.RED;if(i===eg)return n.RED_INTEGER;if(i===bb)return n.RG;if(i===_b)return n.RG_INTEGER;if(i===Sb)return n.RGBA_INTEGER;if(i===c0||i===u0||i===f0||i===d0)if(l===Hn)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===c0)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===u0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===f0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===d0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===c0)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===u0)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===f0)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===d0)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===py||i===gy||i===xy||i===vy)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===py)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===gy)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===xy)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===vy)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===yy||i===by||i===_y)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===yy||i===by)return l===Hn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===_y)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Sy||i===Ey||i===My||i===wy||i===Ty||i===Ay||i===Cy||i===Ny||i===Ry||i===Dy||i===Oy||i===Ly||i===Uy||i===Py)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Sy)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Ey)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===My)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===wy)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Ty)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Ay)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Cy)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Ny)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Ry)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Dy)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Oy)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Ly)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Uy)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Py)return l===Hn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===zy||i===By||i===Iy)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===zy)return l===Hn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===By)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Iy)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Fy||i===Vy||i===Hy||i===ky)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===Fy)return r.COMPRESSED_RED_RGTC1_EXT;if(i===Vy)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Hy)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===ky)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===jh?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Fq=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Vq=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Hq{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new LM(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new zr({vertexShader:Fq,fragmentShader:Vq,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ra(new pm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class kq extends vl{constructor(e,t){super();const i=this;let a=null,r=1,l=null,u="local-floor",h=1,m=null,g=null,v=null,b=null,S=null,M=null;const A=typeof XRWebGLBinding<"u",T=new Hq,_={},L=t.getContextAttributes();let O=null,F=null;const D=[],U=[],B=new We;let H=null;const I=new pa;I.viewport=new Tn;const P=new pa;P.viewport=new Tn;const j=[I,P],Z=new cO;let W=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let me=D[oe];return me===void 0&&(me=new Kv,D[oe]=me),me.getTargetRaySpace()},this.getControllerGrip=function(oe){let me=D[oe];return me===void 0&&(me=new Kv,D[oe]=me),me.getGripSpace()},this.getHand=function(oe){let me=D[oe];return me===void 0&&(me=new Kv,D[oe]=me),me.getHandSpace()};function ne(oe){const me=U.indexOf(oe.inputSource);if(me===-1)return;const Oe=D[me];Oe!==void 0&&(Oe.update(oe.inputSource,oe.frame,m||l),Oe.dispatchEvent({type:oe.type,data:oe.inputSource}))}function k(){a.removeEventListener("select",ne),a.removeEventListener("selectstart",ne),a.removeEventListener("selectend",ne),a.removeEventListener("squeeze",ne),a.removeEventListener("squeezestart",ne),a.removeEventListener("squeezeend",ne),a.removeEventListener("end",k),a.removeEventListener("inputsourceschange",z);for(let oe=0;oe<D.length;oe++){const me=U[oe];me!==null&&(U[oe]=null,D[oe].disconnect(me))}W=null,Y=null,T.reset();for(const oe in _)delete _[oe];e.setRenderTarget(O),S=null,b=null,v=null,a=null,F=null,_e.stop(),i.isPresenting=!1,e.setPixelRatio(H),e.setSize(B.width,B.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){r=oe,i.isPresenting===!0&&ht("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){u=oe,i.isPresenting===!0&&ht("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return m||l},this.setReferenceSpace=function(oe){m=oe},this.getBaseLayer=function(){return b!==null?b:S},this.getBinding=function(){return v===null&&A&&(v=new XRWebGLBinding(a,t)),v},this.getFrame=function(){return M},this.getSession=function(){return a},this.setSession=async function(oe){if(a=oe,a!==null){if(O=e.getRenderTarget(),a.addEventListener("select",ne),a.addEventListener("selectstart",ne),a.addEventListener("selectend",ne),a.addEventListener("squeeze",ne),a.addEventListener("squeezestart",ne),a.addEventListener("squeezeend",ne),a.addEventListener("end",k),a.addEventListener("inputsourceschange",z),L.xrCompatible!==!0&&await t.makeXRCompatible(),H=e.getPixelRatio(),e.getSize(B),A&&"createProjectionLayer"in XRWebGLBinding.prototype){let Oe=null,Ye=null,Ie=null;L.depth&&(Ie=L.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Oe=L.stencil?Wh:Xh,Ye=L.stencil?jh:rc);const rt={colorFormat:t.RGBA8,depthFormat:Ie,scaleFactor:r};v=this.getBinding(),b=v.createProjectionLayer(rt),a.updateRenderState({layers:[b]}),e.setPixelRatio(1),e.setSize(b.textureWidth,b.textureHeight,!1),F=new xl(b.textureWidth,b.textureHeight,{format:qa,type:Pr,depthTexture:new OM(b.textureWidth,b.textureHeight,Ye,void 0,void 0,void 0,void 0,void 0,void 0,Oe),stencilBuffer:L.stencil,colorSpace:e.outputColorSpace,samples:L.antialias?4:0,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}else{const Oe={antialias:L.antialias,alpha:!0,depth:L.depth,stencil:L.stencil,framebufferScaleFactor:r};S=new XRWebGLLayer(a,t,Oe),a.updateRenderState({baseLayer:S}),e.setPixelRatio(1),e.setSize(S.framebufferWidth,S.framebufferHeight,!1),F=new xl(S.framebufferWidth,S.framebufferHeight,{format:qa,type:Pr,colorSpace:e.outputColorSpace,stencilBuffer:L.stencil,resolveDepthBuffer:S.ignoreDepthValues===!1,resolveStencilBuffer:S.ignoreDepthValues===!1})}F.isXRRenderTarget=!0,this.setFoveation(h),m=null,l=await a.requestReferenceSpace(u),_e.setContext(a),_e.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function z(oe){for(let me=0;me<oe.removed.length;me++){const Oe=oe.removed[me],Ye=U.indexOf(Oe);Ye>=0&&(U[Ye]=null,D[Ye].disconnect(Oe))}for(let me=0;me<oe.added.length;me++){const Oe=oe.added[me];let Ye=U.indexOf(Oe);if(Ye===-1){for(let rt=0;rt<D.length;rt++)if(rt>=U.length){U.push(Oe),Ye=rt;break}else if(U[rt]===null){U[rt]=Oe,Ye=rt;break}if(Ye===-1)break}const Ie=D[Ye];Ie&&Ie.connect(Oe)}}const $=new re,X=new re;function N(oe,me,Oe){$.setFromMatrixPosition(me.matrixWorld),X.setFromMatrixPosition(Oe.matrixWorld);const Ye=$.distanceTo(X),Ie=me.projectionMatrix.elements,rt=Oe.projectionMatrix.elements,yt=Ie[14]/(Ie[10]-1),tt=Ie[14]/(Ie[10]+1),Ae=(Ie[9]+1)/Ie[5],ie=(Ie[9]-1)/Ie[5],Be=(Ie[8]-1)/Ie[0],Te=(rt[8]+1)/rt[0],Xe=yt*Be,He=yt*Te,Qe=Ye/(-Be+Te),Ze=Qe*-Be;if(me.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(Ze),oe.translateZ(Qe),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert(),Ie[10]===-1)oe.projectionMatrix.copy(me.projectionMatrix),oe.projectionMatrixInverse.copy(me.projectionMatrixInverse);else{const ut=yt+Qe,se=tt+Qe,Q=Xe-Ze,ye=He+(Ye-Ze),Pe=Ae*tt/se*ut,ze=ie*tt/se*ut;oe.projectionMatrix.makePerspective(Q,ye,Pe,ze,ut,se),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}}function G(oe,me){me===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(me.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(a===null)return;let me=oe.near,Oe=oe.far;T.texture!==null&&(T.depthNear>0&&(me=T.depthNear),T.depthFar>0&&(Oe=T.depthFar)),Z.near=P.near=I.near=me,Z.far=P.far=I.far=Oe,(W!==Z.near||Y!==Z.far)&&(a.updateRenderState({depthNear:Z.near,depthFar:Z.far}),W=Z.near,Y=Z.far),Z.layers.mask=oe.layers.mask|6,I.layers.mask=Z.layers.mask&3,P.layers.mask=Z.layers.mask&5;const Ye=oe.parent,Ie=Z.cameras;G(Z,Ye);for(let rt=0;rt<Ie.length;rt++)G(Ie[rt],Ye);Ie.length===2?N(Z,I,P):Z.projectionMatrix.copy(I.projectionMatrix),ae(oe,Z,Ye)};function ae(oe,me,Oe){Oe===null?oe.matrix.copy(me.matrixWorld):(oe.matrix.copy(Oe.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(me.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0),oe.projectionMatrix.copy(me.projectionMatrix),oe.projectionMatrixInverse.copy(me.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=Kh*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return Z},this.getFoveation=function(){if(!(b===null&&S===null))return h},this.setFoveation=function(oe){h=oe,b!==null&&(b.fixedFoveation=oe),S!==null&&S.fixedFoveation!==void 0&&(S.fixedFoveation=oe)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(Z)},this.getCameraTexture=function(oe){return _[oe]};let fe=null;function ce(oe,me){if(g=me.getViewerPose(m||l),M=me,g!==null){const Oe=g.views;S!==null&&(e.setRenderTargetFramebuffer(F,S.framebuffer),e.setRenderTarget(F));let Ye=!1;Oe.length!==Z.cameras.length&&(Z.cameras.length=0,Ye=!0);for(let tt=0;tt<Oe.length;tt++){const Ae=Oe[tt];let ie=null;if(S!==null)ie=S.getViewport(Ae);else{const Te=v.getViewSubImage(b,Ae);ie=Te.viewport,tt===0&&(e.setRenderTargetTextures(F,Te.colorTexture,Te.depthStencilTexture),e.setRenderTarget(F))}let Be=j[tt];Be===void 0&&(Be=new pa,Be.layers.enable(tt),Be.viewport=new Tn,j[tt]=Be),Be.matrix.fromArray(Ae.transform.matrix),Be.matrix.decompose(Be.position,Be.quaternion,Be.scale),Be.projectionMatrix.fromArray(Ae.projectionMatrix),Be.projectionMatrixInverse.copy(Be.projectionMatrix).invert(),Be.viewport.set(ie.x,ie.y,ie.width,ie.height),tt===0&&(Z.matrix.copy(Be.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale)),Ye===!0&&Z.cameras.push(Be)}const Ie=a.enabledFeatures;if(Ie&&Ie.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&A){v=i.getBinding();const tt=v.getDepthInformation(Oe[0]);tt&&tt.isValid&&tt.texture&&T.init(tt,a.renderState)}if(Ie&&Ie.includes("camera-access")&&A){e.state.unbindTexture(),v=i.getBinding();for(let tt=0;tt<Oe.length;tt++){const Ae=Oe[tt].camera;if(Ae){let ie=_[Ae];ie||(ie=new LM,_[Ae]=ie);const Be=v.getCameraImage(Ae);ie.sourceTexture=Be}}}}for(let Oe=0;Oe<D.length;Oe++){const Ye=U[Oe],Ie=D[Oe];Ye!==null&&Ie!==void 0&&Ie.update(Ye,me,m||l)}fe&&fe(oe,me),me.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:me}),M=null}const _e=new pO;_e.setAnimationLoop(ce),this.setAnimationLoop=function(oe){fe=oe},this.dispose=function(){}}}const Lf=new ur,Gq=new Xt;function qq(n,e){function t(T,_){T.matrixAutoUpdate===!0&&T.updateMatrix(),_.value.copy(T.matrix)}function i(T,_){_.color.getRGB(T.fogColor.value,mD(n)),_.isFog?(T.fogNear.value=_.near,T.fogFar.value=_.far):_.isFogExp2&&(T.fogDensity.value=_.density)}function a(T,_,L,O,F){_.isMeshBasicMaterial||_.isMeshLambertMaterial?r(T,_):_.isMeshToonMaterial?(r(T,_),v(T,_)):_.isMeshPhongMaterial?(r(T,_),g(T,_)):_.isMeshStandardMaterial?(r(T,_),b(T,_),_.isMeshPhysicalMaterial&&S(T,_,F)):_.isMeshMatcapMaterial?(r(T,_),M(T,_)):_.isMeshDepthMaterial?r(T,_):_.isMeshDistanceMaterial?(r(T,_),A(T,_)):_.isMeshNormalMaterial?r(T,_):_.isLineBasicMaterial?(l(T,_),_.isLineDashedMaterial&&u(T,_)):_.isPointsMaterial?h(T,_,L,O):_.isSpriteMaterial?m(T,_):_.isShadowMaterial?(T.color.value.copy(_.color),T.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function r(T,_){T.opacity.value=_.opacity,_.color&&T.diffuse.value.copy(_.color),_.emissive&&T.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(T.map.value=_.map,t(_.map,T.mapTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,t(_.alphaMap,T.alphaMapTransform)),_.bumpMap&&(T.bumpMap.value=_.bumpMap,t(_.bumpMap,T.bumpMapTransform),T.bumpScale.value=_.bumpScale,_.side===xs&&(T.bumpScale.value*=-1)),_.normalMap&&(T.normalMap.value=_.normalMap,t(_.normalMap,T.normalMapTransform),T.normalScale.value.copy(_.normalScale),_.side===xs&&T.normalScale.value.negate()),_.displacementMap&&(T.displacementMap.value=_.displacementMap,t(_.displacementMap,T.displacementMapTransform),T.displacementScale.value=_.displacementScale,T.displacementBias.value=_.displacementBias),_.emissiveMap&&(T.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,T.emissiveMapTransform)),_.specularMap&&(T.specularMap.value=_.specularMap,t(_.specularMap,T.specularMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest);const L=e.get(_),O=L.envMap,F=L.envMapRotation;O&&(T.envMap.value=O,Lf.copy(F),Lf.x*=-1,Lf.y*=-1,Lf.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Lf.y*=-1,Lf.z*=-1),T.envMapRotation.value.setFromMatrix4(Gq.makeRotationFromEuler(Lf)),T.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=_.reflectivity,T.ior.value=_.ior,T.refractionRatio.value=_.refractionRatio),_.lightMap&&(T.lightMap.value=_.lightMap,T.lightMapIntensity.value=_.lightMapIntensity,t(_.lightMap,T.lightMapTransform)),_.aoMap&&(T.aoMap.value=_.aoMap,T.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,T.aoMapTransform))}function l(T,_){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,_.map&&(T.map.value=_.map,t(_.map,T.mapTransform))}function u(T,_){T.dashSize.value=_.dashSize,T.totalSize.value=_.dashSize+_.gapSize,T.scale.value=_.scale}function h(T,_,L,O){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,T.size.value=_.size*L,T.scale.value=O*.5,_.map&&(T.map.value=_.map,t(_.map,T.uvTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,t(_.alphaMap,T.alphaMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest)}function m(T,_){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,T.rotation.value=_.rotation,_.map&&(T.map.value=_.map,t(_.map,T.mapTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,t(_.alphaMap,T.alphaMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest)}function g(T,_){T.specular.value.copy(_.specular),T.shininess.value=Math.max(_.shininess,1e-4)}function v(T,_){_.gradientMap&&(T.gradientMap.value=_.gradientMap)}function b(T,_){T.metalness.value=_.metalness,_.metalnessMap&&(T.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,T.metalnessMapTransform)),T.roughness.value=_.roughness,_.roughnessMap&&(T.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,T.roughnessMapTransform)),_.envMap&&(T.envMapIntensity.value=_.envMapIntensity)}function S(T,_,L){T.ior.value=_.ior,_.sheen>0&&(T.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),T.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(T.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,T.sheenColorMapTransform)),_.sheenRoughnessMap&&(T.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,T.sheenRoughnessMapTransform))),_.clearcoat>0&&(T.clearcoat.value=_.clearcoat,T.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(T.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,T.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(T.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===xs&&T.clearcoatNormalScale.value.negate())),_.dispersion>0&&(T.dispersion.value=_.dispersion),_.iridescence>0&&(T.iridescence.value=_.iridescence,T.iridescenceIOR.value=_.iridescenceIOR,T.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(T.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,T.iridescenceMapTransform)),_.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),_.transmission>0&&(T.transmission.value=_.transmission,T.transmissionSamplerMap.value=L.texture,T.transmissionSamplerSize.value.set(L.width,L.height),_.transmissionMap&&(T.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,T.transmissionMapTransform)),T.thickness.value=_.thickness,_.thicknessMap&&(T.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=_.attenuationDistance,T.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(T.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(T.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=_.specularIntensity,T.specularColor.value.copy(_.specularColor),_.specularColorMap&&(T.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,T.specularColorMapTransform)),_.specularIntensityMap&&(T.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,T.specularIntensityMapTransform))}function M(T,_){_.matcap&&(T.matcap.value=_.matcap)}function A(T,_){const L=e.get(_).light;T.referencePosition.value.setFromMatrixPosition(L.matrixWorld),T.nearDistance.value=L.shadow.camera.near,T.farDistance.value=L.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function jq(n,e,t,i){let a={},r={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(L,O){const F=O.program;i.uniformBlockBinding(L,F)}function m(L,O){let F=a[L.id];F===void 0&&(M(L),F=g(L),a[L.id]=F,L.addEventListener("dispose",T));const D=O.program;i.updateUBOMapping(L,D);const U=e.render.frame;r[L.id]!==U&&(b(L),r[L.id]=U)}function g(L){const O=v();L.__bindingPointIndex=O;const F=n.createBuffer(),D=L.__size,U=L.usage;return n.bindBuffer(n.UNIFORM_BUFFER,F),n.bufferData(n.UNIFORM_BUFFER,D,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,O,F),F}function v(){for(let L=0;L<u;L++)if(l.indexOf(L)===-1)return l.push(L),L;return Wt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function b(L){const O=a[L.id],F=L.uniforms,D=L.__cache;n.bindBuffer(n.UNIFORM_BUFFER,O);for(let U=0,B=F.length;U<B;U++){const H=Array.isArray(F[U])?F[U]:[F[U]];for(let I=0,P=H.length;I<P;I++){const j=H[I];if(S(j,U,I,D)===!0){const Z=j.__offset,W=Array.isArray(j.value)?j.value:[j.value];let Y=0;for(let ne=0;ne<W.length;ne++){const k=W[ne],z=A(k);typeof k=="number"||typeof k=="boolean"?(j.__data[0]=k,n.bufferSubData(n.UNIFORM_BUFFER,Z+Y,j.__data)):k.isMatrix3?(j.__data[0]=k.elements[0],j.__data[1]=k.elements[1],j.__data[2]=k.elements[2],j.__data[3]=0,j.__data[4]=k.elements[3],j.__data[5]=k.elements[4],j.__data[6]=k.elements[5],j.__data[7]=0,j.__data[8]=k.elements[6],j.__data[9]=k.elements[7],j.__data[10]=k.elements[8],j.__data[11]=0):(k.toArray(j.__data,Y),Y+=z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Z,j.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function S(L,O,F,D){const U=L.value,B=O+"_"+F;if(D[B]===void 0)return typeof U=="number"||typeof U=="boolean"?D[B]=U:D[B]=U.clone(),!0;{const H=D[B];if(typeof U=="number"||typeof U=="boolean"){if(H!==U)return D[B]=U,!0}else if(H.equals(U)===!1)return H.copy(U),!0}return!1}function M(L){const O=L.uniforms;let F=0;const D=16;for(let B=0,H=O.length;B<H;B++){const I=Array.isArray(O[B])?O[B]:[O[B]];for(let P=0,j=I.length;P<j;P++){const Z=I[P],W=Array.isArray(Z.value)?Z.value:[Z.value];for(let Y=0,ne=W.length;Y<ne;Y++){const k=W[Y],z=A(k),$=F%D,X=$%z.boundary,N=$+X;F+=X,N!==0&&D-N<z.storage&&(F+=D-N),Z.__data=new Float32Array(z.storage/Float32Array.BYTES_PER_ELEMENT),Z.__offset=F,F+=z.storage}}}const U=F%D;return U>0&&(F+=D-U),L.__size=F,L.__cache={},this}function A(L){const O={boundary:0,storage:0};return typeof L=="number"||typeof L=="boolean"?(O.boundary=4,O.storage=4):L.isVector2?(O.boundary=8,O.storage=8):L.isVector3||L.isColor?(O.boundary=16,O.storage=12):L.isVector4?(O.boundary=16,O.storage=16):L.isMatrix3?(O.boundary=48,O.storage=48):L.isMatrix4?(O.boundary=64,O.storage=64):L.isTexture?ht("WebGLRenderer: Texture samplers can not be part of an uniforms group."):ht("WebGLRenderer: Unsupported uniform value type.",L),O}function T(L){const O=L.target;O.removeEventListener("dispose",T);const F=l.indexOf(O.__bindingPointIndex);l.splice(F,1),n.deleteBuffer(a[O.id]),delete a[O.id],delete r[O.id]}function _(){for(const L in a)n.deleteBuffer(a[L]);l=[],a={},r={}}return{bind:h,update:m,dispose:_}}const Xq=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let Kl=null;function Wq(){return Kl===null&&(Kl=new bo(Xq,32,32,bb,nd),Kl.minFilter=Fi,Kl.magFilter=Fi,Kl.wrapS=Bs,Kl.wrapT=Bs,Kl.generateMipmaps=!1,Kl.needsUpdate=!0),Kl}class _O{constructor(e={}){const{canvas:t=fD(),context:i=null,depth:a=!0,stencil:r=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:m=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:b=!1}=e;this.isWebGLRenderer=!0;let S;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");S=i.getContextAttributes().alpha}else S=l;const M=new Set([Sb,_b,eg]),A=new Set([Pr,rc,qh,jh,xb,vb]),T=new Uint32Array(4),_=new Int32Array(4);let L=null,O=null;const F=[],D=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=gl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let B=!1;this._outputColorSpace=Ha;let H=0,I=0,P=null,j=-1,Z=null;const W=new Tn,Y=new Tn;let ne=null;const k=new vt(0);let z=0,$=t.width,X=t.height,N=1,G=null,ae=null;const fe=new Tn(0,0,$,X),ce=new Tn(0,0,$,X);let _e=!1;const oe=new mm;let me=!1,Oe=!1;const Ye=new Xt,Ie=new re,rt=new Tn,yt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let tt=!1;function Ae(){return P===null?N:1}let ie=i;function Be(ee,xe){return t.getContext(ee,xe)}try{const ee={alpha:!0,depth:a,stencil:r,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:m,powerPreference:g,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${hb}`),t.addEventListener("webglcontextlost",Ke,!1),t.addEventListener("webglcontextrestored",qe,!1),t.addEventListener("webglcontextcreationerror",_t,!1),ie===null){const xe="webgl2";if(ie=Be(xe,ee),ie===null)throw Be(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw ee("WebGLRenderer: "+ee.message),ee}let Te,Xe,He,Qe,Ze,ut,se,Q,ye,Pe,ze,Ce,mt,ot,At,St,Ge,Je,wt,Ct,lt,Ut,de,ct;function it(){Te=new iG(ie),Te.init(),Ut=new bO(ie,Te),Xe=new Y7(ie,Te,e,Ut),He=new Bq(ie,Te),Xe.reversedDepthBuffer&&b&&He.buffers.depth.setReversed(!0),Qe=new rG(ie),Ze=new Mq,ut=new Iq(ie,Te,He,Ze,Xe,Ut,Qe),se=new K7(U),Q=new nG(U),ye=new uH(ie),de=new X7(ie,ye),Pe=new aG(ie,ye,Qe,de),ze=new lG(ie,Pe,ye,Qe),wt=new oG(ie,Xe,ut),St=new Z7(Ze),Ce=new Eq(U,se,Q,Te,Xe,de,St),mt=new qq(U,Ze),ot=new Tq,At=new Oq(Te),Je=new j7(U,se,Q,He,ze,S,h),Ge=new Pq(U,ze,Xe),ct=new jq(ie,Qe,Xe,He),Ct=new W7(ie,Te,Qe),lt=new sG(ie,Te,Qe),Qe.programs=Ce.programs,U.capabilities=Xe,U.extensions=Te,U.properties=Ze,U.renderLists=ot,U.shadowMap=Ge,U.state=He,U.info=Qe}it();const at=new kq(U,ie);this.xr=at,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const ee=Te.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=Te.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(ee){ee!==void 0&&(N=ee,this.setSize($,X,!1))},this.getSize=function(ee){return ee.set($,X)},this.setSize=function(ee,xe,Ne=!0){if(at.isPresenting){ht("WebGLRenderer: Can't change size while VR device is presenting.");return}$=ee,X=xe,t.width=Math.floor(ee*N),t.height=Math.floor(xe*N),Ne===!0&&(t.style.width=ee+"px",t.style.height=xe+"px"),this.setViewport(0,0,ee,xe)},this.getDrawingBufferSize=function(ee){return ee.set($*N,X*N).floor()},this.setDrawingBufferSize=function(ee,xe,Ne){$=ee,X=xe,N=Ne,t.width=Math.floor(ee*Ne),t.height=Math.floor(xe*Ne),this.setViewport(0,0,ee,xe)},this.getCurrentViewport=function(ee){return ee.copy(W)},this.getViewport=function(ee){return ee.copy(fe)},this.setViewport=function(ee,xe,Ne,Le){ee.isVector4?fe.set(ee.x,ee.y,ee.z,ee.w):fe.set(ee,xe,Ne,Le),He.viewport(W.copy(fe).multiplyScalar(N).round())},this.getScissor=function(ee){return ee.copy(ce)},this.setScissor=function(ee,xe,Ne,Le){ee.isVector4?ce.set(ee.x,ee.y,ee.z,ee.w):ce.set(ee,xe,Ne,Le),He.scissor(Y.copy(ce).multiplyScalar(N).round())},this.getScissorTest=function(){return _e},this.setScissorTest=function(ee){He.setScissorTest(_e=ee)},this.setOpaqueSort=function(ee){G=ee},this.setTransparentSort=function(ee){ae=ee},this.getClearColor=function(ee){return ee.copy(Je.getClearColor())},this.setClearColor=function(){Je.setClearColor(...arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha(...arguments)},this.clear=function(ee=!0,xe=!0,Ne=!0){let Le=0;if(ee){let ge=!1;if(P!==null){const et=P.texture.format;ge=M.has(et)}if(ge){const et=P.texture.type,st=A.has(et),bt=Je.getClearColor(),xt=Je.getClearAlpha(),Nt=bt.r,Pt=bt.g,Tt=bt.b;st?(T[0]=Nt,T[1]=Pt,T[2]=Tt,T[3]=xt,ie.clearBufferuiv(ie.COLOR,0,T)):(_[0]=Nt,_[1]=Pt,_[2]=Tt,_[3]=xt,ie.clearBufferiv(ie.COLOR,0,_))}else Le|=ie.COLOR_BUFFER_BIT}xe&&(Le|=ie.DEPTH_BUFFER_BIT),Ne&&(Le|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(Le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ke,!1),t.removeEventListener("webglcontextrestored",qe,!1),t.removeEventListener("webglcontextcreationerror",_t,!1),Je.dispose(),ot.dispose(),At.dispose(),Ze.dispose(),se.dispose(),Q.dispose(),ze.dispose(),de.dispose(),ct.dispose(),Ce.dispose(),at.dispose(),at.removeEventListener("sessionstart",Di),at.removeEventListener("sessionend",Gs),Hi.stop()};function Ke(ee){ee.preventDefault(),L0("WebGLRenderer: Context Lost."),B=!0}function qe(){L0("WebGLRenderer: Context Restored."),B=!1;const ee=Qe.autoReset,xe=Ge.enabled,Ne=Ge.autoUpdate,Le=Ge.needsUpdate,ge=Ge.type;it(),Qe.autoReset=ee,Ge.enabled=xe,Ge.autoUpdate=Ne,Ge.needsUpdate=Le,Ge.type=ge}function _t(ee){Wt("WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function zt(ee){const xe=ee.target;xe.removeEventListener("dispose",zt),vn(xe)}function vn(ee){gn(ee),Ze.remove(ee)}function gn(ee){const xe=Ze.get(ee).programs;xe!==void 0&&(xe.forEach(function(Ne){Ce.releaseProgram(Ne)}),ee.isShaderMaterial&&Ce.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,xe,Ne,Le,ge,et){xe===null&&(xe=yt);const st=ge.isMesh&&ge.matrixWorld.determinant()<0,bt=Vr(ee,xe,Ne,Le,ge);He.setMaterial(Le,st);let xt=Ne.index,Nt=1;if(Le.wireframe===!0){if(xt=Pe.getWireframeAttribute(Ne),xt===void 0)return;Nt=2}const Pt=Ne.drawRange,Tt=Ne.attributes.position;let rn=Pt.start*Nt,Sn=(Pt.start+Pt.count)*Nt;et!==null&&(rn=Math.max(rn,et.start*Nt),Sn=Math.min(Sn,(et.start+et.count)*Nt)),xt!==null?(rn=Math.max(rn,0),Sn=Math.min(Sn,xt.count)):Tt!=null&&(rn=Math.max(rn,0),Sn=Math.min(Sn,Tt.count));const fn=Sn-rn;if(fn<0||fn===1/0)return;de.setup(ge,Le,bt,Ne,xt);let Gn,On=Ct;if(xt!==null&&(Gn=ye.get(xt),On=lt,On.setIndex(Gn)),ge.isMesh)Le.wireframe===!0?(He.setLineWidth(Le.wireframeLinewidth*Ae()),On.setMode(ie.LINES)):On.setMode(ie.TRIANGLES);else if(ge.isLine){let Rt=Le.linewidth;Rt===void 0&&(Rt=1),He.setLineWidth(Rt*Ae()),ge.isLineSegments?On.setMode(ie.LINES):ge.isLineLoop?On.setMode(ie.LINE_LOOP):On.setMode(ie.LINE_STRIP)}else ge.isPoints?On.setMode(ie.POINTS):ge.isSprite&&On.setMode(ie.TRIANGLES);if(ge.isBatchedMesh)if(ge._multiDrawInstances!==null)Zh("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),On.renderMultiDrawInstances(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount,ge._multiDrawInstances);else if(Te.get("WEBGL_multi_draw"))On.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else{const Rt=ge._multiDrawStarts,zn=ge._multiDrawCounts,cn=ge._multiDrawCount,Qi=xt?ye.get(xt).bytesPerElement:1,_i=Ze.get(Le).currentProgram.getUniforms();for(let ki=0;ki<cn;ki++)_i.setValue(ie,"_gl_DrawID",ki),On.render(Rt[ki]/Qi,zn[ki])}else if(ge.isInstancedMesh)On.renderInstances(rn,fn,ge.count);else if(Ne.isInstancedBufferGeometry){const Rt=Ne._maxInstanceCount!==void 0?Ne._maxInstanceCount:1/0,zn=Math.min(Ne.instanceCount,Rt);On.renderInstances(rn,fn,zn)}else On.render(rn,fn)};function Wa(ee,xe,Ne){ee.transparent===!0&&ee.side===cl&&ee.forceSinglePass===!1?(ee.side=xs,ee.needsUpdate=!0,Ka(ee,xe,Ne),ee.side=ac,ee.needsUpdate=!0,Ka(ee,xe,Ne),ee.side=cl):Ka(ee,xe,Ne)}this.compile=function(ee,xe,Ne=null){Ne===null&&(Ne=ee),O=At.get(Ne),O.init(xe),D.push(O),Ne.traverseVisible(function(ge){ge.isLight&&ge.layers.test(xe.layers)&&(O.pushLight(ge),ge.castShadow&&O.pushShadow(ge))}),ee!==Ne&&ee.traverseVisible(function(ge){ge.isLight&&ge.layers.test(xe.layers)&&(O.pushLight(ge),ge.castShadow&&O.pushShadow(ge))}),O.setupLights();const Le=new Set;return ee.traverse(function(ge){if(!(ge.isMesh||ge.isPoints||ge.isLine||ge.isSprite))return;const et=ge.material;if(et)if(Array.isArray(et))for(let st=0;st<et.length;st++){const bt=et[st];Wa(bt,Ne,ge),Le.add(bt)}else Wa(et,Ne,ge),Le.add(et)}),O=D.pop(),Le},this.compileAsync=function(ee,xe,Ne=null){const Le=this.compile(ee,xe,Ne);return new Promise(ge=>{function et(){if(Le.forEach(function(st){Ze.get(st).currentProgram.isReady()&&Le.delete(st)}),Le.size===0){ge(ee);return}setTimeout(et,10)}Te.get("KHR_parallel_shader_compile")!==null?et():setTimeout(et,10)})};let ui=null;function Ri(ee){ui&&ui(ee)}function Di(){Hi.stop()}function Gs(){Hi.start()}const Hi=new pO;Hi.setAnimationLoop(Ri),typeof self<"u"&&Hi.setContext(self),this.setAnimationLoop=function(ee){ui=ee,at.setAnimationLoop(ee),ee===null?Hi.stop():Hi.start()},at.addEventListener("sessionstart",Di),at.addEventListener("sessionend",Gs),this.render=function(ee,xe){if(xe!==void 0&&xe.isCamera!==!0){Wt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;if(ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),xe.parent===null&&xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(at.cameraAutoUpdate===!0&&at.updateCamera(xe),xe=at.getCamera()),ee.isScene===!0&&ee.onBeforeRender(U,ee,xe,P),O=At.get(ee,D.length),O.init(xe),D.push(O),Ye.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),oe.setFromProjectionMatrix(Ye,lr,xe.reversedDepth),Oe=this.localClippingEnabled,me=St.init(this.clippingPlanes,Oe),L=ot.get(ee,F.length),L.init(),F.push(L),at.enabled===!0&&at.isPresenting===!0){const et=U.xr.getDepthSensingMesh();et!==null&&cc(et,xe,-1/0,U.sortObjects)}cc(ee,xe,0,U.sortObjects),L.finish(),U.sortObjects===!0&&L.sort(G,ae),tt=at.enabled===!1||at.isPresenting===!1||at.hasDepthSensing()===!1,tt&&Je.addToRenderList(L,ee),this.info.render.frame++,me===!0&&St.beginShadows();const Ne=O.state.shadowsArray;Ge.render(Ne,ee,xe),me===!0&&St.endShadows(),this.info.autoReset===!0&&this.info.reset();const Le=L.opaque,ge=L.transmissive;if(O.setupLights(),xe.isArrayCamera){const et=xe.cameras;if(ge.length>0)for(let st=0,bt=et.length;st<bt;st++){const xt=et[st];Ya(Le,ge,ee,xt)}tt&&Je.render(ee);for(let st=0,bt=et.length;st<bt;st++){const xt=et[st];qs(L,ee,xt,xt.viewport)}}else ge.length>0&&Ya(Le,ge,ee,xe),tt&&Je.render(ee),qs(L,ee,xe);P!==null&&I===0&&(ut.updateMultisampleRenderTarget(P),ut.updateRenderTargetMipmap(P)),ee.isScene===!0&&ee.onAfterRender(U,ee,xe),de.resetDefaultState(),j=-1,Z=null,D.pop(),D.length>0?(O=D[D.length-1],me===!0&&St.setGlobalState(U.clippingPlanes,O.state.camera)):O=null,F.pop(),F.length>0?L=F[F.length-1]:L=null};function cc(ee,xe,Ne,Le){if(ee.visible===!1)return;if(ee.layers.test(xe.layers)){if(ee.isGroup)Ne=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(xe);else if(ee.isLight)O.pushLight(ee),ee.castShadow&&O.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||oe.intersectsSprite(ee)){Le&&rt.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(Ye);const st=ze.update(ee),bt=ee.material;bt.visible&&L.push(ee,st,bt,Ne,rt.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||oe.intersectsObject(ee))){const st=ze.update(ee),bt=ee.material;if(Le&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),rt.copy(ee.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),rt.copy(st.boundingSphere.center)),rt.applyMatrix4(ee.matrixWorld).applyMatrix4(Ye)),Array.isArray(bt)){const xt=st.groups;for(let Nt=0,Pt=xt.length;Nt<Pt;Nt++){const Tt=xt[Nt],rn=bt[Tt.materialIndex];rn&&rn.visible&&L.push(ee,st,rn,Ne,rt.z,Tt)}}else bt.visible&&L.push(ee,st,bt,Ne,rt.z,null)}}const et=ee.children;for(let st=0,bt=et.length;st<bt;st++)cc(et[st],xe,Ne,Le)}function qs(ee,xe,Ne,Le){const{opaque:ge,transmissive:et,transparent:st}=ee;O.setupLightsView(Ne),me===!0&&St.setGlobalState(U.clippingPlanes,Ne),Le&&He.viewport(W.copy(Le)),ge.length>0&&Za(ge,xe,Ne),et.length>0&&Za(et,xe,Ne),st.length>0&&Za(st,xe,Ne),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function Ya(ee,xe,Ne,Le){if((Ne.isScene===!0?Ne.overrideMaterial:null)!==null)return;O.state.transmissionRenderTarget[Le.id]===void 0&&(O.state.transmissionRenderTarget[Le.id]=new xl(1,1,{generateMipmaps:!0,type:Te.has("EXT_color_buffer_half_float")||Te.has("EXT_color_buffer_float")?nd:Pr,minFilter:ul,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_n.workingColorSpace}));const et=O.state.transmissionRenderTarget[Le.id],st=Le.viewport||W;et.setSize(st.z*U.transmissionResolutionScale,st.w*U.transmissionResolutionScale);const bt=U.getRenderTarget(),xt=U.getActiveCubeFace(),Nt=U.getActiveMipmapLevel();U.setRenderTarget(et),U.getClearColor(k),z=U.getClearAlpha(),z<1&&U.setClearColor(16777215,.5),U.clear(),tt&&Je.render(Ne);const Pt=U.toneMapping;U.toneMapping=gl;const Tt=Le.viewport;if(Le.viewport!==void 0&&(Le.viewport=void 0),O.setupLightsView(Le),me===!0&&St.setGlobalState(U.clippingPlanes,Le),Za(ee,Ne,Le),ut.updateMultisampleRenderTarget(et),ut.updateRenderTargetMipmap(et),Te.has("WEBGL_multisampled_render_to_texture")===!1){let rn=!1;for(let Sn=0,fn=xe.length;Sn<fn;Sn++){const Gn=xe[Sn],{object:On,geometry:Rt,material:zn,group:cn}=Gn;if(zn.side===cl&&On.layers.test(Le.layers)){const Qi=zn.side;zn.side=xs,zn.needsUpdate=!0,kn(On,Ne,Le,Rt,zn,cn),zn.side=Qi,zn.needsUpdate=!0,rn=!0}}rn===!0&&(ut.updateMultisampleRenderTarget(et),ut.updateRenderTargetMipmap(et))}U.setRenderTarget(bt,xt,Nt),U.setClearColor(k,z),Tt!==void 0&&(Le.viewport=Tt),U.toneMapping=Pt}function Za(ee,xe,Ne){const Le=xe.isScene===!0?xe.overrideMaterial:null;for(let ge=0,et=ee.length;ge<et;ge++){const st=ee[ge],{object:bt,geometry:xt,group:Nt}=st;let Pt=st.material;Pt.allowOverride===!0&&Le!==null&&(Pt=Le),bt.layers.test(Ne.layers)&&kn(bt,xe,Ne,xt,Pt,Nt)}}function kn(ee,xe,Ne,Le,ge,et){ee.onBeforeRender(U,xe,Ne,Le,ge,et),ee.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),ge.onBeforeRender(U,xe,Ne,Le,ee,et),ge.transparent===!0&&ge.side===cl&&ge.forceSinglePass===!1?(ge.side=xs,ge.needsUpdate=!0,U.renderBufferDirect(Ne,xe,Le,ge,ee,et),ge.side=ac,ge.needsUpdate=!0,U.renderBufferDirect(Ne,xe,Le,ge,ee,et),ge.side=cl):U.renderBufferDirect(Ne,xe,Le,ge,ee,et),ee.onAfterRender(U,xe,Ne,Le,ge,et)}function Ka(ee,xe,Ne){xe.isScene!==!0&&(xe=yt);const Le=Ze.get(ee),ge=O.state.lights,et=O.state.shadowsArray,st=ge.state.version,bt=Ce.getParameters(ee,ge.state,et,xe,Ne),xt=Ce.getProgramCacheKey(bt);let Nt=Le.programs;Le.environment=ee.isMeshStandardMaterial?xe.environment:null,Le.fog=xe.fog,Le.envMap=(ee.isMeshStandardMaterial?Q:se).get(ee.envMap||Le.environment),Le.envMapRotation=Le.environment!==null&&ee.envMap===null?xe.environmentRotation:ee.envMapRotation,Nt===void 0&&(ee.addEventListener("dispose",zt),Nt=new Map,Le.programs=Nt);let Pt=Nt.get(xt);if(Pt!==void 0){if(Le.currentProgram===Pt&&Le.lightsStateVersion===st)return Fr(ee,bt),Pt}else bt.uniforms=Ce.getUniforms(ee),ee.onBeforeCompile(bt,U),Pt=Ce.acquireProgram(bt,xt),Nt.set(xt,Pt),Le.uniforms=bt.uniforms;const Tt=Le.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(Tt.clippingPlanes=St.uniform),Fr(ee,bt),Le.needsLights=uc(ee),Le.lightsStateVersion=st,Le.needsLights&&(Tt.ambientLightColor.value=ge.state.ambient,Tt.lightProbe.value=ge.state.probe,Tt.directionalLights.value=ge.state.directional,Tt.directionalLightShadows.value=ge.state.directionalShadow,Tt.spotLights.value=ge.state.spot,Tt.spotLightShadows.value=ge.state.spotShadow,Tt.rectAreaLights.value=ge.state.rectArea,Tt.ltc_1.value=ge.state.rectAreaLTC1,Tt.ltc_2.value=ge.state.rectAreaLTC2,Tt.pointLights.value=ge.state.point,Tt.pointLightShadows.value=ge.state.pointShadow,Tt.hemisphereLights.value=ge.state.hemi,Tt.directionalShadowMap.value=ge.state.directionalShadowMap,Tt.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Tt.spotShadowMap.value=ge.state.spotShadowMap,Tt.spotLightMatrix.value=ge.state.spotLightMatrix,Tt.spotLightMap.value=ge.state.spotLightMap,Tt.pointShadowMap.value=ge.state.pointShadowMap,Tt.pointShadowMatrix.value=ge.state.pointShadowMatrix),Le.currentProgram=Pt,Le.uniformsList=null,Pt}function js(ee){if(ee.uniformsList===null){const xe=ee.currentProgram.getUniforms();ee.uniformsList=Qv.seqWithValue(xe.seq,ee.uniforms)}return ee.uniformsList}function Fr(ee,xe){const Ne=Ze.get(ee);Ne.outputColorSpace=xe.outputColorSpace,Ne.batching=xe.batching,Ne.batchingColor=xe.batchingColor,Ne.instancing=xe.instancing,Ne.instancingColor=xe.instancingColor,Ne.instancingMorph=xe.instancingMorph,Ne.skinning=xe.skinning,Ne.morphTargets=xe.morphTargets,Ne.morphNormals=xe.morphNormals,Ne.morphColors=xe.morphColors,Ne.morphTargetsCount=xe.morphTargetsCount,Ne.numClippingPlanes=xe.numClippingPlanes,Ne.numIntersection=xe.numClipIntersection,Ne.vertexAlphas=xe.vertexAlphas,Ne.vertexTangents=xe.vertexTangents,Ne.toneMapping=xe.toneMapping}function Vr(ee,xe,Ne,Le,ge){xe.isScene!==!0&&(xe=yt),ut.resetTextureUnits();const et=xe.fog,st=Le.isMeshStandardMaterial?xe.environment:null,bt=P===null?U.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:bu,xt=(Le.isMeshStandardMaterial?Q:se).get(Le.envMap||st),Nt=Le.vertexColors===!0&&!!Ne.attributes.color&&Ne.attributes.color.itemSize===4,Pt=!!Ne.attributes.tangent&&(!!Le.normalMap||Le.anisotropy>0),Tt=!!Ne.morphAttributes.position,rn=!!Ne.morphAttributes.normal,Sn=!!Ne.morphAttributes.color;let fn=gl;Le.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(fn=U.toneMapping);const Gn=Ne.morphAttributes.position||Ne.morphAttributes.normal||Ne.morphAttributes.color,On=Gn!==void 0?Gn.length:0,Rt=Ze.get(Le),zn=O.state.lights;if(me===!0&&(Oe===!0||ee!==Z)){const Oi=ee===Z&&Le.id===j;St.setState(Le,ee,Oi)}let cn=!1;Le.version===Rt.__version?(Rt.needsLights&&Rt.lightsStateVersion!==zn.state.version||Rt.outputColorSpace!==bt||ge.isBatchedMesh&&Rt.batching===!1||!ge.isBatchedMesh&&Rt.batching===!0||ge.isBatchedMesh&&Rt.batchingColor===!0&&ge.colorTexture===null||ge.isBatchedMesh&&Rt.batchingColor===!1&&ge.colorTexture!==null||ge.isInstancedMesh&&Rt.instancing===!1||!ge.isInstancedMesh&&Rt.instancing===!0||ge.isSkinnedMesh&&Rt.skinning===!1||!ge.isSkinnedMesh&&Rt.skinning===!0||ge.isInstancedMesh&&Rt.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&Rt.instancingColor===!1&&ge.instanceColor!==null||ge.isInstancedMesh&&Rt.instancingMorph===!0&&ge.morphTexture===null||ge.isInstancedMesh&&Rt.instancingMorph===!1&&ge.morphTexture!==null||Rt.envMap!==xt||Le.fog===!0&&Rt.fog!==et||Rt.numClippingPlanes!==void 0&&(Rt.numClippingPlanes!==St.numPlanes||Rt.numIntersection!==St.numIntersection)||Rt.vertexAlphas!==Nt||Rt.vertexTangents!==Pt||Rt.morphTargets!==Tt||Rt.morphNormals!==rn||Rt.morphColors!==Sn||Rt.toneMapping!==fn||Rt.morphTargetsCount!==On)&&(cn=!0):(cn=!0,Rt.__version=Le.version);let Qi=Rt.currentProgram;cn===!0&&(Qi=Ka(Le,xe,ge));let _i=!1,ki=!1,Hr=!1;const Un=Qi.getUniforms(),ii=Rt.uniforms;if(He.useProgram(Qi.program)&&(_i=!0,ki=!0,Hr=!0),Le.id!==j&&(j=Le.id,ki=!0),_i||Z!==ee){He.buffers.depth.getReversed()&&ee.reversedDepth!==!0&&(ee._reversedDepth=!0,ee.updateProjectionMatrix()),Un.setValue(ie,"projectionMatrix",ee.projectionMatrix),Un.setValue(ie,"viewMatrix",ee.matrixWorldInverse);const qn=Un.map.cameraPosition;qn!==void 0&&qn.setValue(ie,Ie.setFromMatrixPosition(ee.matrixWorld)),Xe.logarithmicDepthBuffer&&Un.setValue(ie,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Le.isMeshPhongMaterial||Le.isMeshToonMaterial||Le.isMeshLambertMaterial||Le.isMeshBasicMaterial||Le.isMeshStandardMaterial||Le.isShaderMaterial)&&Un.setValue(ie,"isOrthographic",ee.isOrthographicCamera===!0),Z!==ee&&(Z=ee,ki=!0,Hr=!0)}if(ge.isSkinnedMesh){Un.setOptional(ie,ge,"bindMatrix"),Un.setOptional(ie,ge,"bindMatrixInverse");const Oi=ge.skeleton;Oi&&(Oi.boneTexture===null&&Oi.computeBoneTexture(),Un.setValue(ie,"boneTexture",Oi.boneTexture,ut))}ge.isBatchedMesh&&(Un.setOptional(ie,ge,"batchingTexture"),Un.setValue(ie,"batchingTexture",ge._matricesTexture,ut),Un.setOptional(ie,ge,"batchingIdTexture"),Un.setValue(ie,"batchingIdTexture",ge._indirectTexture,ut),Un.setOptional(ie,ge,"batchingColorTexture"),ge._colorsTexture!==null&&Un.setValue(ie,"batchingColorTexture",ge._colorsTexture,ut));const ga=Ne.morphAttributes;if((ga.position!==void 0||ga.normal!==void 0||ga.color!==void 0)&&wt.update(ge,Ne,Qi),(ki||Rt.receiveShadow!==ge.receiveShadow)&&(Rt.receiveShadow=ge.receiveShadow,Un.setValue(ie,"receiveShadow",ge.receiveShadow)),Le.isMeshGouraudMaterial&&Le.envMap!==null&&(ii.envMap.value=xt,ii.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),Le.isMeshStandardMaterial&&Le.envMap===null&&xe.environment!==null&&(ii.envMapIntensity.value=xe.environmentIntensity),ii.dfgLUT!==void 0&&(ii.dfgLUT.value=Wq()),ki&&(Un.setValue(ie,"toneMappingExposure",U.toneMappingExposure),Rt.needsLights&&bi(ii,Hr),et&&Le.fog===!0&&mt.refreshFogUniforms(ii,et),mt.refreshMaterialUniforms(ii,Le,N,X,O.state.transmissionRenderTarget[ee.id]),Qv.upload(ie,js(Rt),ii,ut)),Le.isShaderMaterial&&Le.uniformsNeedUpdate===!0&&(Qv.upload(ie,js(Rt),ii,ut),Le.uniformsNeedUpdate=!1),Le.isSpriteMaterial&&Un.setValue(ie,"center",ge.center),Un.setValue(ie,"modelViewMatrix",ge.modelViewMatrix),Un.setValue(ie,"normalMatrix",ge.normalMatrix),Un.setValue(ie,"modelMatrix",ge.matrixWorld),Le.isShaderMaterial||Le.isRawShaderMaterial){const Oi=Le.uniformsGroups;for(let qn=0,dc=Oi.length;qn<dc;qn++){const Qa=Oi[qn];ct.update(Qa,Qi),ct.bind(Qa,Qi)}}return Qi}function bi(ee,xe){ee.ambientLightColor.needsUpdate=xe,ee.lightProbe.needsUpdate=xe,ee.directionalLights.needsUpdate=xe,ee.directionalLightShadows.needsUpdate=xe,ee.pointLights.needsUpdate=xe,ee.pointLightShadows.needsUpdate=xe,ee.spotLights.needsUpdate=xe,ee.spotLightShadows.needsUpdate=xe,ee.rectAreaLights.needsUpdate=xe,ee.hemisphereLights.needsUpdate=xe}function uc(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return H},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(ee,xe,Ne){const Le=Ze.get(ee);Le.__autoAllocateDepthBuffer=ee.resolveDepthBuffer===!1,Le.__autoAllocateDepthBuffer===!1&&(Le.__useRenderToTexture=!1),Ze.get(ee.texture).__webglTexture=xe,Ze.get(ee.depthTexture).__webglTexture=Le.__autoAllocateDepthBuffer?void 0:Ne,Le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ee,xe){const Ne=Ze.get(ee);Ne.__webglFramebuffer=xe,Ne.__useDefaultFramebuffer=xe===void 0};const fc=ie.createFramebuffer();this.setRenderTarget=function(ee,xe=0,Ne=0){P=ee,H=xe,I=Ne;let Le=!0,ge=null,et=!1,st=!1;if(ee){const xt=Ze.get(ee);if(xt.__useDefaultFramebuffer!==void 0)He.bindFramebuffer(ie.FRAMEBUFFER,null),Le=!1;else if(xt.__webglFramebuffer===void 0)ut.setupRenderTarget(ee);else if(xt.__hasExternalTextures)ut.rebindTextures(ee,Ze.get(ee.texture).__webglTexture,Ze.get(ee.depthTexture).__webglTexture);else if(ee.depthBuffer){const Tt=ee.depthTexture;if(xt.__boundDepthTexture!==Tt){if(Tt!==null&&Ze.has(Tt)&&(ee.width!==Tt.image.width||ee.height!==Tt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ut.setupDepthRenderbuffer(ee)}}const Nt=ee.texture;(Nt.isData3DTexture||Nt.isDataArrayTexture||Nt.isCompressedArrayTexture)&&(st=!0);const Pt=Ze.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(Pt[xe])?ge=Pt[xe][Ne]:ge=Pt[xe],et=!0):ee.samples>0&&ut.useMultisampledRTT(ee)===!1?ge=Ze.get(ee).__webglMultisampledFramebuffer:Array.isArray(Pt)?ge=Pt[Ne]:ge=Pt,W.copy(ee.viewport),Y.copy(ee.scissor),ne=ee.scissorTest}else W.copy(fe).multiplyScalar(N).floor(),Y.copy(ce).multiplyScalar(N).floor(),ne=_e;if(Ne!==0&&(ge=fc),He.bindFramebuffer(ie.FRAMEBUFFER,ge)&&Le&&He.drawBuffers(ee,ge),He.viewport(W),He.scissor(Y),He.setScissorTest(ne),et){const xt=Ze.get(ee.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+xe,xt.__webglTexture,Ne)}else if(st){const xt=xe;for(let Nt=0;Nt<ee.textures.length;Nt++){const Pt=Ze.get(ee.textures[Nt]);ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0+Nt,Pt.__webglTexture,Ne,xt)}}else if(ee!==null&&Ne!==0){const xt=Ze.get(ee.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,xt.__webglTexture,Ne)}j=-1},this.readRenderTargetPixels=function(ee,xe,Ne,Le,ge,et,st,bt=0){if(!(ee&&ee.isWebGLRenderTarget)){Wt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=Ze.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&st!==void 0&&(xt=xt[st]),xt){He.bindFramebuffer(ie.FRAMEBUFFER,xt);try{const Nt=ee.textures[bt],Pt=Nt.format,Tt=Nt.type;if(!Xe.textureFormatReadable(Pt)){Wt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Xe.textureTypeReadable(Tt)){Wt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xe>=0&&xe<=ee.width-Le&&Ne>=0&&Ne<=ee.height-ge&&(ee.textures.length>1&&ie.readBuffer(ie.COLOR_ATTACHMENT0+bt),ie.readPixels(xe,Ne,Le,ge,Ut.convert(Pt),Ut.convert(Tt),et))}finally{const Nt=P!==null?Ze.get(P).__webglFramebuffer:null;He.bindFramebuffer(ie.FRAMEBUFFER,Nt)}}},this.readRenderTargetPixelsAsync=async function(ee,xe,Ne,Le,ge,et,st,bt=0){if(!(ee&&ee.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xt=Ze.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&st!==void 0&&(xt=xt[st]),xt)if(xe>=0&&xe<=ee.width-Le&&Ne>=0&&Ne<=ee.height-ge){He.bindFramebuffer(ie.FRAMEBUFFER,xt);const Nt=ee.textures[bt],Pt=Nt.format,Tt=Nt.type;if(!Xe.textureFormatReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Xe.textureTypeReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const rn=ie.createBuffer();ie.bindBuffer(ie.PIXEL_PACK_BUFFER,rn),ie.bufferData(ie.PIXEL_PACK_BUFFER,et.byteLength,ie.STREAM_READ),ee.textures.length>1&&ie.readBuffer(ie.COLOR_ATTACHMENT0+bt),ie.readPixels(xe,Ne,Le,ge,Ut.convert(Pt),Ut.convert(Tt),0);const Sn=P!==null?Ze.get(P).__webglFramebuffer:null;He.bindFramebuffer(ie.FRAMEBUFFER,Sn);const fn=ie.fenceSync(ie.SYNC_GPU_COMMANDS_COMPLETE,0);return ie.flush(),await uF(ie,fn,4),ie.bindBuffer(ie.PIXEL_PACK_BUFFER,rn),ie.getBufferSubData(ie.PIXEL_PACK_BUFFER,0,et),ie.deleteBuffer(rn),ie.deleteSync(fn),et}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ee,xe=null,Ne=0){const Le=Math.pow(2,-Ne),ge=Math.floor(ee.image.width*Le),et=Math.floor(ee.image.height*Le),st=xe!==null?xe.x:0,bt=xe!==null?xe.y:0;ut.setTexture2D(ee,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,Ne,0,0,st,bt,ge,et),He.unbindTexture()};const Xs=ie.createFramebuffer(),fi=ie.createFramebuffer();this.copyTextureToTexture=function(ee,xe,Ne=null,Le=null,ge=0,et=null){et===null&&(ge!==0?(Zh("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),et=ge,ge=0):et=0);let st,bt,xt,Nt,Pt,Tt,rn,Sn,fn;const Gn=ee.isCompressedTexture?ee.mipmaps[et]:ee.image;if(Ne!==null)st=Ne.max.x-Ne.min.x,bt=Ne.max.y-Ne.min.y,xt=Ne.isBox3?Ne.max.z-Ne.min.z:1,Nt=Ne.min.x,Pt=Ne.min.y,Tt=Ne.isBox3?Ne.min.z:0;else{const ga=Math.pow(2,-ge);st=Math.floor(Gn.width*ga),bt=Math.floor(Gn.height*ga),ee.isDataArrayTexture?xt=Gn.depth:ee.isData3DTexture?xt=Math.floor(Gn.depth*ga):xt=1,Nt=0,Pt=0,Tt=0}Le!==null?(rn=Le.x,Sn=Le.y,fn=Le.z):(rn=0,Sn=0,fn=0);const On=Ut.convert(xe.format),Rt=Ut.convert(xe.type);let zn;xe.isData3DTexture?(ut.setTexture3D(xe,0),zn=ie.TEXTURE_3D):xe.isDataArrayTexture||xe.isCompressedArrayTexture?(ut.setTexture2DArray(xe,0),zn=ie.TEXTURE_2D_ARRAY):(ut.setTexture2D(xe,0),zn=ie.TEXTURE_2D),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,xe.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xe.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,xe.unpackAlignment);const cn=ie.getParameter(ie.UNPACK_ROW_LENGTH),Qi=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),_i=ie.getParameter(ie.UNPACK_SKIP_PIXELS),ki=ie.getParameter(ie.UNPACK_SKIP_ROWS),Hr=ie.getParameter(ie.UNPACK_SKIP_IMAGES);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,Gn.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Gn.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,Nt),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,Pt),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Tt);const Un=ee.isDataArrayTexture||ee.isData3DTexture,ii=xe.isDataArrayTexture||xe.isData3DTexture;if(ee.isDepthTexture){const ga=Ze.get(ee),Oi=Ze.get(xe),qn=Ze.get(ga.__renderTarget),dc=Ze.get(Oi.__renderTarget);He.bindFramebuffer(ie.READ_FRAMEBUFFER,qn.__webglFramebuffer),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,dc.__webglFramebuffer);for(let Qa=0;Qa<xt;Qa++)Un&&(ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Ze.get(ee).__webglTexture,ge,Tt+Qa),ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Ze.get(xe).__webglTexture,et,fn+Qa)),ie.blitFramebuffer(Nt,Pt,st,bt,rn,Sn,st,bt,ie.DEPTH_BUFFER_BIT,ie.NEAREST);He.bindFramebuffer(ie.READ_FRAMEBUFFER,null),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else if(ge!==0||ee.isRenderTargetTexture||Ze.has(ee)){const ga=Ze.get(ee),Oi=Ze.get(xe);He.bindFramebuffer(ie.READ_FRAMEBUFFER,Xs),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,fi);for(let qn=0;qn<xt;qn++)Un?ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ga.__webglTexture,ge,Tt+qn):ie.framebufferTexture2D(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,ga.__webglTexture,ge),ii?ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Oi.__webglTexture,et,fn+qn):ie.framebufferTexture2D(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,Oi.__webglTexture,et),ge!==0?ie.blitFramebuffer(Nt,Pt,st,bt,rn,Sn,st,bt,ie.COLOR_BUFFER_BIT,ie.NEAREST):ii?ie.copyTexSubImage3D(zn,et,rn,Sn,fn+qn,Nt,Pt,st,bt):ie.copyTexSubImage2D(zn,et,rn,Sn,Nt,Pt,st,bt);He.bindFramebuffer(ie.READ_FRAMEBUFFER,null),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else ii?ee.isDataTexture||ee.isData3DTexture?ie.texSubImage3D(zn,et,rn,Sn,fn,st,bt,xt,On,Rt,Gn.data):xe.isCompressedArrayTexture?ie.compressedTexSubImage3D(zn,et,rn,Sn,fn,st,bt,xt,On,Gn.data):ie.texSubImage3D(zn,et,rn,Sn,fn,st,bt,xt,On,Rt,Gn):ee.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,et,rn,Sn,st,bt,On,Rt,Gn.data):ee.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,et,rn,Sn,Gn.width,Gn.height,On,Gn.data):ie.texSubImage2D(ie.TEXTURE_2D,et,rn,Sn,st,bt,On,Rt,Gn);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,cn),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Qi),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,_i),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,ki),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Hr),et===0&&xe.generateMipmaps&&ie.generateMipmap(zn),He.unbindTexture()},this.initRenderTarget=function(ee){Ze.get(ee).__webglFramebuffer===void 0&&ut.setupRenderTarget(ee)},this.initTexture=function(ee){ee.isCubeTexture?ut.setTextureCube(ee,0):ee.isData3DTexture?ut.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?ut.setTexture2DArray(ee,0):ut.setTexture2D(ee,0),He.unbindTexture()},this.resetState=function(){H=0,I=0,P=null,He.reset(),de.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return lr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=_n._getDrawingBufferColorSpace(e),t.unpackColorSpace=_n._getUnpackColorSpace()}}const Yq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:mM,AddEquation:hu,AddOperation:GR,AdditiveAnimationBlendMode:SM,AdditiveBlending:tE,AgXToneMapping:YR,AlphaFormat:bM,AlwaysCompare:cD,AlwaysDepth:cy,AlwaysStencilFunc:sE,AmbientLight:iO,AnimationAction:dO,AnimationClip:F0,AnimationLoader:e9,AnimationMixer:N9,AnimationObjectGroup:A9,AnimationUtils:KV,ArcCurve:CD,ArrayCamera:cO,ArrowHelper:tH,AttachedBindMode:aE,Audio:uO,AudioAnalyser:x9,AudioContext:YM,AudioListener:m9,AudioLoader:f9,AxesHelper:nH,BackSide:xs,BasicDepthPacking:eD,BasicShadowMap:ER,BatchedMesh:ED,Bone:RM,BooleanKeyframeTrack:ad,Box2:F9,Box3:ja,Box3Helper:$9,BoxGeometry:id,BoxHelper:J9,BufferAttribute:Kn,BufferGeometry:tn,BufferGeometryLoader:lO,ByteType:gM,Cache:fl,Camera:Tb,CameraHelper:Q9,CanvasTexture:yV,CapsuleGeometry:Lb,CatmullRomCurve3:ND,CineonToneMapping:XR,CircleGeometry:Ub,ClampToEdgeWrapping:Bs,Clock:ZM,Color:vt,ColorKeyframeTrack:jM,ColorManagement:_n,CompressedArrayTexture:xV,CompressedCubeTexture:vV,CompressedTexture:Ob,CompressedTextureLoader:t9,ConeGeometry:ig,ConstantAlphaFactor:VR,ConstantColorFactor:IR,Controls:aH,CubeCamera:gD,CubeReflectionMapping:sc,CubeRefractionMapping:yu,CubeTexture:tg,CubeTextureLoader:n9,CubeUVReflectionMapping:dm,CubicBezierCurve:PM,CubicBezierCurve3:RD,CubicInterpolant:ZD,CullFaceBack:eE,CullFaceFront:SR,CullFaceFrontBack:M8,CullFaceNone:_R,Curve:wo,CurvePath:OD,CustomBlending:MR,CustomToneMapping:WR,CylinderGeometry:ng,Cylindrical:I9,Data3DTexture:wb,DataArrayTexture:Mb,DataTexture:bo,DataTextureLoader:i9,DataUtils:kF,DecrementStencilOp:I8,DecrementWrapStencilOp:V8,DefaultLoadingManager:JD,DepthFormat:Xh,DepthStencilFormat:Wh,DepthTexture:OM,DetachedBindMode:KR,DirectionalLight:nO,DirectionalLightHelper:K9,DiscreteInterpolant:KD,DodecahedronGeometry:Pb,DoubleSide:cl,DstAlphaFactor:LR,DstColorFactor:PR,DynamicCopyUsage:tF,DynamicDrawUsage:Z8,DynamicReadUsage:J8,EdgesGeometry:AD,EllipseCurve:zb,EqualCompare:sD,EqualDepth:fy,EqualStencilFunc:q8,EquirectangularReflectionMapping:M0,EquirectangularRefractionMapping:w0,Euler:ur,EventDispatcher:vl,ExternalTexture:LM,ExtrudeGeometry:Bb,FileLoader:oc,Float16BufferAttribute:ZF,Float32BufferAttribute:Mt,FloatType:Is,Fog:Cb,FogExp2:Ab,FramebufferTexture:gV,FrontSide:ac,Frustum:mm,FrustumArray:Db,GLBufferAttribute:U9,GLSL1:iF,GLSL3:rE,GreaterCompare:rD,GreaterDepth:hy,GreaterEqualCompare:lD,GreaterEqualDepth:dy,GreaterEqualStencilFunc:Y8,GreaterStencilFunc:X8,GridHelper:Y9,Group:Ih,HalfFloatType:nd,HemisphereLight:$D,HemisphereLightHelper:W9,IcosahedronGeometry:Ib,ImageBitmapLoader:u9,ImageLoader:V0,ImageUtils:dD,IncrementStencilOp:B8,IncrementWrapStencilOp:F8,InstancedBufferAttribute:$h,InstancedBufferGeometry:oO,InstancedInterleavedBuffer:L9,InstancedMesh:SD,Int16BufferAttribute:WF,Int32BufferAttribute:YF,Int8BufferAttribute:qF,IntType:gb,InterleavedBuffer:Nb,InterleavedBufferAttribute:$f,Interpolant:rg,InterpolateDiscrete:C0,InterpolateLinear:Gy,InterpolateSmooth:Zv,InterpolationSamplingMode:rF,InterpolationSamplingType:sF,InvertStencilOp:H8,KeepStencilOp:zf,KeyframeTrack:Ir,LOD:bD,LatheGeometry:Fb,Layers:Qh,LessCompare:aD,LessDepth:uy,LessEqualCompare:EM,LessEqualDepth:Jf,LessEqualStencilFunc:j8,LessStencilFunc:G8,Light:Au,LightProbe:rO,Line:Su,Line3:k9,LineBasicMaterial:vs,LineCurve:zM,LineCurve3:DD,LineDashedMaterial:XD,LineLoop:MD,LineSegments:yl,LinearFilter:Fi,LinearInterpolant:qM,LinearMipMapLinearFilter:C8,LinearMipMapNearestFilter:A8,LinearMipmapLinearFilter:ul,LinearMipmapNearestFilter:l0,LinearSRGBColorSpace:bu,LinearToneMapping:qR,LinearTransfer:R0,Loader:ks,LoaderUtils:fE,LoadingManager:XM,LoopOnce:QR,LoopPingPong:$R,LoopRepeat:JR,MOUSE:S8,Material:Xa,MaterialLoader:Xb,MathUtils:AF,Matrix2:$M,Matrix3:en,Matrix4:Xt,MaxEquation:CR,Mesh:ra,MeshBasicMaterial:wu,MeshDepthMaterial:HM,MeshDistanceMaterial:kM,MeshLambertMaterial:qD,MeshMatcapMaterial:jD,MeshNormalMaterial:GD,MeshPhongMaterial:HD,MeshPhysicalMaterial:VD,MeshStandardMaterial:VM,MeshToonMaterial:kD,MinEquation:AR,MirroredRepeatWrapping:A0,MixOperation:kR,MultiplyBlending:iE,MultiplyOperation:$0,NearestFilter:Aa,NearestMipMapLinearFilter:T8,NearestMipMapNearestFilter:w8,NearestMipmapLinearFilter:zh,NearestMipmapNearestFilter:pM,NeutralToneMapping:ZR,NeverCompare:iD,NeverDepth:ly,NeverStencilFunc:k8,NoBlending:pl,NoColorSpace:Ql,NoToneMapping:gl,NormalAnimationBlendMode:Eb,NormalBlending:Yf,NotEqualCompare:oD,NotEqualDepth:my,NotEqualStencilFunc:W8,NumberKeyframeTrack:B0,Object3D:An,ObjectLoader:l9,ObjectSpaceNormalMap:nD,OctahedronGeometry:ag,OneFactor:RR,OneMinusConstantAlphaFactor:HR,OneMinusConstantColorFactor:FR,OneMinusDstAlphaFactor:UR,OneMinusDstColorFactor:zR,OneMinusSrcAlphaFactor:oy,OneMinusSrcColorFactor:OR,OrthographicCamera:lg,PCFShadowMap:mb,PCFSoftShadowMap:o0,PMREMGenerator:mE,Path:Wy,PerspectiveCamera:pa,Plane:du,PlaneGeometry:pm,PlaneHelper:eH,PointLight:tO,PointLightHelper:j9,Points:wD,PointsMaterial:DM,PolarGridHelper:Z9,PolyhedronGeometry:Tu,PositionalAudio:g9,PropertyBinding:wn,PropertyMixer:fO,QuadraticBezierCurve:BM,QuadraticBezierCurve3:IM,Quaternion:Hs,QuaternionKeyframeTrack:og,QuaternionLinearInterpolant:QD,RED_GREEN_RGTC2_Format:Hy,RED_RGTC1_Format:Fy,REVISION:hb,RGBADepthPacking:tD,RGBAFormat:qa,RGBAIntegerFormat:Sb,RGBA_ASTC_10x10_Format:Ly,RGBA_ASTC_10x5_Format:Ry,RGBA_ASTC_10x6_Format:Dy,RGBA_ASTC_10x8_Format:Oy,RGBA_ASTC_12x10_Format:Uy,RGBA_ASTC_12x12_Format:Py,RGBA_ASTC_4x4_Format:Sy,RGBA_ASTC_5x4_Format:Ey,RGBA_ASTC_5x5_Format:My,RGBA_ASTC_6x5_Format:wy,RGBA_ASTC_6x6_Format:Ty,RGBA_ASTC_8x5_Format:Ay,RGBA_ASTC_8x6_Format:Cy,RGBA_ASTC_8x8_Format:Ny,RGBA_BPTC_Format:zy,RGBA_ETC2_EAC_Format:_y,RGBA_PVRTC_2BPPV1_Format:vy,RGBA_PVRTC_4BPPV1_Format:xy,RGBA_S3TC_DXT1_Format:u0,RGBA_S3TC_DXT3_Format:f0,RGBA_S3TC_DXT5_Format:d0,RGBDepthPacking:L8,RGBFormat:_M,RGBIntegerFormat:N8,RGB_BPTC_SIGNED_Format:By,RGB_BPTC_UNSIGNED_Format:Iy,RGB_ETC1_Format:yy,RGB_ETC2_Format:by,RGB_PVRTC_2BPPV1_Format:gy,RGB_PVRTC_4BPPV1_Format:py,RGB_S3TC_DXT1_Format:c0,RGDepthPacking:U8,RGFormat:bb,RGIntegerFormat:_b,RawShaderMaterial:FD,Ray:hm,Raycaster:hO,RectAreaLight:aO,RedFormat:yb,RedIntegerFormat:eg,ReinhardToneMapping:jR,RenderTarget:wM,RenderTarget3D:R9,RepeatWrapping:T0,ReplaceStencilOp:z8,ReverseSubtractEquation:TR,RingGeometry:Vb,SIGNED_RED_GREEN_RGTC2_Format:ky,SIGNED_RED_RGTC1_Format:Vy,SRGBColorSpace:Ha,SRGBTransfer:Hn,Scene:CM,ShaderChunk:ln,ShaderLib:vo,ShaderMaterial:zr,ShadowMaterial:ID,Shape:Kf,ShapeGeometry:Hb,ShapePath:iH,ShapeUtils:yo,ShortType:xM,Skeleton:Rb,SkeletonHelper:q9,SkinnedMesh:_D,Source:pu,Sphere:Ca,SphereGeometry:sg,Spherical:B9,SphericalHarmonics3:sO,SplineCurve:FM,SpotLight:eO,SpotLightHelper:G9,Sprite:yD,SpriteMaterial:NM,SrcAlphaFactor:ry,SrcAlphaSaturateFactor:BR,SrcColorFactor:DR,StaticCopyUsage:eF,StaticDrawUsage:D0,StaticReadUsage:Q8,StereoCamera:d9,StreamCopyUsage:nF,StreamDrawUsage:K8,StreamReadUsage:$8,StringKeyframeTrack:sd,SubtractEquation:wR,SubtractiveBlending:nE,TOUCH:E8,TangentSpaceNormalMap:Mu,TetrahedronGeometry:kb,Texture:Ci,TextureLoader:a9,TextureUtils:cH,Timer:P9,TimestampQuery:aF,TorusGeometry:Gb,TorusKnotGeometry:qb,Triangle:Ps,TriangleFanDrawMode:O8,TriangleStripDrawMode:D8,TrianglesDrawMode:R8,TubeGeometry:jb,UVMapping:pb,Uint16BufferAttribute:TM,Uint32BufferAttribute:AM,Uint8BufferAttribute:jF,Uint8ClampedBufferAttribute:XF,Uniform:JM,UniformsGroup:O9,UniformsLib:dt,UniformsUtils:pD,UnsignedByteType:Pr,UnsignedInt101111Type:yM,UnsignedInt248Type:jh,UnsignedInt5999Type:vM,UnsignedIntType:rc,UnsignedShort4444Type:xb,UnsignedShort5551Type:vb,UnsignedShortType:qh,VSMShadowMap:xo,Vector2:We,Vector3:re,Vector4:Tn,VectorKeyframeTrack:I0,VideoFrameTexture:pV,VideoTexture:TD,WebGL3DRenderTarget:OF,WebGLArrayRenderTarget:DF,WebGLCoordinateSystem:lr,WebGLCubeRenderTarget:xD,WebGLRenderTarget:xl,WebGLRenderer:_O,WebGLUtils:bO,WebGPUCoordinateSystem:Yh,WebXRController:Kv,WireframeGeometry:BD,WrapAroundEnding:N0,ZeroCurvatureEnding:Hf,ZeroFactor:NR,ZeroSlopeEnding:kf,ZeroStencilOp:P8,createCanvasElement:fD,error:Wt,getConsoleFunction:cF,log:L0,setConsoleFunction:lF,warn:ht,warnOnce:Zh},Symbol.toStringTag,{value:"Module"}));var KS={exports:{}},QS={},JS={exports:{}},$S={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function Zq(){if(uA)return $S;uA=1;var n=fr();function e(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,r=n.useLayoutEffect,l=n.useDebugValue;function u(v,b){var S=b(),M=i({inst:{value:S,getSnapshot:b}}),A=M[0].inst,T=M[1];return r(function(){A.value=S,A.getSnapshot=b,h(A)&&T({inst:A})},[v,S,b]),a(function(){return h(A)&&T({inst:A}),v(function(){h(A)&&T({inst:A})})},[v]),l(S),S}function h(v){var b=v.getSnapshot;v=v.value;try{var S=b();return!t(v,S)}catch{return!0}}function m(v,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return $S.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,$S}var fA;function Kq(){return fA||(fA=1,JS.exports=Zq()),JS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function Qq(){if(dA)return QS;dA=1;var n=fr(),e=Kq();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,r=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return QS.useSyncExternalStoreWithSelector=function(m,g,v,b,S){var M=r(null);if(M.current===null){var A={hasValue:!1,value:null};M.current=A}else A=M.current;M=u(function(){function _(U){if(!L){if(L=!0,O=U,U=b(U),S!==void 0&&A.hasValue){var B=A.value;if(S(B,U))return F=B}return F=U}if(B=F,i(O,U))return B;var H=b(U);return S!==void 0&&S(B,H)?(O=U,B):(O=U,F=H)}var L=!1,O,F,D=v===void 0?null:v;return[function(){return _(g())},D===null?void 0:function(){return _(D())}]},[g,v,b,S]);var T=a(m,M[0],M[1]);return l(function(){A.hasValue=!0,A.value=T},[T]),h(T),T},QS}var hA;function Jq(){return hA||(hA=1,KS.exports=Qq()),KS.exports}var $q=Jq();const ej=k0($q),mA=n=>{let e;const t=new Set,i=(m,g)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const b=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(S=>S(e,b))}},a=()=>e,u={setState:i,getState:a,getInitialState:()=>h,subscribe:m=>(t.add(m),()=>t.delete(m))},h=e=n(i,a,u);return u},tj=(n=>n?mA(n):mA),{useSyncExternalStoreWithSelector:nj}=ej,ij=n=>n;function aj(n,e=ij,t){const i=nj(n.subscribe,n.getState,n.getInitialState,e,t);return p.useDebugValue(i),i}const pA=(n,e)=>{const t=tj(n),i=(a,r=e)=>aj(t,a,r);return Object.assign(i,t),i},sj=((n,e)=>n?pA(n,e):pA);var e1={exports:{}},t1={exports:{}},n1={exports:{}},i1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function rj(){return gA||(gA=1,(function(n){function e(k,z){var $=k.length;k.push(z);e:for(;0<$;){var X=$-1>>>1,N=k[X];if(0<a(N,z))k[X]=z,k[$]=N,$=X;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var z=k[0],$=k.pop();if($!==z){k[0]=$;e:for(var X=0,N=k.length,G=N>>>1;X<G;){var ae=2*(X+1)-1,fe=k[ae],ce=ae+1,_e=k[ce];if(0>a(fe,$))ce<N&&0>a(_e,fe)?(k[X]=_e,k[ce]=$,X=ce):(k[X]=fe,k[ae]=$,X=ae);else if(ce<N&&0>a(_e,$))k[X]=_e,k[ce]=$,X=ce;else break e}}return z}function a(k,z){var $=k.sortIndex-z.sortIndex;return $!==0?$:k.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],m=[],g=1,v=null,b=3,S=!1,M=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(k){for(var z=t(m);z!==null;){if(z.callback===null)i(m);else if(z.startTime<=k)i(m),z.sortIndex=z.expirationTime,e(h,z);else break;z=t(m)}}function F(k){if(A=!1,O(k),!M)if(t(h)!==null)M=!0,Y();else{var z=t(m);z!==null&&ne(F,z.startTime-k)}}var D=!1,U=-1,B=5,H=-1;function I(){return!(n.unstable_now()-H<B)}function P(){if(D){var k=n.unstable_now();H=k;var z=!0;try{e:{M=!1,A&&(A=!1,_(U),U=-1),S=!0;var $=b;try{t:{for(O(k),v=t(h);v!==null&&!(v.expirationTime>k&&I());){var X=v.callback;if(typeof X=="function"){v.callback=null,b=v.priorityLevel;var N=X(v.expirationTime<=k);if(k=n.unstable_now(),typeof N=="function"){v.callback=N,O(k),z=!0;break t}v===t(h)&&i(h),O(k)}else i(h);v=t(h)}if(v!==null)z=!0;else{var G=t(m);G!==null&&ne(F,G.startTime-k),z=!1}}break e}finally{v=null,b=$,S=!1}z=void 0}}finally{z?j():D=!1}}}var j;if(typeof L=="function")j=function(){L(P)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,W=Z.port2;Z.port1.onmessage=P,j=function(){W.postMessage(null)}}else j=function(){T(P,0)};function Y(){D||(D=!0,j())}function ne(k,z){U=T(function(){k(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){M||S||(M=!0,Y())},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var $=b;b=z;try{return k()}finally{b=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=b;b=k;try{return z()}finally{b=$}},n.unstable_scheduleCallback=function(k,z,$){var X=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=$+N,k={id:g++,callback:z,priorityLevel:k,startTime:$,expirationTime:N,sortIndex:-1},$>X?(k.sortIndex=$,e(m,k),t(h)===null&&k===t(m)&&(A?(_(U),U=-1):A=!0,ne(F,$-X))):(k.sortIndex=N,e(h,k),M||S||(M=!0,Y())),k},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(k){var z=b;return function(){var $=b;b=z;try{return k.apply(this,arguments)}finally{b=$}}}})(i1)),i1}var xA;function oj(){return xA||(xA=1,n1.exports=rj()),n1.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function lj(){return vA||(vA=1,(function(n){n.exports=function(e){function t(c,f,y,w){return new Xm(c,f,y,w)}function i(){}function a(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return c===null||typeof c!="object"?null:(c=eo&&c[eo]||c["@@iterator"],typeof c=="function"?c:null)}function l(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Km?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Ho:return"Fragment";case Ss:return"Portal";case Nd:return"Profiler";case ef:return"StrictMode";case Rd:return"Suspense";case Oc:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Zs:return(c.displayName||"Context")+".Provider";case Ym:return(c._context.displayName||"Context")+".Consumer";case nf:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Dd:return f=c.displayName||null,f!==null?f:l(c.type)||"Memo";case Es:f=c._payload,c=c._init;try{return l(c(f))}catch{}}return null}function u(c){if(gr===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);gr=f&&f[1]||"",to=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gr+c+to}function h(c,f){if(!c||Ml)return"";Ml=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Zt){var pt=Zt}Reflect.construct(c,[],ft)}else{try{ft.call()}catch(Zt){pt=Zt}c.call(ft.prototype)}}else{try{throw Error()}catch(Zt){pt=Zt}(ft=c())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Zt){if(Zt&&pt&&typeof Zt.stack=="string")return[Zt.stack,pt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=w.DetermineComponentFrameRoot(),te=V[0],ue=V[1];if(te&&ue){var be=te.split(`
`),Fe=ue.split(`
`);for(R=w=0;w<be.length&&!be[w].includes("DetermineComponentFrameRoot");)w++;for(;R<Fe.length&&!Fe[R].includes("DetermineComponentFrameRoot");)R++;if(w===be.length||R===Fe.length)for(w=be.length-1,R=Fe.length-1;1<=w&&0<=R&&be[w]!==Fe[R];)R--;for(;1<=w&&0<=R;w--,R--)if(be[w]!==Fe[R]){if(w!==1||R!==1)do if(w--,R--,0>R||be[w]!==Fe[R]){var nt=`
`+be[w].replace(" at new "," at ");return c.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",c.displayName)),nt}while(1<=w&&0<=R);break}}}finally{Ml=!1,Error.prepareStackTrace=y}return(y=c?c.displayName||c.name:"")?u(y):""}function m(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=h(c.type,!1),c;case 11:return c=h(c.type.render,!1),c;case 1:return c=h(c.type,!0),c;default:return""}}function g(c){try{var f="";do f+=m(c),c=c.return;while(c);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function b(c){if(v(c)!==c)throw Error(a(188))}function S(c){var f=c.alternate;if(!f){if(f=v(c),f===null)throw Error(a(188));return f!==c?null:c}for(var y=c,w=f;;){var R=y.return;if(R===null)break;var V=R.alternate;if(V===null){if(w=R.return,w!==null){y=w;continue}break}if(R.child===V.child){for(V=R.child;V;){if(V===y)return b(R),c;if(V===w)return b(R),f;V=V.sibling}throw Error(a(188))}if(y.return!==w.return)y=R,w=V;else{for(var te=!1,ue=R.child;ue;){if(ue===y){te=!0,y=R,w=V;break}if(ue===w){te=!0,w=R,y=V;break}ue=ue.sibling}if(!te){for(ue=V.child;ue;){if(ue===y){te=!0,y=V,w=R;break}if(ue===w){te=!0,w=V,y=R;break}ue=ue.sibling}if(!te)throw Error(a(189))}}if(y.alternate!==w)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?c:f}function M(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=M(c),f!==null)return f;c=c.sibling}return null}function A(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=A(c),f!==null))return f;c=c.sibling}return null}function T(c){return{current:c}}function _(c){0>so||(c.current=mi[so],mi[so]=null,so--)}function L(c,f){so++,mi[so]=c.current,c.current=f}function O(c){return c>>>=0,c===0?32:31-(gx(c)/xx|0)|0}function F(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function D(c,f){var y=c.pendingLanes;if(y===0)return 0;var w=0,R=c.suspendedLanes,V=c.pingedLanes,te=c.warmLanes;c=c.finishedLanes!==0;var ue=y&134217727;return ue!==0?(y=ue&~R,y!==0?w=F(y):(V&=ue,V!==0?w=F(V):c||(te=ue&~te,te!==0&&(w=F(te))))):(ue=y&~R,ue!==0?w=F(ue):V!==0?w=F(V):c||(te=y&~te,te!==0&&(w=F(te)))),w===0?0:f!==0&&f!==w&&(f&R)===0&&(R=w&-w,te=f&-f,R>=te||R===32&&(te&4194176)!==0)?f:w}function U(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function B(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var c=vr;return vr<<=1,(vr&4194176)===0&&(vr=128),c}function I(){var c=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),c}function P(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function j(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Z(c,f,y,w,R,V){var te=c.pendingLanes;c.pendingLanes=y,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=y,c.entangledLanes&=y,c.errorRecoveryDisabledLanes&=y,c.shellSuspendCounter=0;var ue=c.entanglements,be=c.expirationTimes,Fe=c.hiddenUpdates;for(y=te&~y;0<y;){var nt=31-Sa(y),ft=1<<nt;ue[nt]=0,be[nt]=-1;var pt=Fe[nt];if(pt!==null)for(Fe[nt]=null,nt=0;nt<pt.length;nt++){var Zt=pt[nt];Zt!==null&&(Zt.lane&=-536870913)}y&=~ft}w!==0&&W(c,w,0),V!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=V&~(te&~f))}function W(c,f,y){c.pendingLanes|=f,c.suspendedLanes&=~f;var w=31-Sa(f);c.entangledLanes|=f,c.entanglements[w]=c.entanglements[w]|1073741824|y&4194218}function Y(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var w=31-Sa(y),R=1<<w;R&f|c[w]&f&&(c[w]|=f),y&=~R}}function ne(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function k(c){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(pi,c,void 0,(c.current.flags&128)===128)}catch{}}function z(c){if(typeof bx=="function"&&ji(c),Pa&&typeof Pa.setStrictMode=="function")try{Pa.setStrictMode(pi,c)}catch{}}function $(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function X(c,f){if(typeof c=="object"&&c!==null){var y=pp.get(c);return y!==void 0?y:(f={value:c,source:f,stack:g(f)},pp.set(c,f),f)}return{value:c,source:f,stack:g(f)}}function N(c,f){Cl[Nl++]=Hc,Cl[Nl++]=Rl,Rl=c,Hc=f}function G(c,f,y){ns[is++]=Js,ns[is++]=$s,ns[is++]=Yo,Yo=c;var w=Js;c=$s;var R=32-Sa(w)-1;w&=~(1<<R),y+=1;var V=32-Sa(f)+R;if(30<V){var te=R-R%5;V=(w&(1<<te)-1).toString(32),w>>=te,R-=te,Js=1<<32-Sa(f)+R|y<<R|w,$s=V+c}else Js=1<<V|y<<R|w,$s=c}function ae(c){c.return!==null&&(N(c,1),G(c,1,0))}function fe(c){for(;c===Rl;)Rl=Cl[--Nl],Cl[Nl]=null,Hc=Cl[--Nl],Cl[Nl]=null;for(;c===Yo;)Yo=ns[--is],ns[is]=null,$s=ns[--is],ns[is]=null,Js=ns[--is],ns[is]=null}function ce(c,f){L(yr,f),L(kc,c),L(Ui,null),c=Pg(f),_(Ui),L(Ui,c)}function _e(){_(Ui),_(kc),_(yr)}function oe(c){c.memoizedState!==null&&L(Dl,c);var f=Ui.current,y=zc(f,c.type);f!==y&&(L(kc,c),L(Ui,y))}function me(c){kc.current===c&&(_(Ui),_(kc)),Dl.current===c&&(_(Dl),ba?Ks._currentValue=Go:Ks._currentValue2=Go)}function Oe(c){var f=Error(a(418,""));throw tt(X(f,c)),df}function Ye(c,f){if(!ia)throw Error(a(175));rx(c.stateNode,c.type,c.memoizedProps,f,c)||Oe(c)}function Ie(c){for(aa=c.return;aa;)switch(aa.tag){case 3:case 27:Xi=!0;return;case 5:case 13:Xi=!1;return;default:aa=aa.return}}function rt(c){if(!ia||c!==aa)return!1;if(!xn)return Ie(c),xn=!0,!1;var f=!1;if(Bn?c.tag!==3&&c.tag!==27&&(c.tag!==5||Vd(c.type)&&!Jt(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||Vd(c.type)&&!Jt(c.type,c.memoizedProps))&&(f=!0),f&&sa&&Oe(c),Ie(c),c.tag===13){if(!ia)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));sa=lx(c)}else sa=aa?fp(c.stateNode):null;return!0}function yt(){ia&&(sa=aa=null,xn=!1)}function tt(c){Ts===null?Ts=[c]:Ts.push(c)}function Ae(){for(var c=Ol,f=er=Ol=0;f<c;){var y=As[f];As[f++]=null;var w=As[f];As[f++]=null;var R=As[f];As[f++]=null;var V=As[f];if(As[f++]=null,w!==null&&R!==null){var te=w.pending;te===null?R.next=R:(R.next=te.next,te.next=R),w.pending=R}V!==0&&Xe(y,R,V)}}function ie(c,f,y,w){As[Ol++]=c,As[Ol++]=f,As[Ol++]=y,As[Ol++]=w,er|=w,c.lanes|=w,c=c.alternate,c!==null&&(c.lanes|=w)}function Be(c,f,y,w){return ie(c,f,y,w),He(c)}function Te(c,f){return ie(c,null,null,f),He(c)}function Xe(c,f,y){c.lanes|=y;var w=c.alternate;w!==null&&(w.lanes|=y);for(var R=!1,V=c.return;V!==null;)V.childLanes|=y,w=V.alternate,w!==null&&(w.childLanes|=y),V.tag===22&&(c=V.stateNode,c===null||c._visibility&1||(R=!0)),c=V,V=V.return;R&&f!==null&&c.tag===3&&(V=c.stateNode,R=31-Sa(y),V=V.hiddenUpdates,c=V[R],c===null?V[R]=[f]:c.push(f),f.lane=y|536870912)}function He(c){if(50<Qc)throw Qc=0,th=null,Error(a(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function Qe(c){c!==ro&&c.next===null&&(ro===null?hf=ro=c:ro=ro.next=c),jn=!0,Ll||(Ll=!0,Pe(ut))}function Ze(c,f){if(!gp&&jn){gp=!0;do for(var y=!1,w=hf;w!==null;){if(c!==0){var R=w.pendingLanes;if(R===0)var V=0;else{var te=w.suspendedLanes,ue=w.pingedLanes;V=(1<<31-Sa(42|c)+1)-1,V&=R&~(te&~ue),V=V&201326677?V&201326677|1:V?V|2:0}V!==0&&(y=!0,ye(w,V))}else V=hn,V=D(w,w===Rn?V:0),(V&3)===0||U(w,V)||(y=!0,ye(w,V));w=w.next}while(y);gp=!1}}function ut(){jn=Ll=!1;var c=0;Gc!==0&&(Fg()&&(c=Gc),Gc=0);for(var f=ws(),y=null,w=hf;w!==null;){var R=w.next,V=se(w,f);V===0?(w.next=null,y===null?hf=R:y.next=R,R===null&&(ro=y)):(y=w,(c!==0||(V&3)!==0)&&(jn=!0)),w=R}Ze(c)}function se(c,f){for(var y=c.suspendedLanes,w=c.pingedLanes,R=c.expirationTimes,V=c.pendingLanes&-62914561;0<V;){var te=31-Sa(V),ue=1<<te,be=R[te];be===-1?((ue&y)===0||(ue&w)!==0)&&(R[te]=B(ue,f)):be<=f&&(c.expiredLanes|=ue),V&=~ue}if(f=Rn,y=hn,y=D(c,c===f?y:0),w=c.callbackNode,y===0||c===f&&Pn===2||c.cancelPendingCommit!==null)return w!==null&&w!==null&&qd(w),c.callbackNode=null,c.callbackPriority=0;if((y&3)===0||U(c,y)){if(f=y&-y,f===c.callbackPriority)return f;switch(w!==null&&qd(w),ne(y)){case 2:case 8:y=yx;break;case 32:y=Wd;break;case 268435456:y=c_;break;default:y=Wd}return w=Q.bind(null,c),y=ff(y,w),c.callbackPriority=f,c.callbackNode=y,f}return w!==null&&w!==null&&qd(w),c.callbackPriority=2,c.callbackNode=null,2}function Q(c,f){var y=c.callbackNode;if(Ys()&&c.callbackNode!==y)return null;var w=hn;return w=D(c,c===Rn?w:0),w===0?null:(zo(c,w,f),se(c,ws()),c.callbackNode!=null&&c.callbackNode===y?Q.bind(null,c):null)}function ye(c,f){if(Ys())return null;zo(c,f,!0)}function Pe(c){tp?ao(function(){(bn&6)!==0?ff(Xd,c):c()}):ff(Xd,c)}function ze(){return Gc===0&&(Gc=H()),Gc}function Ce(c,f){if(qc===null){var y=qc=[];Ul=0,as=ze(),Pl={status:"pending",value:void 0,then:function(w){y.push(w)}}}return Ul++,f.then(mt,mt),f}function mt(){if(--Ul===0&&qc!==null){Pl!==null&&(Pl.status="fulfilled");var c=qc;qc=null,as=0,Pl=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function ot(c,f){var y=[],w={status:"pending",value:null,reason:null,then:function(R){y.push(R)}};return c.then(function(){w.status="fulfilled",w.value=f;for(var R=0;R<y.length;R++)(0,y[R])(f)},function(R){for(w.status="rejected",w.reason=R,R=0;R<y.length;R++)(0,y[R])(void 0)}),w}function At(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function St(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Ge(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Je(c,f,y){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(bn&2)!==0){var R=w.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),w.pending=f,f=He(c),Xe(c,null,y),f}return ie(c,w,f,y),He(c)}function wt(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194176)!==0)){var w=f.lanes;w&=c.pendingLanes,y|=w,f.lanes=y,Y(c,y)}}function Ct(c,f){var y=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var R=null,V=null;if(y=y.firstBaseUpdate,y!==null){do{var te={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};V===null?R=V=te:V=V.next=te,y=y.next}while(y!==null);V===null?R=V=f:V=V.next=f}else R=V=f;y={baseState:w.baseState,firstBaseUpdate:R,lastBaseUpdate:V,shared:w.shared,callbacks:w.callbacks},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function lt(){if(zl){var c=Pl;if(c!==null)throw c}}function Ut(c,f,y,w){zl=!1;var R=c.updateQueue;oo=!1;var V=R.firstBaseUpdate,te=R.lastBaseUpdate,ue=R.shared.pending;if(ue!==null){R.shared.pending=null;var be=ue,Fe=be.next;be.next=null,te===null?V=Fe:te.next=Fe,te=be;var nt=c.alternate;nt!==null&&(nt=nt.updateQueue,ue=nt.lastBaseUpdate,ue!==te&&(ue===null?nt.firstBaseUpdate=Fe:ue.next=Fe,nt.lastBaseUpdate=be))}if(V!==null){var ft=R.baseState;te=0,nt=Fe=be=null,ue=V;do{var pt=ue.lane&-536870913,Zt=pt!==ue.lane;if(Zt?(hn&pt)===pt:(w&pt)===pt){pt!==0&&pt===as&&(zl=!0),nt!==null&&(nt=nt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var ds=c,il=ue;pt=f;var al=y;switch(il.tag){case 1:if(ds=il.payload,typeof ds=="function"){ft=ds.call(al,ft,pt);break e}ft=ds;break e;case 3:ds.flags=ds.flags&-65537|128;case 0:if(ds=il.payload,pt=typeof ds=="function"?ds.call(al,ft,pt):ds,pt==null)break e;ft=Cd({},ft,pt);break e;case 2:oo=!0}}pt=ue.callback,pt!==null&&(c.flags|=64,Zt&&(c.flags|=8192),Zt=R.callbacks,Zt===null?R.callbacks=[pt]:Zt.push(pt))}else Zt={lane:pt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},nt===null?(Fe=nt=Zt,be=ft):nt=nt.next=Zt,te|=pt;if(ue=ue.next,ue===null){if(ue=R.shared.pending,ue===null)break;Zt=ue,ue=Zt.next,Zt.next=null,R.lastBaseUpdate=Zt,R.shared.pending=null}}while(!0);nt===null&&(be=ft),R.baseState=be,R.firstBaseUpdate=Fe,R.lastBaseUpdate=nt,V===null&&(R.shared.lanes=0),us|=te,c.lanes=te,c.memoizedState=ft}}function de(c,f){if(typeof c!="function")throw Error(a(191,c));c.call(f)}function ct(c,f){var y=c.callbacks;if(y!==null)for(c.callbacks=null,c=0;c<y.length;c++)de(y[c],f)}function it(c,f){if(za(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),w=Object.keys(f);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var R=y[w];if(!br.call(f,R)||!za(c[R],f[R]))return!1}return!0}function at(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ke(){}function qe(c,f,y){switch(y=c[y],y===void 0?c.push(f):y!==f&&(f.then(Ke,Ke),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===jc?Error(a(483)):c;default:if(typeof f.status=="string")f.then(Ke,Ke);else{if(c=Rn,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=f,c.status="pending",c.then(function(w){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=w}},function(w){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===jc?Error(a(483)):c}throw Zo=f,jc}}function _t(){if(Zo===null)throw Error(a(459));var c=Zo;return Zo=null,c}function zt(c){var f=Qo;return Qo+=1,Ko===null&&(Ko=[]),qe(Ko,c,f)}function vn(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function gn(c,f){throw f.$$typeof===n_?Error(a(525)):(c=Object.prototype.toString.call(f),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Wa(c){var f=c._init;return f(c._payload)}function ui(c){function f(Me,he){if(c){var De=Me.deletions;De===null?(Me.deletions=[he],Me.flags|=16):De.push(he)}}function y(Me,he){if(!c)return null;for(;he!==null;)f(Me,he),he=he.sibling;return null}function w(Me){for(var he=new Map;Me!==null;)Me.key!==null?he.set(Me.key,Me):he.set(Me.index,Me),Me=Me.sibling;return he}function R(Me,he){return Me=_s(Me,he),Me.index=0,Me.sibling=null,Me}function V(Me,he,De){return Me.index=De,c?(De=Me.alternate,De!==null?(De=De.index,De<he?(Me.flags|=33554434,he):De):(Me.flags|=33554434,he)):(Me.flags|=1048576,he)}function te(Me){return c&&Me.alternate===null&&(Me.flags|=33554434),Me}function ue(Me,he,De,$e){return he===null||he.tag!==6?(he=Td(De,Me.mode,$e),he.return=Me,he):(he=R(he,De),he.return=Me,he)}function be(Me,he,De,$e){var Dt=De.type;return Dt===Ho?nt(Me,he,De.props.children,$e,De.key):he!==null&&(he.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Es&&Wa(Dt)===he.type)?(he=R(he,De.props),vn(he,De),he.return=Me,he):(he=pr(De.type,De.key,De.props,null,Me.mode,$e),vn(he,De),he.return=Me,he)}function Fe(Me,he,De,$e){return he===null||he.tag!==4||he.stateNode.containerInfo!==De.containerInfo||he.stateNode.implementation!==De.implementation?(he=Wm(De,Me.mode,$e),he.return=Me,he):(he=R(he,De.children||[]),he.return=Me,he)}function nt(Me,he,De,$e,Dt){return he===null||he.tag!==7?(he=ai(De,Me.mode,$e,Dt),he.return=Me,he):(he=R(he,De),he.return=Me,he)}function ft(Me,he,De){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=Td(""+he,Me.mode,De),he.return=Me,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case $u:return De=pr(he.type,he.key,he.props,null,Me.mode,De),vn(De,he),De.return=Me,De;case Ss:return he=Wm(he,Me.mode,De),he.return=Me,he;case Es:var $e=he._init;return he=$e(he._payload),ft(Me,he,De)}if(Lc(he)||r(he))return he=ai(he,Me.mode,De,null),he.return=Me,he;if(typeof he.then=="function")return ft(Me,zt(he),De);if(he.$$typeof===Zs)return ft(Me,Iu(Me,he),De);gn(Me,he)}return null}function pt(Me,he,De,$e){var Dt=he!==null?he.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Dt!==null?null:ue(Me,he,""+De,$e);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case $u:return De.key===Dt?be(Me,he,De,$e):null;case Ss:return De.key===Dt?Fe(Me,he,De,$e):null;case Es:return Dt=De._init,De=Dt(De._payload),pt(Me,he,De,$e)}if(Lc(De)||r(De))return Dt!==null?null:nt(Me,he,De,$e,null);if(typeof De.then=="function")return pt(Me,he,zt(De),$e);if(De.$$typeof===Zs)return pt(Me,he,Iu(Me,De),$e);gn(Me,De)}return null}function Zt(Me,he,De,$e,Dt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Me=Me.get(De)||null,ue(he,Me,""+$e,Dt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case $u:return Me=Me.get($e.key===null?De:$e.key)||null,be(he,Me,$e,Dt);case Ss:return Me=Me.get($e.key===null?De:$e.key)||null,Fe(he,Me,$e,Dt);case Es:var Jn=$e._init;return $e=Jn($e._payload),Zt(Me,he,De,$e,Dt)}if(Lc($e)||r($e))return Me=Me.get(De)||null,nt(he,Me,$e,Dt,null);if(typeof $e.then=="function")return Zt(Me,he,De,zt($e),Dt);if($e.$$typeof===Zs)return Zt(Me,he,De,Iu(he,$e),Dt);gn(he,$e)}return null}function ds(Me,he,De,$e){for(var Dt=null,Jn=null,kt=he,Mn=he=0,gi=null;kt!==null&&Mn<De.length;Mn++){kt.index>Mn?(gi=kt,kt=null):gi=kt.sibling;var dn=pt(Me,kt,De[Mn],$e);if(dn===null){kt===null&&(kt=gi);break}c&&kt&&dn.alternate===null&&f(Me,kt),he=V(dn,he,Mn),Jn===null?Dt=dn:Jn.sibling=dn,Jn=dn,kt=gi}if(Mn===De.length)return y(Me,kt),xn&&N(Me,Mn),Dt;if(kt===null){for(;Mn<De.length;Mn++)kt=ft(Me,De[Mn],$e),kt!==null&&(he=V(kt,he,Mn),Jn===null?Dt=kt:Jn.sibling=kt,Jn=kt);return xn&&N(Me,Mn),Dt}for(kt=w(kt);Mn<De.length;Mn++)gi=Zt(kt,Me,Mn,De[Mn],$e),gi!==null&&(c&&gi.alternate!==null&&kt.delete(gi.key===null?Mn:gi.key),he=V(gi,he,Mn),Jn===null?Dt=gi:Jn.sibling=gi,Jn=gi);return c&&kt.forEach(function(Cr){return f(Me,Cr)}),xn&&N(Me,Mn),Dt}function il(Me,he,De,$e){if(De==null)throw Error(a(151));for(var Dt=null,Jn=null,kt=he,Mn=he=0,gi=null,dn=De.next();kt!==null&&!dn.done;Mn++,dn=De.next()){kt.index>Mn?(gi=kt,kt=null):gi=kt.sibling;var Cr=pt(Me,kt,dn.value,$e);if(Cr===null){kt===null&&(kt=gi);break}c&&kt&&Cr.alternate===null&&f(Me,kt),he=V(Cr,he,Mn),Jn===null?Dt=Cr:Jn.sibling=Cr,Jn=Cr,kt=gi}if(dn.done)return y(Me,kt),xn&&N(Me,Mn),Dt;if(kt===null){for(;!dn.done;Mn++,dn=De.next())dn=ft(Me,dn.value,$e),dn!==null&&(he=V(dn,he,Mn),Jn===null?Dt=dn:Jn.sibling=dn,Jn=dn);return xn&&N(Me,Mn),Dt}for(kt=w(kt);!dn.done;Mn++,dn=De.next())dn=Zt(kt,Me,Mn,dn.value,$e),dn!==null&&(c&&dn.alternate!==null&&kt.delete(dn.key===null?Mn:dn.key),he=V(dn,he,Mn),Jn===null?Dt=dn:Jn.sibling=dn,Jn=dn);return c&&kt.forEach(function(nh){return f(Me,nh)}),xn&&N(Me,Mn),Dt}function al(Me,he,De,$e){if(typeof De=="object"&&De!==null&&De.type===Ho&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case $u:e:{for(var Dt=De.key;he!==null;){if(he.key===Dt){if(Dt=De.type,Dt===Ho){if(he.tag===7){y(Me,he.sibling),$e=R(he,De.props.children),$e.return=Me,Me=$e;break e}}else if(he.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Es&&Wa(Dt)===he.type){y(Me,he.sibling),$e=R(he,De.props),vn($e,De),$e.return=Me,Me=$e;break e}y(Me,he);break}else f(Me,he);he=he.sibling}De.type===Ho?($e=ai(De.props.children,Me.mode,$e,De.key),$e.return=Me,Me=$e):($e=pr(De.type,De.key,De.props,null,Me.mode,$e),vn($e,De),$e.return=Me,Me=$e)}return te(Me);case Ss:e:{for(Dt=De.key;he!==null;){if(he.key===Dt)if(he.tag===4&&he.stateNode.containerInfo===De.containerInfo&&he.stateNode.implementation===De.implementation){y(Me,he.sibling),$e=R(he,De.children||[]),$e.return=Me,Me=$e;break e}else{y(Me,he);break}else f(Me,he);he=he.sibling}$e=Wm(De,Me.mode,$e),$e.return=Me,Me=$e}return te(Me);case Es:return Dt=De._init,De=Dt(De._payload),al(Me,he,De,$e)}if(Lc(De))return ds(Me,he,De,$e);if(r(De)){if(Dt=r(De),typeof Dt!="function")throw Error(a(150));return De=Dt.call(De),il(Me,he,De,$e)}if(typeof De.then=="function")return al(Me,he,zt(De),$e);if(De.$$typeof===Zs)return al(Me,he,Iu(Me,De),$e);gn(Me,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,he!==null&&he.tag===6?(y(Me,he.sibling),$e=R(he,De),$e.return=Me,Me=$e):(y(Me,he),$e=Td(De,Me.mode,$e),$e.return=Me,Me=$e),te(Me)):y(Me,he)}return function(Me,he,De,$e){try{Qo=0;var Dt=al(Me,he,De,$e);return Ko=null,Dt}catch(kt){if(kt===jc)throw kt;var Jn=t(29,kt,null,Me.mode);return Jn.lanes=$e,Jn.return=Me,Jn}finally{}}}function Ri(c,f){c=da,L(Xc,c),L(Xn,f),da=c|f.baseLanes}function Di(){L(Xc,da),L(Xn,Xn.current)}function Gs(){da=Xc.current,_(Xn),_(Xc)}function Hi(c){var f=c.alternate;L(Pi,Pi.current&1),L(ss,c),In===null&&(f===null||Xn.current!==null||f.memoizedState!==null)&&(In=c)}function cc(c){if(c.tag===22){if(L(Pi,Pi.current),L(ss,c),In===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(In=c)}}else qs()}function qs(){L(Pi,Pi.current),L(ss,ss.current)}function Ya(c){_(ss),In===c&&(In=null),_(Pi)}function Za(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Bd(y)||Id(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function kn(){throw Error(a(321))}function Ka(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!za(c[y],f[y]))return!1;return!0}function js(c,f,y,w,R,V){return lo=V,nn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ht.H=c===null||c.memoizedState===null?el:Ea,$o=!1,V=y(w,R),$o=!1,Bl&&(V=Vr(f,y,w,R)),Fr(c),V}function Fr(c){Ht.H=si;var f=Bt!==null&&Bt.next!==null;if(lo=0,yn=Bt=nn=null,Cs=!1,Il=0,Wi=null,f)throw Error(a(300));c===null||Fn||(c=c.dependencies,c!==null&&Bu(c)&&(Fn=!0))}function Vr(c,f,y,w){nn=c;var R=0;do{if(Bl&&(Wi=null),Il=0,Bl=!1,25<=R)throw Error(a(301));if(R+=1,yn=Bt=null,c.updateQueue!=null){var V=c.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}Ht.H=rs,V=f(y,w)}while(Bl);return V}function bi(){var c=Ht.H,f=c.useState()[0];return f=typeof f.then=="function"?xe(f):f,c=c.useState()[0],(Bt!==null?Bt.memoizedState:null)!==c&&(nn.flags|=1024),f}function uc(){var c=Yd!==0;return Yd=0,c}function fc(c,f,y){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~y}function Xs(c){if(Cs){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Cs=!1}lo=0,yn=Bt=nn=null,Bl=!1,Il=Yd=0,Wi=null}function fi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?nn.memoizedState=yn=c:yn=yn.next=c,yn}function ee(){if(Bt===null){var c=nn.alternate;c=c!==null?c.memoizedState:null}else c=Bt.next;var f=yn===null?nn.memoizedState:yn.next;if(f!==null)yn=f,Bt=c;else{if(c===null)throw nn.alternate===null?Error(a(467)):Error(a(310));Bt=c,c={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},yn===null?nn.memoizedState=yn=c:yn=yn.next=c}return yn}function xe(c){var f=Il;return Il+=1,Wi===null&&(Wi=[]),c=qe(Wi,c,f),f=nn,(yn===null?f.memoizedState:yn.next)===null&&(f=f.alternate,Ht.H=f===null||f.memoizedState===null?el:Ea),c}function Ne(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return xe(c);if(c.$$typeof===Zs)return $i(c)}throw Error(a(438,String(c)))}function Le(c){var f=null,y=nn.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var w=nn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=Zd(),nn.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(c),w=0;w<c;w++)y[w]=Ug;return f.index++,y}function ge(c,f){return typeof f=="function"?f(c):f}function et(c){var f=ee();return st(f,Bt,c)}function st(c,f,y){var w=c.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=y;var R=c.baseQueue,V=w.pending;if(V!==null){if(R!==null){var te=R.next;R.next=V.next,V.next=te}f.baseQueue=R=V,w.pending=null}if(V=c.baseState,R===null)c.memoizedState=V;else{f=R.next;var ue=te=null,be=null,Fe=f,nt=!1;do{var ft=Fe.lane&-536870913;if(ft!==Fe.lane?(hn&ft)===ft:(lo&ft)===ft){var pt=Fe.revertLane;if(pt===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),ft===as&&(nt=!0);else if((lo&pt)===pt){Fe=Fe.next,pt===as&&(nt=!0);continue}else ft={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},be===null?(ue=be=ft,te=V):be=be.next=ft,nn.lanes|=pt,us|=pt;ft=Fe.action,$o&&y(V,ft),V=Fe.hasEagerState?Fe.eagerState:y(V,ft)}else pt={lane:ft,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},be===null?(ue=be=pt,te=V):be=be.next=pt,nn.lanes|=ft,us|=ft;Fe=Fe.next}while(Fe!==null&&Fe!==f);if(be===null?te=V:be.next=ue,!za(V,c.memoizedState)&&(Fn=!0,nt&&(y=Pl,y!==null)))throw y;c.memoizedState=V,c.baseState=te,c.baseQueue=be,w.lastRenderedState=V}return R===null&&(w.lanes=0),[c.memoizedState,w.dispatch]}function bt(c){var f=ee(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=c;var w=y.dispatch,R=y.pending,V=f.memoizedState;if(R!==null){y.pending=null;var te=R=R.next;do V=c(V,te.action),te=te.next;while(te!==R);za(V,f.memoizedState)||(Fn=!0),f.memoizedState=V,f.baseQueue===null&&(f.baseState=V),y.lastRenderedState=V}return[V,w]}function xt(c,f,y){var w=nn,R=ee(),V=xn;if(V){if(y===void 0)throw Error(a(407));y=y()}else y=f();var te=!za((Bt||R).memoizedState,y);if(te&&(R.memoizedState=y,Fn=!0),R=R.queue,vm(Tt.bind(null,w,R,c),[c]),R.getSnapshot!==f||te||yn!==null&&yn.memoizedState.tag&1){if(w.flags|=2048,qn(9,Pt.bind(null,w,R,y,f),{destroy:void 0},null),Rn===null)throw Error(a(349));V||(lo&60)!==0||Nt(w,f,y)}return y}function Nt(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=nn.updateQueue,f===null?(f=Zd(),nn.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function Pt(c,f,y,w){f.value=y,f.getSnapshot=w,rn(f)&&Sn(c)}function Tt(c,f,y){return y(function(){rn(f)&&Sn(c)})}function rn(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!za(c,y)}catch{return!0}}function Sn(c){var f=Te(c,2);f!==null&&qi(f,c,2)}function fn(c){var f=fi();if(typeof c=="function"){var y=c;if(c=y(),$o){z(!0);try{y()}finally{z(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ge,lastRenderedState:c},f}function Gn(c,f,y,w){return c.baseState=y,st(c,Bt,typeof w=="function"?w:ge)}function On(c,f,y,w,R){if(Ou(c))throw Error(a(485));if(c=f.action,c!==null){var V={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){V.listeners.push(te)}};Ht.T!==null?y(!0):V.isTransition=!1,w(V),y=f.pending,y===null?(V.next=f.pending=V,Rt(f,V)):(V.next=y.next,f.pending=y.next=V)}}function Rt(c,f){var y=f.action,w=f.payload,R=c.state;if(f.isTransition){var V=Ht.T,te={};Ht.T=te;try{var ue=y(R,w),be=Ht.S;be!==null&&be(te,ue),zn(c,f,ue)}catch(Fe){Qi(c,f,Fe)}finally{Ht.T=V}}else try{V=y(R,w),zn(c,f,V)}catch(Fe){Qi(c,f,Fe)}}function zn(c,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(w){cn(c,f,w)},function(w){return Qi(c,f,w)}):cn(c,f,y)}function cn(c,f,y){f.status="fulfilled",f.value=y,_i(f),c.state=y,f=c.pending,f!==null&&(y=f.next,y===f?c.pending=null:(y=y.next,f.next=y,Rt(c,y)))}function Qi(c,f,y){var w=c.pending;if(c.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=y,_i(f),f=f.next;while(f!==w)}c.action=null}function _i(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function ki(c,f){return f}function Hr(c,f){if(xn){var y=Rn.formState;if(y!==null){e:{var w=nn;if(xn){if(sa){var R=up(sa,Xi);if(R){sa=fp(R),w=nx(R);break e}}Oe(w)}w=!1}w&&(f=y[0])}}y=fi(),y.memoizedState=y.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:f},y.queue=w,y=Sm.bind(null,nn,w),w.dispatch=y,w=fn(!1);var V=pc.bind(null,nn,!1,w.queue);return w=fi(),R={state:f,dispatch:null,action:c,pending:null},w.queue=R,y=On.bind(null,nn,R,V,y),R.dispatch=y,w.memoizedState=c,[f,y,!1]}function Un(c){var f=ee();return ii(f,Bt,c)}function ii(c,f,y){f=st(c,f,ki)[0],c=et(ge)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?xe(f):f;var w=ee(),R=w.queue,V=R.dispatch;return y!==w.memoizedState&&(nn.flags|=2048,qn(9,ga.bind(null,R,y),{destroy:void 0},null)),[f,V,c]}function ga(c,f){c.action=f}function Oi(c){var f=ee(),y=Bt;if(y!==null)return ii(f,y,c);ee(),f=f.memoizedState,y=ee();var w=y.queue.dispatch;return y.memoizedState=c,[f,w,!1]}function qn(c,f,y,w){return c={tag:c,create:f,inst:y,deps:w,next:null},f=nn.updateQueue,f===null&&(f=Zd(),nn.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=c.next=c:(w=y.next,y.next=c,c.next=w,f.lastEffect=c),c}function dc(){return ee().memoizedState}function Qa(c,f,y,w){var R=fi();nn.flags|=c,R.memoizedState=qn(1|f,y,{destroy:void 0},w===void 0?null:w)}function Cu(c,f,y,w){var R=ee();w=w===void 0?null:w;var V=R.memoizedState.inst;Bt!==null&&w!==null&&Ka(w,Bt.memoizedState.deps)?R.memoizedState=qn(f,y,V,w):(nn.flags|=c,R.memoizedState=qn(1|f,y,V,w))}function rd(c,f){Qa(8390656,8,c,f)}function vm(c,f){Cu(2048,8,c,f)}function dg(c,f){return Cu(4,2,c,f)}function Nu(c,f){return Cu(4,4,c,f)}function od(c,f){if(typeof f=="function"){c=c();var y=f(c);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function ld(c,f,y){y=y!=null?y.concat([c]):null,Cu(4,4,od.bind(null,f,c),y)}function To(){}function bl(c,f){var y=ee();f=f===void 0?null:f;var w=y.memoizedState;return f!==null&&Ka(f,w[1])?w[0]:(y.memoizedState=[c,f],c)}function ym(c,f){var y=ee();f=f===void 0?null:f;var w=y.memoizedState;if(f!==null&&Ka(f,w[1]))return w[0];if(w=c(),$o){z(!0);try{c()}finally{z(!1)}}return y.memoizedState=[w,f],w}function Ru(c,f,y){return y===void 0||(lo&1073741824)!==0?c.memoizedState=f:(c.memoizedState=y,c=Hm(),nn.lanes|=c,us|=c,y)}function bm(c,f,y,w){return za(y,f)?y:Xn.current!==null?(c=Ru(c,y,w),za(c,f)||(Fn=!0),c):(lo&42)===0?(Fn=!0,c.memoizedState=y):(c=Hm(),nn.lanes|=c,us|=c,f)}function hc(c,f,y,w,R){var V=io();ua(V!==0&&8>V?V:8);var te=Ht.T,ue={};Ht.T=ue,pc(c,!1,f,y);try{var be=R(),Fe=Ht.S;if(Fe!==null&&Fe(ue,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var nt=ot(be,w);Ao(c,f,nt,di(c))}else Ao(c,f,w,di(c))}catch(ft){Ao(c,f,{then:function(){},status:"rejected",reason:ft},di())}finally{ua(V),Ht.T=te}}function dr(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Go,baseState:Go,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ge,lastRenderedState:Go},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ge,lastRenderedState:y},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Du(){return $i(Ks)}function mc(){return ee().memoizedState}function kr(){return ee().memoizedState}function _m(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var y=di();c=Ge(y);var w=Je(f,c,y);w!==null&&(qi(w,f,y),wt(w,f,y)),f={cache:Do()},c.payload=f;return}f=f.return}}function cd(c,f,y){var w=di();y={lane:w,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Ou(c)?xa(f,y):(y=Be(c,f,y,w),y!==null&&(qi(y,c,w),Co(y,f,w)))}function Sm(c,f,y){var w=di();Ao(c,f,y,w)}function Ao(c,f,y,w){var R={lane:w,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Ou(c))xa(f,R);else{var V=c.alternate;if(c.lanes===0&&(V===null||V.lanes===0)&&(V=f.lastRenderedReducer,V!==null))try{var te=f.lastRenderedState,ue=V(te,y);if(R.hasEagerState=!0,R.eagerState=ue,za(ue,te))return ie(c,f,R,0),Rn===null&&Ae(),!1}catch{}finally{}if(y=Be(c,f,R,w),y!==null)return qi(y,c,w),Co(y,f,w),!0}return!1}function pc(c,f,y,w){if(w={lane:2,revertLane:ze(),action:w,hasEagerState:!1,eagerState:null,next:null},Ou(c)){if(f)throw Error(a(479))}else f=Be(c,y,w,2),f!==null&&qi(f,c,2)}function Ou(c){var f=c.alternate;return c===nn||f!==null&&f===nn}function xa(c,f){Bl=Cs=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function Co(c,f,y){if((y&4194176)!==0){var w=f.lanes;w&=c.pendingLanes,y|=w,f.lanes=y,Y(c,y)}}function gc(c,f,y,w){f=c.memoizedState,y=y(w,f),y=y==null?f:Cd({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}function xc(c,f,y,w,R,V,te){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,V,te):f.prototype&&f.prototype.isPureReactComponent?!it(y,w)||!it(R,V):!0}function hg(c,f,y,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,w),f.state!==c&&Sr.enqueueReplaceState(f,f.state,null)}function Gr(c,f){var y=f;if("ref"in f){y={};for(var w in f)w!=="ref"&&(y[w]=f[w])}if(c=c.defaultProps){y===f&&(y=Cd({},y));for(var R in c)y[R]===void 0&&(y[R]=c[R])}return y}function vc(c,f){try{var y=c.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function yc(c,f,y){try{var w=c.onCaughtError;w(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function bc(c,f,y){return y=Ge(y),y.tag=3,y.payload={element:null},y.callback=function(){vc(c,f)},y}function Em(c){return c=Ge(c),c.tag=3,c}function mg(c,f,y,w){var R=y.type.getDerivedStateFromError;if(typeof R=="function"){var V=w.value;c.payload=function(){return R(V)},c.callback=function(){yc(f,y,w)}}var te=y.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(c.callback=function(){yc(f,y,w),typeof R!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var ue=w.stack;this.componentDidCatch(w.value,{componentStack:ue!==null?ue:""})})}function Jb(c,f,y,w,R){if(y.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=y.alternate,f!==null&&zu(f,y,R,!0),y=ss.current,y!==null){switch(y.tag){case 13:return In===null?Qr():y.alternate===null&&Vn===0&&(Vn=3),y.flags&=-257,y.flags|=65536,y.lanes=R,w===pf?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([w]):f.add(w),El(c,w,R)),!1;case 22:return y.flags|=65536,w===pf?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([w]):y.add(w)),El(c,w,R)),!1}throw Error(a(435,y.tag))}return El(c,w,R),Qr(),!1}if(xn)return f=ss.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,w!==df&&(c=Error(a(422),{cause:w}),tt(X(c,y)))):(w!==df&&(f=Error(a(423),{cause:w}),tt(X(f,y))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,w=X(w,y),R=bc(c.stateNode,w,R),Ct(c,R),Vn!==4&&(Vn=2)),!1;var V=Error(a(520),{cause:w});if(V=X(V,y),Vl===null?Vl=[V]:Vl.push(V),Vn!==4&&(Vn=2),f===null)return!0;w=X(w,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,c=R&-R,y.lanes|=c,c=bc(y.stateNode,w,c),Ct(y,c),!1;case 1:if(f=y.type,V=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(tl===null||!tl.has(V))))return y.flags|=65536,R&=-R,y.lanes|=R,R=Em(R),mg(R,c,y,w),Ct(y,R),!1}y=y.return}while(y!==null);return!1}function Ji(c,f,y,w){f.child=c===null?_r(f,null,y,w):Jo(f,c.child,y,w)}function ud(c,f,y,w,R){y=y.render;var V=f.ref;if("ref"in w){var te={};for(var ue in w)ue!=="ref"&&(te[ue]=w[ue])}else te=w;return Ro(f),w=js(c,f,y,te,V,R),ue=uc(),c!==null&&!Fn?(fc(c,f,R),qr(c,f,R)):(xn&&ue&&ae(f),f.flags|=1,Ji(c,f,w,R),f.child)}function pg(c,f,y,w,R){if(c===null){var V=y.type;return typeof V=="function"&&!Zu(V)&&V.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=V,gg(c,f,V,w,R)):(c=pr(y.type,null,w,f,f.mode,R),c.ref=f.ref,c.return=f,f.child=c)}if(V=c.child,!Cm(c,R)){var te=V.memoizedProps;if(y=y.compare,y=y!==null?y:it,y(te,w)&&c.ref===f.ref)return qr(c,f,R)}return f.flags|=1,c=_s(V,w),c.ref=f.ref,c.return=f,f.child=c}function gg(c,f,y,w,R){if(c!==null){var V=c.memoizedProps;if(it(V,w)&&c.ref===f.ref)if(Fn=!1,f.pendingProps=w=V,Cm(c,R))(c.flags&131072)!==0&&(Fn=!0);else return f.lanes=c.lanes,qr(c,f,R)}return fd(c,f,y,w,R)}function xg(c,f,y){var w=f.pendingProps,R=w.children,V=(f.stateNode._pendingVisibility&2)!==0,te=c!==null?c.memoizedState:null;if(Lu(c,f),w.mode==="hidden"||V){if((f.flags&128)!==0){if(w=te!==null?te.baseLanes|y:y,c!==null){for(R=f.child=c.child,V=0;R!==null;)V=V|R.lanes|R.childLanes,R=R.sibling;f.childLanes=V&~w}else f.childLanes=0,f.child=null;return vg(c,f,w,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&hd(f,te!==null?te.cachePool:null),te!==null?Ri(f,te):Di(),cc(f);else return f.lanes=f.childLanes=536870912,vg(c,f,te!==null?te.baseLanes|y:y,y)}else te!==null?(hd(f,te.cachePool),Ri(f,te),qs(),f.memoizedState=null):(c!==null&&hd(f,null),Di(),qs());return Ji(c,f,R,y),f.child}function vg(c,f,y,w){var R=Rm();return R=R===null?null:{parent:ba?Wn._currentValue:Wn._currentValue2,pool:R},f.memoizedState={baseLanes:y,cachePool:R},c!==null&&hd(f,null),Di(),cc(f),c!==null&&zu(c,f,w,!0),null}function Lu(c,f){var y=f.ref;if(y===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(a(284));(c===null||c.ref!==y)&&(f.flags|=2097664)}}function fd(c,f,y,w,R){return Ro(f),y=js(c,f,y,w,void 0,R),w=uc(),c!==null&&!Fn?(fc(c,f,R),qr(c,f,R)):(xn&&w&&ae(f),f.flags|=1,Ji(c,f,y,R),f.child)}function yg(c,f,y,w,R,V){return Ro(f),f.updateQueue=null,y=Vr(f,w,y,R),Fr(c),w=uc(),c!==null&&!Fn?(fc(c,f,V),qr(c,f,V)):(xn&&w&&ae(f),f.flags|=1,Ji(c,f,y,V),f.child)}function bg(c,f,y,w,R){if(Ro(f),f.stateNode===null){var V=Wo,te=y.contextType;typeof te=="object"&&te!==null&&(V=$i(te)),V=new y(w,V),f.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=Sr,f.stateNode=V,V._reactInternals=f,V=f.stateNode,V.props=w,V.state=f.memoizedState,V.refs={},At(f),te=y.contextType,V.context=typeof te=="object"&&te!==null?$i(te):Wo,V.state=f.memoizedState,te=y.getDerivedStateFromProps,typeof te=="function"&&(gc(f,y,te,w),V.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(te=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),te!==V.state&&Sr.enqueueReplaceState(V,V.state,null),Ut(f,w,V,R),lt(),V.state=f.memoizedState),typeof V.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(c===null){V=f.stateNode;var ue=f.memoizedProps,be=Gr(y,ue);V.props=be;var Fe=V.context,nt=y.contextType;te=Wo,typeof nt=="object"&&nt!==null&&(te=$i(nt));var ft=y.getDerivedStateFromProps;nt=typeof ft=="function"||typeof V.getSnapshotBeforeUpdate=="function",ue=f.pendingProps!==ue,nt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ue||Fe!==te)&&hg(f,V,w,te),oo=!1;var pt=f.memoizedState;V.state=pt,Ut(f,w,V,R),lt(),Fe=f.memoizedState,ue||pt!==Fe||oo?(typeof ft=="function"&&(gc(f,y,ft,w),Fe=f.memoizedState),(be=oo||xc(f,y,be,w,pt,Fe,te))?(nt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(f.flags|=4194308)):(typeof V.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Fe),V.props=w,V.state=Fe,V.context=te,w=be):(typeof V.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{V=f.stateNode,St(c,f),te=f.memoizedProps,nt=Gr(y,te),V.props=nt,ft=f.pendingProps,pt=V.context,Fe=y.contextType,be=Wo,typeof Fe=="object"&&Fe!==null&&(be=$i(Fe)),ue=y.getDerivedStateFromProps,(Fe=typeof ue=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==ft||pt!==be)&&hg(f,V,w,be),oo=!1,pt=f.memoizedState,V.state=pt,Ut(f,w,V,R),lt();var Zt=f.memoizedState;te!==ft||pt!==Zt||oo||c!==null&&c.dependencies!==null&&Bu(c.dependencies)?(typeof ue=="function"&&(gc(f,y,ue,w),Zt=f.memoizedState),(nt=oo||xc(f,y,nt,w,pt,Zt,be)||c!==null&&c.dependencies!==null&&Bu(c.dependencies))?(Fe||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(w,Zt,be),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(w,Zt,be)),typeof V.componentDidUpdate=="function"&&(f.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof V.componentDidUpdate!="function"||te===c.memoizedProps&&pt===c.memoizedState||(f.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&pt===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=Zt),V.props=w,V.state=Zt,V.context=be,w=nt):(typeof V.componentDidUpdate!="function"||te===c.memoizedProps&&pt===c.memoizedState||(f.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&pt===c.memoizedState||(f.flags|=1024),w=!1)}return V=w,Lu(c,f),w=(f.flags&128)!==0,V||w?(V=f.stateNode,y=w&&typeof y.getDerivedStateFromError!="function"?null:V.render(),f.flags|=1,c!==null&&w?(f.child=Jo(f,c.child,null,R),f.child=Jo(f,null,y,R)):Ji(c,f,y,R),f.memoizedState=V.state,c=f.child):c=qr(c,f,R),c}function _g(c,f,y,w){return yt(),f.flags|=256,Ji(c,f,y,w),f.child}function Mm(c){return{baseLanes:c,cachePool:Dm()}}function Uu(c,f,y){return c=c!==null?c.childLanes&~y:0,f&&(c|=fs),c}function Sg(c,f,y){var w=f.pendingProps,R=!1,V=(f.flags&128)!==0,te;if((te=V)||(te=c!==null&&c.memoizedState===null?!1:(Pi.current&2)!==0),te&&(R=!0,f.flags&=-129),te=(f.flags&32)!==0,f.flags&=-33,c===null){if(xn){if(R?Hi(f):qs(),xn){var ue=sa,be;(be=ue)&&(ue=sx(ue,Xi),ue!==null?(f.memoizedState={dehydrated:ue,treeContext:Yo!==null?{id:Js,overflow:$s}:null,retryLane:536870912},be=t(18,null,null,0),be.stateNode=ue,be.return=f,f.child=be,aa=f,sa=null,be=!0):be=!1),be||Oe(f)}if(ue=f.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return Id(ue)?f.lanes=16:f.lanes=536870912,null;Ya(f)}return ue=w.children,w=w.fallback,R?(qs(),R=f.mode,ue=Tm({mode:"hidden",children:ue},R),w=ai(w,R,y,null),ue.return=f,w.return=f,ue.sibling=w,f.child=ue,R=f.child,R.memoizedState=Mm(y),R.childLanes=Uu(c,te,y),f.memoizedState=Jd,w):(Hi(f),wm(f,ue))}if(be=c.memoizedState,be!==null&&(ue=be.dehydrated,ue!==null)){if(V)f.flags&256?(Hi(f),f.flags&=-257,f=dd(c,f,y)):f.memoizedState!==null?(qs(),f.child=c.child,f.flags|=128,f=null):(qs(),R=w.fallback,ue=f.mode,w=Tm({mode:"visible",children:w.children},ue),R=ai(R,ue,y,null),R.flags|=2,w.return=f,R.return=f,w.sibling=R,f.child=w,Jo(f,c.child,null,y),w=f.child,w.memoizedState=Mm(y),w.childLanes=Uu(c,te,y),f.memoizedState=Jd,f=R);else if(Hi(f),Id(ue))te=ex(ue).digest,w=Error(a(419)),w.stack="",w.digest=te,tt({value:w,source:null,stack:null}),f=dd(c,f,y);else if(Fn||zu(c,f,y,!1),te=(y&c.childLanes)!==0,Fn||te){if(te=Rn,te!==null){if(w=y&-y,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(te.suspendedLanes|y))!==0?0:w,w!==0&&w!==be.retryLane)throw be.retryLane=w,Te(c,w),qi(te,c,w),Qd}Bd(ue)||Qr(),f=dd(c,f,y)}else Bd(ue)?(f.flags|=128,f.child=c.child,f=Jr.bind(null,c),tx(ue,f),f=null):(c=be.treeContext,ia&&(sa=ax(ue),aa=f,xn=!0,Ts=null,Xi=!1,c!==null&&(ns[is++]=Js,ns[is++]=$s,ns[is++]=Yo,Js=c.id,$s=c.overflow,Yo=f)),f=wm(f,w.children),f.flags|=4096);return f}return R?(qs(),R=w.fallback,ue=f.mode,be=c.child,V=be.sibling,w=_s(be,{mode:"hidden",children:w.children}),w.subtreeFlags=be.subtreeFlags&31457280,V!==null?R=_s(V,R):(R=ai(R,ue,y,null),R.flags|=2),R.return=f,w.return=f,w.sibling=R,f.child=w,w=R,R=f.child,ue=c.child.memoizedState,ue===null?ue=Mm(y):(be=ue.cachePool,be!==null?(V=ba?Wn._currentValue:Wn._currentValue2,be=be.parent!==V?{parent:V,pool:V}:be):be=Dm(),ue={baseLanes:ue.baseLanes|y,cachePool:be}),R.memoizedState=ue,R.childLanes=Uu(c,te,y),f.memoizedState=Jd,w):(Hi(f),y=c.child,c=y.sibling,y=_s(y,{mode:"visible",children:w.children}),y.return=f,y.sibling=null,c!==null&&(te=f.deletions,te===null?(f.deletions=[c],f.flags|=16):te.push(c)),f.child=y,f.memoizedState=null,y)}function wm(c,f){return f=Tm({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Tm(c,f){return Qu(c,f,0,null)}function dd(c,f,y){return Jo(f,c.child,null,y),c=wm(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Eg(c,f,y){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),Pu(c.return,f,y)}function Am(c,f,y,w,R){var V=c.memoizedState;V===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:R}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=w,V.tail=y,V.tailMode=R)}function Mg(c,f,y){var w=f.pendingProps,R=w.revealOrder,V=w.tail;if(Ji(c,f,w.children,y),w=Pi.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Eg(c,y,f);else if(c.tag===19)Eg(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}switch(L(Pi,w),R){case"forwards":for(y=f.child,R=null;y!==null;)c=y.alternate,c!==null&&Za(c)===null&&(R=y),y=y.sibling;y=R,y===null?(R=f.child,f.child=null):(R=y.sibling,y.sibling=null),Am(f,!1,R,y,V);break;case"backwards":for(y=null,R=f.child,f.child=null;R!==null;){if(c=R.alternate,c!==null&&Za(c)===null){f.child=R;break}c=R.sibling,R.sibling=y,y=R,R=c}Am(f,!0,y,null,V);break;case"together":Am(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function qr(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),us|=f.lanes,(y&f.childLanes)===0)if(c!==null){if(zu(c,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(a(153));if(f.child!==null){for(c=f.child,y=_s(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=_s(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Cm(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Bu(c)))}function $b(c,f,y){switch(f.tag){case 3:ce(f,f.stateNode.containerInfo),No(f,Wn,c.memoizedState.cache),yt();break;case 27:case 5:oe(f);break;case 4:ce(f,f.stateNode.containerInfo);break;case 10:No(f,f.type,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Hi(f),f.flags|=128,null):(y&f.child.childLanes)!==0?Sg(c,f,y):(Hi(f),c=qr(c,f,y),c!==null?c.sibling:null);Hi(f);break;case 19:var R=(c.flags&128)!==0;if(w=(y&f.childLanes)!==0,w||(zu(c,f,y,!1),w=(y&f.childLanes)!==0),R){if(w)return Mg(c,f,y);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),L(Pi,Pi.current),w)break;return null;case 22:case 23:return f.lanes=0,xg(c,f,y);case 24:No(f,Wn,c.memoizedState.cache)}return qr(c,f,y)}function wg(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps)Fn=!0;else{if(!Cm(c,y)&&(f.flags&128)===0)return Fn=!1,$b(c,f,y);Fn=(c.flags&131072)!==0}else Fn=!1,xn&&(f.flags&1048576)!==0&&G(f,Hc,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var w=f.elementType,R=w._init;if(w=R(w._payload),f.type=w,typeof w=="function")Zu(w)?(c=Gr(w,c),f.tag=1,f=bg(null,f,w,c,y)):(f.tag=0,f=fd(null,f,w,c,y));else{if(w!=null){if(R=w.$$typeof,R===nf){f.tag=11,f=ud(null,f,w,c,y);break e}else if(R===Dd){f.tag=14,f=pg(null,f,w,c,y);break e}}throw f=l(w)||w,Error(a(306,f,""))}}return f;case 0:return fd(c,f,f.type,f.pendingProps,y);case 1:return w=f.type,R=Gr(w,f.pendingProps),bg(c,f,w,R,y);case 3:e:{if(ce(f,f.stateNode.containerInfo),c===null)throw Error(a(387));var V=f.pendingProps;R=f.memoizedState,w=R.element,St(c,f),Ut(f,V,null,y);var te=f.memoizedState;if(V=te.cache,No(f,Wn,V),V!==R.cache&&_l(f,[Wn],y,!0),lt(),V=te.element,ia&&R.isDehydrated)if(R={element:V,isDehydrated:!1,cache:te.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=_g(c,f,V,y);break e}else if(V!==w){w=X(Error(a(424)),f),tt(w),f=_g(c,f,V,y);break e}else for(ia&&(sa=ix(f.stateNode.containerInfo),aa=f,xn=!0,Ts=null,Xi=!0),y=_r(f,null,V,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(yt(),V===w){f=qr(c,f,y);break e}Ji(c,f,V,y)}f=f.child}return f;case 26:if(ts)return Lu(c,f),c===null?(y=mp(f.type,null,f.pendingProps,null))?f.memoizedState=y:xn||(f.stateNode=Gd(f.type,f.pendingProps,yr.current,f)):f.memoizedState=mp(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(Bn)return oe(f),c===null&&Bn&&xn&&(w=f.stateNode=Qs(f.type,f.pendingProps,yr.current,Ui.current,!1),aa=f,Xi=!0,sa=Fd(w)),w=f.pendingProps.children,c!==null||xn?Ji(c,f,w,y):f.child=Jo(f,null,w,y),Lu(c,f),f.child;case 5:return c===null&&xn&&(Hd(f.type,f.pendingProps,Ui.current),(R=w=sa)&&(w=r_(w,f.type,f.pendingProps,Xi),w!==null?(f.stateNode=w,aa=f,sa=Fd(w),Xi=!1,R=!0):R=!1),R||Oe(f)),oe(f),R=f.type,V=f.pendingProps,te=c!==null?c.memoizedProps:null,w=V.children,Jt(R,V)?w=null:te!==null&&Jt(R,te)&&(f.flags|=32),f.memoizedState!==null&&(R=js(c,f,bi,null,null,y),ba?Ks._currentValue=R:Ks._currentValue2=R),Lu(c,f),Ji(c,f,w,y),f.child;case 6:return c===null&&xn&&(ux(f.pendingProps,Ui.current),(c=y=sa)&&(y=dp(y,f.pendingProps,Xi),y!==null?(f.stateNode=y,aa=f,sa=null,c=!0):c=!1),c||Oe(f)),null;case 13:return Sg(c,f,y);case 4:return ce(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=Jo(f,null,w,y):Ji(c,f,w,y),f.child;case 11:return ud(c,f,f.type,f.pendingProps,y);case 7:return Ji(c,f,f.pendingProps,y),f.child;case 8:return Ji(c,f,f.pendingProps.children,y),f.child;case 12:return Ji(c,f,f.pendingProps.children,y),f.child;case 10:return w=f.pendingProps,No(f,f.type,w.value),Ji(c,f,w.children,y),f.child;case 9:return R=f.type._context,w=f.pendingProps.children,Ro(f),R=$i(R),w=w(R),f.flags|=1,Ji(c,f,w,y),f.child;case 14:return pg(c,f,f.type,f.pendingProps,y);case 15:return gg(c,f,f.type,f.pendingProps,y);case 19:return Mg(c,f,y);case 22:return xg(c,f,y);case 24:return Ro(f),w=$i(Wn),c===null?(R=Rm(),R===null&&(R=Rn,V=Do(),R.pooledCache=V,V.refCount++,V!==null&&(R.pooledCacheLanes|=y),R=V),f.memoizedState={parent:w,cache:R},At(f),No(f,Wn,R)):((c.lanes&y)!==0&&(St(c,f),Ut(f,null,null,y),lt()),R=c.memoizedState,V=f.memoizedState,R.parent!==w?(R={parent:w,cache:w},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),No(f,Wn,w)):(w=V.cache,No(f,Wn,w),w!==R.cache&&_l(f,[Wn],y,!0))),Ji(c,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function No(c,f,y){ba?(L(co,f._currentValue),f._currentValue=y):(L(co,f._currentValue2),f._currentValue2=y)}function jr(c){var f=co.current;ba?c._currentValue=f:c._currentValue2=f,_(co)}function Pu(c,f,y){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===y)break;c=c.return}}function _l(c,f,y,w){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var V=R.dependencies;if(V!==null){var te=R.child;V=V.firstContext;e:for(;V!==null;){var ue=V;V=R;for(var be=0;be<f.length;be++)if(ue.context===f[be]){V.lanes|=y,ue=V.alternate,ue!==null&&(ue.lanes|=y),Pu(V.return,y,c),w||(te=null);break e}V=ue.next}}else if(R.tag===18){if(te=R.return,te===null)throw Error(a(341));te.lanes|=y,V=te.alternate,V!==null&&(V.lanes|=y),Pu(te,y,c),te=null}else te=R.child;if(te!==null)te.return=R;else for(te=R;te!==null;){if(te===c){te=null;break}if(R=te.sibling,R!==null){R.return=te.return,te=R;break}te=te.return}R=te}}function zu(c,f,y,w){c=null;for(var R=f,V=!1;R!==null;){if(!V){if((R.flags&524288)!==0)V=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var te=R.alternate;if(te===null)throw Error(a(387));if(te=te.memoizedProps,te!==null){var ue=R.type;za(R.pendingProps.value,te.value)||(c!==null?c.push(ue):c=[ue])}}else if(R===Dl.current){if(te=R.alternate,te===null)throw Error(a(387));te.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(Ks):c=[Ks])}R=R.return}c!==null&&_l(f,c,y,w),f.flags|=262144}function Bu(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!za(ba?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function Ro(c){nr=c,os=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function $i(c){return Nm(nr,c)}function Iu(c,f){return nr===null&&Ro(c),Nm(c,f)}function Nm(c,f){var y=ba?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},os===null){if(c===null)throw Error(a(308));os=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else os=os.next=f;return y}function Do(){return{controller:new Wc,data:new Map,refCount:0}}function Fu(c){c.refCount--,c.refCount===0&&_x(Sx,function(){c.controller.abort()})}function Rm(){var c=Er.current;return c!==null?c:Rn.pooledCache}function hd(c,f){f===null?L(Er,Er.current):L(Er,f.pool)}function Dm(){var c=Rm();return c===null?null:{parent:ba?Wn._currentValue:Wn._currentValue2,pool:c}}function Na(c){c.flags|=4}function _c(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function Sl(c,f,y,w){if(Li)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)sf(c,y.stateNode);else if(!(y.tag===4||Bn&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(Ms)for(var R=f.child;R!==null;){if(R.tag===5){var V=R.stateNode;y&&w&&(V=lp(V,R.type,R.memoizedProps)),sf(c,V)}else if(R.tag===6)V=R.stateNode,y&&w&&(V=cp(V,R.memoizedProps)),sf(c,V);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)V=R.child,V!==null&&(V.return=R),Sl(c,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Tg(c,f,y,w){if(Ms)for(var R=f.child;R!==null;){if(R.tag===5){var V=R.stateNode;y&&w&&(V=lp(V,R.type,R.memoizedProps)),op(c,V)}else if(R.tag===6)V=R.stateNode,y&&w&&(V=cp(V,R.memoizedProps)),op(c,V);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)V=R.child,V!==null&&(V.return=R),Tg(c,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Vu(c,f){if(Ms&&_c(c,f)){c=f.stateNode;var y=c.containerInfo,w=rf();Tg(w,f,!1,!1),c.pendingChildren=w,Na(f),zd(y,w)}}function md(c,f,y,w){if(Li)c.memoizedProps!==w&&Na(f);else if(Ms){var R=c.stateNode,V=c.memoizedProps;if((c=_c(c,f))||V!==w){var te=Ui.current;V=Ic(R,y,V,w,!c,null),V===R?f.stateNode=R:(no(V,y,w,te)&&Na(f),f.stateNode=V,c?Sl(V,f,!1,!1):Na(f))}else f.stateNode=R}}function pd(c,f,y){if($m(f,y)){if(c.flags|=16777216,!Ud(f,y))if(Bo())c.flags|=8192;else throw Zo=pf,mf}else c.flags&=-16777217}function gd(c,f){if(hx(f)){if(c.flags|=16777216,!Tl(f))if(Bo())c.flags|=8192;else throw Zo=pf,mf}else c.flags&=-16777217}function Sc(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?I():536870912,c.lanes|=f,Tr|=f)}function Ec(c,f){if(!xn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function ei(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,w=0;if(f)for(var R=c.child;R!==null;)y|=R.lanes|R.childLanes,w|=R.subtreeFlags&31457280,w|=R.flags&31457280,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)y|=R.lanes|R.childLanes,w|=R.subtreeFlags,w|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=w,c.childLanes=y,f}function Ag(c,f,y){var w=f.pendingProps;switch(fe(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(f),null;case 1:return ei(f),null;case 3:return y=f.stateNode,w=null,c!==null&&(w=c.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),jr(Wn),_e(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(rt(f)?Na(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ts!==null&&(Wu(Ts),Ts=null))),Vu(c,f),ei(f),null;case 26:if(ts){y=f.type;var R=f.memoizedState;return c===null?(Na(f),R!==null?(ei(f),gd(f,R)):(ei(f),pd(f,y,w))):R?R!==c.memoizedState?(Na(f),ei(f),gd(f,R)):(ei(f),f.flags&=-16777217):(Li?c.memoizedProps!==w&&Na(f):md(c,f,y,w),ei(f),pd(f,y,w)),null}case 27:if(Bn){if(me(f),y=yr.current,R=f.type,c!==null&&f.stateNode!=null)Li?c.memoizedProps!==w&&Na(f):md(c,f,R,w);else{if(!w){if(f.stateNode===null)throw Error(a(166));return ei(f),null}c=Ui.current,rt(f)?Ye(f,c):(c=Qs(R,w,y,c,!0),f.stateNode=c,Na(f))}return ei(f),null}case 5:if(me(f),y=f.type,c!==null&&f.stateNode!=null)md(c,f,y,w);else{if(!w){if(f.stateNode===null)throw Error(a(166));return ei(f),null}c=Ui.current,rt(f)?Ye(f,c):(R=Jm(y,w,yr.current,c,f),Sl(R,f,!1,!1),f.stateNode=R,no(R,y,w,c)&&Na(f))}return ei(f),pd(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)y=c.memoizedProps,Li?y!==w&&Na(f):Ms&&(y!==w?(f.stateNode=Ln(w,yr.current,Ui.current,f),Na(f)):f.stateNode=c.stateNode);else{if(typeof w!="string"&&f.stateNode===null)throw Error(a(166));if(c=yr.current,y=Ui.current,rt(f)){if(!ia)throw Error(a(176));if(c=f.stateNode,y=f.memoizedProps,w=null,R=aa,R!==null)switch(R.tag){case 27:case 5:w=R.memoizedProps}hp(c,y,f,w)||Oe(f)}else f.stateNode=Ln(w,c,y,f)}return ei(f),null;case 13:if(w=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=rt(f),w!==null&&w.dehydrated!==null){if(c===null){if(!R)throw Error(a(318));if(!ia)throw Error(a(344));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(a(317));ox(R,f)}else yt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ei(f),R=!1}else Ts!==null&&(Wu(Ts),Ts=null),R=!0;if(!R)return f.flags&256?(Ya(f),f):(Ya(f),null)}if(Ya(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=w!==null,c=c!==null&&c.memoizedState!==null,y){w=f.child,R=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(R=w.alternate.memoizedState.cachePool.pool);var V=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(V=w.memoizedState.cachePool.pool),V!==R&&(w.flags|=2048)}return y!==c&&y&&(f.child.flags|=8192),Sc(f,f.updateQueue),ei(f),null;case 4:return _e(),Vu(c,f),c===null&&hi(f.stateNode.containerInfo),ei(f),null;case 10:return jr(f.type),ei(f),null;case 19:if(_(Pi),R=f.memoizedState,R===null)return ei(f),null;if(w=(f.flags&128)!==0,V=R.rendering,V===null)if(w)Ec(R,!1);else{if(Vn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(V=Za(c),V!==null){for(f.flags|=128,Ec(R,!1),c=V.updateQueue,f.updateQueue=c,Sc(f,c),f.subtreeFlags=0,c=y,y=f.child;y!==null;)Ku(y,c),y=y.sibling;return L(Pi,Pi.current&1|2),f.child}c=c.sibling}R.tail!==null&&ws()>Kc&&(f.flags|=128,w=!0,Ec(R,!1),f.lanes=4194304)}else{if(!w)if(c=Za(V),c!==null){if(f.flags|=128,w=!0,c=c.updateQueue,f.updateQueue=c,Sc(f,c),Ec(R,!0),R.tail===null&&R.tailMode==="hidden"&&!V.alternate&&!xn)return ei(f),null}else 2*ws()-R.renderingStartTime>Kc&&y!==536870912&&(f.flags|=128,w=!0,Ec(R,!1),f.lanes=4194304);R.isBackwards?(V.sibling=f.child,f.child=V):(c=R.last,c!==null?c.sibling=V:f.child=V,R.last=V)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=ws(),f.sibling=null,c=Pi.current,L(Pi,w?c&1|2:c&1),f):(ei(f),null);case 22:case 23:return Ya(f),Gs(),w=f.memoizedState!==null,c!==null?c.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(y&536870912)!==0&&(f.flags&128)===0&&(ei(f),f.subtreeFlags&6&&(f.flags|=8192)):ei(f),y=f.updateQueue,y!==null&&Sc(f,y.retryQueue),y=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==y&&(f.flags|=2048),c!==null&&_(Er),null;case 24:return y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),jr(Wn),ei(f),null;case 25:return null}throw Error(a(156,f.tag))}function e_(c,f){switch(fe(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return jr(Wn),_e(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return me(f),null;case 13:if(Ya(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(a(340));yt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return _(Pi),null;case 4:return _e(),null;case 10:return jr(f.type),null;case 22:case 23:return Ya(f),Gs(),c!==null&&_(Er),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return jr(Wn),null;case 25:return null;default:return null}}function Cg(c,f){switch(fe(f),f.tag){case 3:jr(Wn),_e();break;case 26:case 27:case 5:me(f);break;case 4:_e();break;case 13:Ya(f);break;case 19:_(Pi);break;case 10:jr(f.type);break;case 22:case 23:Ya(f),Gs(),c!==null&&_(Er);break;case 24:jr(Wn)}}function Hu(c,f){try{var y=f.updateQueue,w=y!==null?y.lastEffect:null;if(w!==null){var R=w.next;y=R;do{if((y.tag&c)===c){w=void 0;var V=y.create,te=y.inst;w=V(),te.destroy=w}y=y.next}while(y!==R)}}catch(ue){Cn(f,f.return,ue)}}function Oo(c,f,y){try{var w=f.updateQueue,R=w!==null?w.lastEffect:null;if(R!==null){var V=R.next;w=V;do{if((w.tag&c)===c){var te=w.inst,ue=te.destroy;if(ue!==void 0){te.destroy=void 0,R=f;var be=y;try{ue()}catch(Fe){Cn(R,be,Fe)}}}w=w.next}while(w!==V)}}catch(Fe){Cn(f,f.return,Fe)}}function Ng(c){var f=c.updateQueue;if(f!==null){var y=c.stateNode;try{ct(f,y)}catch(w){Cn(c,c.return,w)}}}function Ra(c,f,y){y.props=Gr(c.type,c.memoizedProps),y.state=c.memoizedState;try{y.componentWillUnmount()}catch(w){Cn(c,f,w)}}function Ws(c,f){try{var y=c.ref;if(y!==null){var w=c.stateNode;switch(c.tag){case 26:case 27:case 5:var R=Pc(w);break;default:R=w}typeof y=="function"?c.refCleanup=y(R):y.current=R}}catch(V){Cn(c,f,V)}}function Da(c,f){var y=c.ref,w=c.refCleanup;if(y!==null)if(typeof w=="function")try{w()}catch(R){Cn(c,f,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(R){Cn(c,f,R)}else y.current=null}function Om(c){var f=c.type,y=c.memoizedProps,w=c.stateNode;try{a_(w,f,y,c)}catch(R){Cn(c,c.return,R)}}function Lm(c,f,y){try{Xg(c.stateNode,c.type,y,f,c)}catch(w){Cn(c,c.return,w)}}function Um(c){return c.tag===5||c.tag===3||(ts?c.tag===26:!1)||(Bn?c.tag===27:!1)||c.tag===4}function ku(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Um(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!Bn||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Pm(c,f,y){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?Yg(y,c,f):ap(y,c);else if(!(w===4||Bn&&w===27)&&(c=c.child,c!==null))for(Pm(c,f,y),c=c.sibling;c!==null;)Pm(c,f,y),c=c.sibling}function Xr(c,f,y){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?Wg(y,c,f):qg(y,c);else if(!(w===4||Bn&&w===27)&&(c=c.child,c!==null))for(Xr(c,f,y),c=c.sibling;c!==null;)Xr(c,f,y),c=c.sibling}function xd(c,f,y){c=c.containerInfo;try{Fc(c,y)}catch(w){Cn(f,f.return,w)}}function Gu(c,f){for(Od(c.containerInfo),Yt=f;Yt!==null;)if(c=Yt,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Yt=f;else for(;Yt!==null;){c=Yt;var y=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&y!==null){f=void 0;var w=c,R=y.memoizedProps;y=y.memoizedState;var V=w.stateNode;try{var te=Gr(w.type,R,w.elementType===w.type);f=V.getSnapshotBeforeUpdate(te,y),V.__reactInternalSnapshotBeforeUpdate=f}catch(ue){Cn(w,w.return,ue)}}break;case 3:(f&1024)!==0&&Li&&$g(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=c.sibling,f!==null){f.return=c.return,Yt=f;break}Yt=c.return}return te=un,un=!1,te}function vd(c,f,y){var w=y.flags;switch(y.tag){case 0:case 11:case 15:Yr(c,y),w&4&&Hu(5,y);break;case 1:if(Yr(c,y),w&4)if(c=y.stateNode,f===null)try{c.componentDidMount()}catch(ue){Cn(y,y.return,ue)}else{var R=Gr(y.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(R,f,c.__reactInternalSnapshotBeforeUpdate)}catch(ue){Cn(y,y.return,ue)}}w&64&&Ng(y),w&512&&Ws(y,y.return);break;case 3:if(Yr(c,y),w&64&&(w=y.updateQueue,w!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=Pc(y.child.stateNode);break;case 1:c=y.child.stateNode}try{ct(w,c)}catch(ue){Cn(y,y.return,ue)}}break;case 26:if(ts){Yr(c,y),w&512&&Ws(y,y.return);break}case 27:case 5:Yr(c,y),f===null&&w&4&&Om(y),w&512&&Ws(y,y.return);break;case 12:Yr(c,y);break;case 13:Yr(c,y),w&4&&yd(c,y);break;case 22:if(R=y.memoizedState!==null||Mr,!R){f=f!==null&&f.memoizedState!==null||ri;var V=Mr,te=ri;Mr=R,(ri=f)&&!te?Zr(c,y,(y.subtreeFlags&8772)!==0):Yr(c,y),Mr=V,ri=te}w&512&&(y.memoizedProps.mode==="manual"?Ws(y,y.return):Da(y,y.return));break;default:Yr(c,y)}}function zm(c){var f=c.alternate;f!==null&&(c.alternate=null,zm(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&i_(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ea(c,f,y){for(y=y.child;y!==null;)Lo(c,f,y),y=y.sibling}function Lo(c,f,y){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(pi,y)}catch{}switch(y.tag){case 26:if(ts){ri||Da(y,f),ea(c,f,y),y.memoizedState?wl(y.memoizedState):y.stateNode&&Vc(y.stateNode);break}case 27:if(Bn){ri||Da(y,f);var w=Lt,R=$t;Lt=y.stateNode,ea(c,f,y),Xo(y.stateNode),Lt=w,$t=R;break}case 5:ri||Da(y,f);case 6:if(Li){if(w=Lt,R=$t,Lt=null,ea(c,f,y),Lt=w,$t=R,Lt!==null)if($t)try{Zg(Lt,y.stateNode)}catch(V){Cn(y,f,V)}else try{sp(Lt,y.stateNode)}catch(V){Cn(y,f,V)}}else ea(c,f,y);break;case 18:Li&&Lt!==null&&($t?of(Lt,y.stateNode):cx(Lt,y.stateNode));break;case 4:Li?(w=Lt,R=$t,Lt=y.stateNode.containerInfo,$t=!0,ea(c,f,y),Lt=w,$t=R):(Ms&&xd(y.stateNode,y,rf()),ea(c,f,y));break;case 0:case 11:case 14:case 15:ri||Oo(2,y,f),ri||Oo(4,y,f),ea(c,f,y);break;case 1:ri||(Da(y,f),w=y.stateNode,typeof w.componentWillUnmount=="function"&&Ra(y,f,w)),ea(c,f,y);break;case 21:ea(c,f,y);break;case 22:ri||Da(y,f),ri=(w=ri)||y.memoizedState!==null,ea(c,f,y),ri=w;break;default:ea(c,f,y)}}function yd(c,f){if(ia&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{l_(c)}catch(y){Cn(f,f.return,y)}}function Rg(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new Nn),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new Nn),f;default:throw Error(a(435,c.tag))}}function Wr(c,f){var y=Rg(c);f.forEach(function(w){var R=Vo.bind(null,c,w);y.has(w)||(y.add(w),w.then(R,R))})}function va(c,f){var y=f.deletions;if(y!==null)for(var w=0;w<y.length;w++){var R=y[w],V=c,te=f;if(Li){var ue=te;e:for(;ue!==null;){switch(ue.tag){case 27:case 5:Lt=ue.stateNode,$t=!1;break e;case 3:Lt=ue.stateNode.containerInfo,$t=!0;break e;case 4:Lt=ue.stateNode.containerInfo,$t=!0;break e}ue=ue.return}if(Lt===null)throw Error(a(160));Lo(V,te,R),Lt=null,$t=!1}else Lo(V,te,R);V=R.alternate,V!==null&&(V.return=null),R.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Bm(f,c),f=f.sibling}function Bm(c,f){var y=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:va(f,c),Oa(c),w&4&&(Oo(3,c,c.return),Hu(3,c),Oo(5,c,c.return));break;case 1:va(f,c),Oa(c),w&512&&(ri||y===null||Da(y,y.return)),w&64&&Mr&&(c=c.updateQueue,c!==null&&(w=c.callbacks,w!==null&&(y=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=y===null?w:y.concat(w))));break;case 26:if(ts){var R=ni;va(f,c),Oa(c),w&512&&(ri||y===null||Da(y,y.return)),w&4&&(w=y!==null?y.memoizedState:null,f=c.memoizedState,y===null?f===null?c.stateNode===null?c.stateNode=cf(R,c.type,c.memoizedProps,c):uf(R,c.type,c.stateNode):c.stateNode=fx(R,f,c.memoizedProps):w!==f?(w===null?y.stateNode!==null&&Vc(y.stateNode):wl(w),f===null?uf(R,c.type,c.stateNode):fx(R,f,c.memoizedProps)):f===null&&c.stateNode!==null&&Lm(c,c.memoizedProps,y.memoizedProps));break}case 27:if(Bn&&w&4&&c.alternate===null){R=c.stateNode;var V=c.memoizedProps;try{jo(R),px(c.type,V,R,c)}catch(nt){Cn(c,c.return,nt)}}case 5:if(va(f,c),Oa(c),w&512&&(ri||y===null||Da(y,y.return)),Li){if(c.flags&32){f=c.stateNode;try{rp(f)}catch(nt){Cn(c,c.return,nt)}}w&4&&c.stateNode!=null&&(f=c.memoizedProps,Lm(c,f,y!==null?y.memoizedProps:f)),w&1024&&(vp=!0)}break;case 6:if(va(f,c),Oa(c),w&4&&Li){if(c.stateNode===null)throw Error(a(162));w=c.memoizedProps,y=y!==null?y.memoizedProps:w,f=c.stateNode;try{jg(f,y,w)}catch(nt){Cn(c,c.return,nt)}}break;case 3:if(ts?(dx(),R=ni,ni=kd(f.containerInfo),va(f,c),ni=R):va(f,c),Oa(c),w&4){if(Li&&ia&&y!==null&&y.memoizedState.isDehydrated)try{o_(f.containerInfo)}catch(nt){Cn(c,c.return,nt)}if(Ms){w=f.containerInfo,y=f.pendingChildren;try{Fc(w,y)}catch(nt){Cn(c,c.return,nt)}}}vp&&(vp=!1,Dg(c));break;case 4:ts?(y=ni,ni=kd(c.stateNode.containerInfo),va(f,c),Oa(c),ni=y):(va(f,c),Oa(c)),w&4&&Ms&&xd(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:va(f,c),Oa(c);break;case 13:va(f,c),Oa(c),c.child.flags&8192&&c.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Ma=ws()),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,Wr(c,w)));break;case 22:w&512&&(ri||y===null||Da(y,y.return)),R=c.memoizedState!==null;var te=y!==null&&y.memoizedState!==null,ue=Mr,be=ri;if(Mr=ue||R,ri=be||te,va(f,c),ri=be,Mr=ue,Oa(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,w&8192&&(f._visibility=R?f._visibility&-2:f._visibility|1,R&&(f=Mr||ri,y===null||te||f||Mc(c)),Li&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){e:if(y=null,Li)for(f=c;;){if(f.tag===5||ts&&f.tag===26||Bn&&f.tag===27){if(y===null){te=y=f;try{V=te.stateNode,R?Kg(V):Jg(te.stateNode,te.memoizedProps)}catch(nt){Cn(te,te.return,nt)}}}else if(f.tag===6){if(y===null){te=f;try{var Fe=te.stateNode;R?Qg(Fe):s_(Fe,te.memoizedProps)}catch(nt){Cn(te,te.return,nt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}w&4&&(w=c.updateQueue,w!==null&&(y=w.retryQueue,y!==null&&(w.retryQueue=null,Wr(c,y))));break;case 19:va(f,c),Oa(c),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,Wr(c,w)));break;case 21:break;default:va(f,c),Oa(c)}}function Oa(c){var f=c.flags;if(f&2){try{if(Li&&(!Bn||c.tag!==27)){e:{for(var y=c.return;y!==null;){if(Um(y)){var w=y;break e}y=y.return}throw Error(a(160))}switch(w.tag){case 27:if(Bn){var R=w.stateNode,V=ku(c);Xr(c,V,R);break}case 5:var te=w.stateNode;w.flags&32&&(rp(te),w.flags&=-33);var ue=ku(c);Xr(c,ue,te);break;case 3:case 4:var be=w.stateNode.containerInfo,Fe=ku(c);Pm(c,Fe,be);break;default:throw Error(a(161))}}}catch(nt){Cn(c,c.return,nt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function Dg(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;Dg(f),f.tag===5&&f.flags&1024&&Pd(f.stateNode),c=c.sibling}}function Yr(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)vd(c,f.alternate,f),f=f.sibling}function Mc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Oo(4,f,f.return),Mc(f);break;case 1:Da(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&Ra(f,f.return,y),Mc(f);break;case 26:case 27:case 5:Da(f,f.return),Mc(f);break;case 22:Da(f,f.return),f.memoizedState===null&&Mc(f);break;default:Mc(f)}c=c.sibling}}function Zr(c,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,R=c,V=f,te=V.flags;switch(V.tag){case 0:case 11:case 15:Zr(R,V,y),Hu(4,V);break;case 1:if(Zr(R,V,y),w=V,R=w.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Fe){Cn(w,w.return,Fe)}if(w=V,R=w.updateQueue,R!==null){var ue=w.stateNode;try{var be=R.shared.hiddenCallbacks;if(be!==null)for(R.shared.hiddenCallbacks=null,R=0;R<be.length;R++)de(be[R],ue)}catch(Fe){Cn(w,w.return,Fe)}}y&&te&64&&Ng(V),Ws(V,V.return);break;case 26:case 27:case 5:Zr(R,V,y),y&&w===null&&te&4&&Om(V),Ws(V,V.return);break;case 12:Zr(R,V,y);break;case 13:Zr(R,V,y),y&&te&4&&yd(R,V);break;case 22:V.memoizedState===null&&Zr(R,V,y),Ws(V,V.return);break;default:Zr(R,V,y)}f=f.sibling}}function bd(c,f){var y=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==y&&(c!=null&&c.refCount++,y!=null&&Fu(y))}function qu(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Fu(c))}function Gi(c,f,y,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Im(c,f,y,w),f=f.sibling}function Im(c,f,y,w){var R=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,y,w),R&2048&&Hu(9,f);break;case 3:Gi(c,f,y,w),R&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Fu(c)));break;case 12:if(R&2048){Gi(c,f,y,w),c=f.stateNode;try{var V=f.memoizedProps,te=V.id,ue=V.onPostCommit;typeof ue=="function"&&ue(te,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(be){Cn(f,f.return,be)}}else Gi(c,f,y,w);break;case 23:break;case 22:V=f.stateNode,f.memoizedState!==null?V._visibility&4?Gi(c,f,y,w):ca(c,f):V._visibility&4?Gi(c,f,y,w):(V._visibility|=4,ta(c,f,y,w,(f.subtreeFlags&10256)!==0)),R&2048&&bd(f.alternate,f);break;case 24:Gi(c,f,y,w),R&2048&&qu(f.alternate,f);break;default:Gi(c,f,y,w)}}function ta(c,f,y,w,R){for(R=R&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var V=c,te=f,ue=y,be=w,Fe=te.flags;switch(te.tag){case 0:case 11:case 15:ta(V,te,ue,be,R),Hu(8,te);break;case 23:break;case 22:var nt=te.stateNode;te.memoizedState!==null?nt._visibility&4?ta(V,te,ue,be,R):ca(V,te):(nt._visibility|=4,ta(V,te,ue,be,R)),R&&Fe&2048&&bd(te.alternate,te);break;case 24:ta(V,te,ue,be,R),R&&Fe&2048&&qu(te.alternate,te);break;default:ta(V,te,ue,be,R)}f=f.sibling}}function ca(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=c,w=f,R=w.flags;switch(w.tag){case 22:ca(y,w),R&2048&&bd(w.alternate,w);break;case 24:ca(y,w),R&2048&&qu(w.alternate,w);break;default:ca(y,w)}f=f.sibling}}function ys(c){if(c.subtreeFlags&ls)for(c=c.child;c!==null;)_d(c),c=c.sibling}function _d(c){switch(c.tag){case 26:ys(c),c.flags&ls&&(c.memoizedState!==null?mx(ni,c.memoizedState,c.memoizedProps):_a(c.type,c.memoizedProps));break;case 5:ys(c),c.flags&ls&&_a(c.type,c.memoizedProps);break;case 3:case 4:if(ts){var f=ni;ni=kd(c.stateNode.containerInfo),ys(c),ni=f}else ys(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=ls,ls=16777216,ys(c),ls=f):ys(c));break;default:ys(c)}}function ju(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Uo(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var w=f[y];Yt=w,Fm(w,c)}ju(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Sd(c),c=c.sibling}function Sd(c){switch(c.tag){case 0:case 11:case 15:Uo(c),c.flags&2048&&Oo(9,c,c.return);break;case 3:Uo(c);break;case 12:Uo(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,Kr(c)):Uo(c);break;default:Uo(c)}}function Kr(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var w=f[y];Yt=w,Fm(w,c)}ju(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Oo(8,f,f.return),Kr(f);break;case 22:y=f.stateNode,y._visibility&4&&(y._visibility&=-5,Kr(f));break;default:Kr(f)}c=c.sibling}}function Fm(c,f){for(;Yt!==null;){var y=Yt;switch(y.tag){case 0:case 11:case 15:Oo(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var w=y.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Fu(y.memoizedState.cache)}if(w=y.child,w!==null)w.return=y,Yt=w;else e:for(y=c;Yt!==null;){w=Yt;var R=w.sibling,V=w.return;if(zm(w),w===y){Yt=null;break e}if(R!==null){R.return=V,Yt=R;break e}Yt=V}}}function wc(c){var f=Bg(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(c=np(c),c===null)throw Error(a(362));return c.stateNode.current}function Po(c,f){var y=c.tag;switch(f.$$typeof){case Zc:if(c.type===f.value)return!0;break;case Ns:e:{for(f=f.value,c=[c,0],y=0;y<c.length;){var w=c[y++],R=w.tag,V=c[y++],te=f[V];if(R!==5&&R!==26&&R!==27||!Bc(w)){for(;te!=null&&Po(w,te);)V++,te=f[V];if(V===f.length){f=!0;break e}else for(w=w.child;w!==null;)c.push(w,V),w=w.sibling}}f=!1}return f;case Qn:if((y===5||y===26||y===27)&&Hg(c.stateNode,f.value))return!0;break;case wr:if((y===5||y===6||y===26||y===27)&&(c=Vg(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case ir:if((y===5||y===26||y===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Vm(c){switch(c.$$typeof){case Zc:return"<"+(l(c.value)||"Unknown")+">";case Ns:return":has("+(Vm(c)||"")+")";case Qn:return'[role="'+c.value+'"]';case wr:return'"'+c.value+'"';case ir:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function La(c,f){var y=[];c=[c,0];for(var w=0;w<c.length;){var R=c[w++],V=R.tag,te=c[w++],ue=f[te];if(V!==5&&V!==26&&V!==27||!Bc(R)){for(;ue!=null&&Po(R,ue);)te++,ue=f[te];if(te===f.length)y.push(R);else for(R=R.child;R!==null;)c.push(R,te),R=R.sibling}}return y}function Xu(c,f){if(!qo)throw Error(a(363));c=wc(c),c=La(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var w=c[y++],R=w.tag;if(R===5||R===26||R===27)Bc(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return f}function di(){if((bn&2)!==0&&hn!==0)return hn&-hn;if(Ht.T!==null){var c=as;return c!==0?c:ze()}return Ig()}function Hm(){fs===0&&(fs=(hn&536870912)===0||xn?H():536870912);var c=ss.current;return c!==null&&(c.flags|=32),fs}function qi(c,f,y){(c===Rn&&Pn===2||c.cancelPendingCommit!==null)&&(na(c,0),Ua(c,hn,fs,!1)),j(c,y),((bn&2)===0||c!==Rn)&&(c===Rn&&((bn&2)===0&&(uo|=y),Vn===4&&Ua(c,hn,fs,!1)),Qe(c))}function zo(c,f,y){if((bn&6)!==0)throw Error(a(327));var w=!y&&(f&60)===0&&(f&c.expiredLanes)===0||U(c,f),R=w?Gm(c,f):Md(c,f,!0),V=w;do{if(R===0){cs&&!w&&Ua(c,f,0,!1);break}else if(R===6)Ua(c,f,0,!Ds);else{if(y=c.current.alternate,V&&!Tc(y)){R=Md(c,f,!1),V=!1;continue}if(R===2){if(V=f,c.errorRecoveryDisabledLanes&V)var te=0;else te=c.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){f=te;e:{var ue=c;R=Vl;var be=ia&&ue.current.memoizedState.isDehydrated;if(be&&(na(ue,te).flags|=256),te=Md(ue,te,!1),te!==2){if(zi&&!be){ue.errorRecoveryDisabledLanes|=V,uo|=V,R=4;break e}V=oi,oi=R,V!==null&&Wu(V)}R=te}if(V=!1,R!==2)continue}}if(R===1){na(c,0),Ua(c,f,0,!0);break}e:{switch(w=c,R){case 0:case 1:throw Error(a(345));case 4:if((f&4194176)===f){Ua(w,f,fs,!Ds);break e}break;case 2:oi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(w.finishedWork=y,w.finishedLanes=f,(f&62914560)===f&&(V=Ma+300-ws(),10<V)){if(Ua(w,f,fs,!Ds),D(w,0)!==0)break e;w.timeoutHandle=Ei(Ed.bind(null,w,y,oi,xf,$d,f,fs,uo,Tr,Ds,2,-0,0),V);break e}Ed(w,y,oi,xf,$d,f,fs,uo,Tr,Ds,0,-0,0)}}break}while(!0);Qe(c)}function Wu(c){oi===null?oi=c:oi.push.apply(oi,c)}function Ed(c,f,y,w,R,V,te,ue,be,Fe,nt,ft,pt){var Zt=f.subtreeFlags;if((Zt&8192||(Zt&16785408)===16785408)&&(ep(),_d(f),f=Mi(),f!==null)){c.cancelPendingCommit=f(Io.bind(null,c,y,w,R,te,ue,be,1,ft,pt)),Ua(c,V,te,!Fe);return}Io(c,y,w,R,te,ue,be,nt,ft,pt)}function Tc(c){for(var f=c;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var w=0;w<y.length;w++){var R=y[w],V=R.getSnapshot;R=R.value;try{if(!za(V(),R))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ua(c,f,y,w){f&=~gf,f&=~uo,c.suspendedLanes|=f,c.pingedLanes&=~f,w&&(c.warmLanes|=f),w=c.expirationTimes;for(var R=f;0<R;){var V=31-Sa(R),te=1<<V;w[V]=-1,R&=~te}y!==0&&W(c,y,f)}function Yu(){return(bn&6)===0?(Ze(0),!1):!0}function Ac(){if(It!==null){if(Pn===0)var c=It.return;else c=It,os=nr=null,Xs(c),Ko=null,Qo=0,c=It;for(;c!==null;)Cg(c.alternate,c),c=c.return;It=null}}function na(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;y!==ko&&(c.timeoutHandle=ko,Ld(y)),y=c.cancelPendingCommit,y!==null&&(c.cancelPendingCommit=null,y()),Ac(),Rn=c,It=y=_s(c.current,null),hn=f,Pn=0,fa=null,Ds=!1,cs=U(c,f),zi=!1,Tr=fs=gf=uo=us=Vn=0,oi=Vl=null,$d=!1,(f&8)!==0&&(f|=f&32);var w=c.entangledLanes;if(w!==0)for(c=c.entanglements,w&=f;0<w;){var R=31-Sa(w),V=1<<R;f|=c[R],w&=~V}return da=f,Ae(),y}function Ja(c,f){nn=null,Ht.H=si,f===jc?(f=_t(),Pn=3):f===mf?(f=_t(),Pn=4):Pn=f===Qd?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,fa=f,It===null&&(Vn=1,vc(c,X(f,c.current)))}function Bo(){var c=ss.current;return c===null?!0:(hn&4194176)===hn?In===null:(hn&62914560)===hn||(hn&536870912)!==0?c===In:!1}function hr(){var c=Ht.H;return Ht.H=si,c===null?si:c}function mr(){var c=Ht.A;return Ht.A=Yc,c}function Qr(){Vn=4,Ds||(hn&4194176)!==hn&&ss.current!==null||(cs=!0),(us&134217727)===0&&(uo&134217727)===0||Rn===null||Ua(Rn,hn,fs,!1)}function Md(c,f,y){var w=bn;bn|=2;var R=hr(),V=mr();(Rn!==c||hn!==f)&&(xf=null,na(c,f)),f=!1;var te=Vn;e:do try{if(Pn!==0&&It!==null){var ue=It,be=fa;switch(Pn){case 8:Ac(),te=6;break e;case 3:case 2:case 6:ss.current===null&&(f=!0);var Fe=Pn;if(Pn=0,fa=null,bs(c,ue,be,Fe),y&&cs){te=0;break e}break;default:Fe=Pn,Pn=0,fa=null,bs(c,ue,be,Fe)}}km(),te=Vn;break}catch(nt){Ja(c,nt)}while(!0);return f&&c.shellSuspendCounter++,os=nr=null,bn=w,Ht.H=R,Ht.A=V,It===null&&(Rn=null,hn=0,Ae()),te}function km(){for(;It!==null;)ti(It)}function Gm(c,f){var y=bn;bn|=2;var w=hr(),R=mr();Rn!==c||hn!==f?(xf=null,Kc=ws()+500,na(c,f)):cs=U(c,f);e:do try{if(Pn!==0&&It!==null){f=It;var V=fa;t:switch(Pn){case 1:Pn=0,fa=null,bs(c,f,V,1);break;case 2:if(at(V)){Pn=0,fa=null,En(f);break}f=function(){Pn===2&&Rn===c&&(Pn=7),Qe(c)},V.then(f,f);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:at(V)?(Pn=0,fa=null,En(f)):(Pn=0,fa=null,bs(c,f,V,7));break;case 5:var te=null;switch(It.tag){case 26:te=It.memoizedState;case 5:case 27:var ue=It,be=ue.type,Fe=ue.pendingProps;if(te?Tl(te):Ud(be,Fe)){Pn=0,fa=null;var nt=ue.sibling;if(nt!==null)It=nt;else{var ft=ue.return;ft!==null?(It=ft,$a(ft)):It=null}break t}}Pn=0,fa=null,bs(c,f,V,5);break;case 6:Pn=0,fa=null,bs(c,f,V,6);break;case 8:Ac(),Vn=6;break e;default:throw Error(a(462))}}ya();break}catch(pt){Ja(c,pt)}while(!0);return os=nr=null,Ht.H=w,Ht.A=R,bn=y,It!==null?0:(Rn=null,hn=0,Ae(),Vn)}function ya(){for(;It!==null&&!vx();)ti(It)}function ti(c){var f=wg(c.alternate,c,da);c.memoizedProps=c.pendingProps,f===null?$a(c):It=f}function En(c){var f=c,y=f.alternate;switch(f.tag){case 15:case 0:f=yg(y,f,f.pendingProps,f.type,void 0,hn);break;case 11:f=yg(y,f,f.pendingProps,f.type.render,f.ref,hn);break;case 5:Xs(f);default:Cg(y,f),f=It=Ku(f,da),f=wg(y,f,da)}c.memoizedProps=c.pendingProps,f===null?$a(c):It=f}function bs(c,f,y,w){os=nr=null,Xs(f),Ko=null,Qo=0;var R=f.return;try{if(Jb(c,R,f,y,hn)){Vn=1,vc(c,X(y,c.current)),It=null;return}}catch(V){if(R!==null)throw It=R,V;Vn=1,vc(c,X(y,c.current)),It=null;return}f.flags&32768?(xn||w===1?c=!0:cs||(hn&536870912)!==0?c=!1:(Ds=c=!0,(w===2||w===3||w===6)&&(w=ss.current,w!==null&&w.tag===13&&(w.flags|=16384))),wd(f,c)):$a(f)}function $a(c){var f=c;do{if((f.flags&32768)!==0){wd(f,Ds);return}c=f.return;var y=Ag(f.alternate,f,da);if(y!==null){It=y;return}if(f=f.sibling,f!==null){It=f;return}It=f=c}while(f!==null);Vn===0&&(Vn=5)}function wd(c,f){do{var y=e_(c.alternate,c);if(y!==null){y.flags&=32767,It=y;return}if(y=c.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(c=c.sibling,c!==null)){It=c;return}It=c=y}while(c!==null);Vn=6,It=null}function Io(c,f,y,w,R,V,te,ue,be,Fe){var nt=Ht.T,ft=io();try{ua(2),Ht.T=null,Og(c,f,y,w,ft,R,V,te,ue,be,Fe)}finally{Ht.T=nt,ua(ft)}}function Og(c,f,y,w,R,V,te,ue){do Ys();while(Ar!==null);if((bn&6)!==0)throw Error(a(327));var be=c.finishedWork;if(w=c.finishedLanes,be===null)return null;if(c.finishedWork=null,c.finishedLanes=0,be===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Fe=be.lanes|be.childLanes;if(Fe|=er,Z(c,w,Fe,V,te,ue),c===Rn&&(It=Rn=null,hn=0),(be.subtreeFlags&10256)===0&&(be.flags&10256)===0||ar||(ar=!0,nl=Fe,eh=y,$r(Wd,function(){return Ys(),null})),y=(be.flags&15990)!==0,(be.subtreeFlags&15990)!==0||y?(y=Ht.T,Ht.T=null,V=io(),ua(2),te=bn,bn|=4,Gu(c,be),Bm(be,c),zg(c.containerInfo),c.current=be,vd(c,be.alternate,be),jd(),bn=te,ua(V),Ht.T=y):c.current=be,ar?(ar=!1,Ar=c,Hl=w):qm(c,Fe),Fe=c.pendingLanes,Fe===0&&(tl=null),k(be.stateNode),Qe(c),f!==null)for(R=c.onRecoverableError,be=0;be<f.length;be++)Fe=f[be],R(Fe.value,{componentStack:Fe.stack});return(Hl&3)!==0&&Ys(),Fe=c.pendingLanes,(w&4194218)!==0&&(Fe&42)!==0?c===th?Qc++:(Qc=0,th=c):Qc=0,Ze(0),null}function qm(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Fu(f)))}function Ys(){if(Ar!==null){var c=Ar,f=nl;nl=0;var y=ne(Hl),w=32>y?32:y;y=Ht.T;var R=io();try{if(ua(w),Ht.T=null,Ar===null)var V=!1;else{w=eh,eh=null;var te=Ar,ue=Hl;if(Ar=null,Hl=0,(bn&6)!==0)throw Error(a(331));var be=bn;if(bn|=4,Sd(te.current),Im(te,te.current,ue,w),bn=be,Ze(0,!1),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(pi,te)}catch{}V=!0}return V}finally{ua(R),Ht.T=y,qm(c,f)}}return!1}function Cc(c,f,y){f=X(y,f),f=bc(c.stateNode,f,2),c=Je(c,f,2),c!==null&&(j(c,2),Qe(c))}function Cn(c,f,y){if(c.tag===3)Cc(c,c,y);else for(;f!==null;){if(f.tag===3){Cc(f,c,y);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(tl===null||!tl.has(w))){c=X(y,c),y=Em(2),w=Je(f,y,2),w!==null&&(mg(y,w,f,c),j(w,2),Qe(w));break}}f=f.return}}function El(c,f,y){var w=c.pingCache;if(w===null){w=c.pingCache=new Rs;var R=new Set;w.set(f,R)}else R=w.get(f),R===void 0&&(R=new Set,w.set(f,R));R.has(y)||(zi=!0,R.add(y),c=jm.bind(null,c,f,y),f.then(c,c))}function jm(c,f,y){var w=c.pingCache;w!==null&&w.delete(f),c.pingedLanes|=c.suspendedLanes&y,c.warmLanes&=~y,Rn===c&&(hn&y)===y&&(Vn===4||Vn===3&&(hn&62914560)===hn&&300>ws()-Ma?(bn&2)===0&&na(c,0):gf|=y,Tr===hn&&(Tr=0)),Qe(c)}function Fo(c,f){f===0&&(f=I()),c=Te(c,f),c!==null&&(j(c,f),Qe(c))}function Jr(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),Fo(c,y)}function Vo(c,f){var y=0;switch(c.tag){case 13:var w=c.stateNode,R=c.memoizedState;R!==null&&(y=R.retryLane);break;case 19:w=c.stateNode;break;case 22:w=c.stateNode._retryCache;break;default:throw Error(a(314))}w!==null&&w.delete(f),Fo(c,y)}function $r(c,f){return ff(c,f)}function Xm(c,f,y,w){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zu(c){return c=c.prototype,!(!c||!c.isReactComponent)}function _s(c,f){var y=c.alternate;return y===null?(y=t(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&31457280,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y.refCleanup=c.refCleanup,y}function Ku(c,f){c.flags&=31457282;var y=c.alternate;return y===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,f=y.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function pr(c,f,y,w,R,V){var te=0;if(w=c,typeof c=="function")Zu(c)&&(te=1);else if(typeof c=="string")te=ts&&Bn?lf(c,y,Ui.current)?26:xr(c)?27:5:ts?lf(c,y,Ui.current)?26:5:Bn&&xr(c)?27:5;else e:switch(c){case Ho:return ai(y.children,R,V,f);case ef:te=8,R|=24;break;case Nd:return c=t(12,y,f,R|2),c.elementType=Nd,c.lanes=V,c;case Rd:return c=t(13,y,f,R),c.elementType=Rd,c.lanes=V,c;case Oc:return c=t(19,y,f,R),c.elementType=Oc,c.lanes=V,c;case Zm:return Qu(y,R,V,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case tf:case Zs:te=10;break e;case Ym:te=9;break e;case nf:te=11;break e;case Dd:te=14;break e;case Es:te=16,w=null;break e}te=29,y=Error(a(130,c===null?"null":typeof c,"")),w=null}return f=t(te,y,f,R),f.elementType=c,f.type=w,f.lanes=V,f}function ai(c,f,y,w){return c=t(7,c,w,f),c.lanes=y,c}function Qu(c,f,y,w){c=t(22,c,w,f),c.elementType=Zm,c.lanes=y;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var V=R._current;if(V===null)throw Error(a(456));if((R._pendingVisibility&2)===0){var te=Te(V,2);te!==null&&(R._pendingVisibility|=2,qi(te,V,2))}},attach:function(){var V=R._current;if(V===null)throw Error(a(456));if((R._pendingVisibility&2)!==0){var te=Te(V,2);te!==null&&(R._pendingVisibility&=-3,qi(te,V,2))}}};return c.stateNode=R,c}function Td(c,f,y){return c=t(6,c,null,f),c.lanes=y,c}function Wm(c,f,y){return f=t(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function t_(c,f,y,w,R,V,te,ue){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ko,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.hiddenUpdates=P(null),this.identifierPrefix=w,this.onUncaughtError=R,this.onCaughtError=V,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function Lg(c,f,y,w,R,V,te,ue,be,Fe,nt,ft){return c=new t_(c,f,y,te,ue,be,Fe,ft),f=1,V===!0&&(f|=24),V=t(3,null,null,f),c.current=V,V.stateNode=c,f=Do(),f.refCount++,c.pooledCache=f,f.refCount++,V.memoizedState={element:w,isDehydrated:y,cache:f},At(V),c}function Si(c){return c?(c=Wo,c):Wo}function Ad(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=S(f),c=c!==null?M(c):null,c===null?null:Pc(c.stateNode)}function Nc(c,f,y,w,R,V){R=Si(R),w.context===null?w.context=R:w.pendingContext=R,w=Ge(f),w.payload={element:y},V=V===void 0?null:V,V!==null&&(w.callback=V),y=Je(c,w,f),y!==null&&(qi(y,c,f),wt(y,c,f))}function Rc(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function Ju(c,f){Rc(c,f),(c=c.alternate)&&Rc(c,f)}var Qt={},Dc=fr(),es=oj(),Cd=Object.assign,n_=Symbol.for("react.element"),$u=Symbol.for("react.transitional.element"),Ss=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),Ym=Symbol.for("react.consumer"),Zs=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),Dd=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),Zm=Symbol.for("react.offscreen"),Ug=Symbol.for("react.memo_cache_sentinel"),eo=Symbol.iterator,Km=Symbol.for("react.client.reference"),Ht=Dc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gr,to,Ml=!1,Lc=Array.isArray,Qm=e.rendererVersion,af=e.rendererPackageName,Uc=e.extraDevToolsConfig,Pc=e.getPublicInstance,Pg=e.getRootHostContext,zc=e.getChildHostContext,Od=e.prepareForCommit,zg=e.resetAfterCommit,Jm=e.createInstance,sf=e.appendInitialChild,no=e.finalizeInitialChildren,Jt=e.shouldSetTextContent,Ln=e.createTextInstance,Ei=e.scheduleTimeout,Ld=e.cancelTimeout,ko=e.noTimeout,ba=e.isPrimaryRenderer;e.warnsIfNotActing;var Li=e.supportsMutation,Ms=e.supportsPersistence,ia=e.supportsHydration,Bg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var hi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ua=e.setCurrentUpdatePriority,io=e.getCurrentUpdatePriority,Ig=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Fg=e.shouldAttemptEagerTransition,i_=e.detachDeletedInstance;e.requestPostPaintCallback;var $m=e.maySuspendCommit,Ud=e.preloadInstance,ep=e.startSuspendingCommit,_a=e.suspendInstance,Mi=e.waitForCommitToBeReady,Go=e.NotPendingTransition,Ks=e.HostTransitionContext,Pd=e.resetFormInstance;e.bindToConsole;var tp=e.supportsMicrotasks,ao=e.scheduleMicrotask,qo=e.supportsTestSelectors,np=e.findFiberRoot,ip=e.getBoundingRect,Vg=e.getTextContent,Bc=e.isHiddenSubtree,Hg=e.matchAccessibilityRole,kg=e.setFocusIfFocusable,Gg=e.setupIntersectionObserver,qg=e.appendChild,ap=e.appendChildToContainer,jg=e.commitTextUpdate,a_=e.commitMount,Xg=e.commitUpdate,Wg=e.insertBefore,Yg=e.insertInContainerBefore,sp=e.removeChild,Zg=e.removeChildFromContainer,rp=e.resetTextContent,Kg=e.hideInstance,Qg=e.hideTextInstance,Jg=e.unhideInstance,s_=e.unhideTextInstance,$g=e.clearContainer,Ic=e.cloneInstance,rf=e.createContainerChildSet,op=e.appendChildToContainerChildSet,zd=e.finalizeContainerChildren,Fc=e.replaceContainerChildren,lp=e.cloneHiddenInstance,cp=e.cloneHiddenTextInstance,Bd=e.isSuspenseInstancePending,Id=e.isSuspenseInstanceFallback,ex=e.getSuspenseInstanceFallbackErrorDetails,tx=e.registerSuspenseInstanceRetry,up=e.canHydrateFormStateMarker,nx=e.isFormStateMarkerMatching,fp=e.getNextHydratableSibling,Fd=e.getFirstHydratableChild,ix=e.getFirstHydratableChildWithinContainer,ax=e.getFirstHydratableChildWithinSuspenseInstance,r_=e.canHydrateInstance,dp=e.canHydrateTextInstance,sx=e.canHydrateSuspenseInstance,rx=e.hydrateInstance,hp=e.hydrateTextInstance,ox=e.hydrateSuspenseInstance,lx=e.getNextHydratableInstanceAfterSuspenseInstance,o_=e.commitHydratedContainer,l_=e.commitHydratedSuspenseInstance,cx=e.clearSuspenseBoundary,of=e.clearSuspenseBoundaryFromContainer,Vd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Hd=e.validateHydratableInstance,ux=e.validateHydratableTextInstance,ts=e.supportsResources,lf=e.isHostHoistableType,kd=e.getHoistableRoot,mp=e.getResource,fx=e.acquireResource,wl=e.releaseResource,cf=e.hydrateHoistable,uf=e.mountHoistable,Vc=e.unmountHoistable,Gd=e.createHoistableInstance,dx=e.prepareToCommitHoistables,hx=e.mayResourceSuspendCommit,Tl=e.preloadResource,mx=e.suspendResource,Bn=e.supportsSingletons,Qs=e.resolveSingletonInstance,jo=e.clearSingleton,px=e.acquireSingletonInstance,Xo=e.releaseSingletonInstance,xr=e.isHostSingletonType,mi=[],so=-1,Wo={},Sa=Math.clz32?Math.clz32:O,gx=Math.log,xx=Math.LN2,vr=128,Al=4194304,ff=es.unstable_scheduleCallback,qd=es.unstable_cancelCallback,vx=es.unstable_shouldYield,jd=es.unstable_requestPaint,ws=es.unstable_now,Xd=es.unstable_ImmediatePriority,yx=es.unstable_UserBlockingPriority,Wd=es.unstable_NormalPriority,c_=es.unstable_IdlePriority,bx=es.log,ji=es.unstable_setDisableYieldValue,pi=null,Pa=null,za=typeof Object.is=="function"?Object.is:$,pp=new WeakMap,Cl=[],Nl=0,Rl=null,Hc=0,ns=[],is=0,Yo=null,Js=1,$s="",Ui=T(null),kc=T(null),yr=T(null),Dl=T(null),aa=null,sa=null,xn=!1,Ts=null,Xi=!1,df=Error(a(519)),As=[],Ol=0,er=0,hf=null,ro=null,Ll=!1,jn=!1,gp=!1,Gc=0,qc=null,Ul=0,as=0,Pl=null,oo=!1,zl=!1,br=Object.prototype.hasOwnProperty,jc=Error(a(460)),mf=Error(a(474)),pf={then:function(){}},Zo=null,Ko=null,Qo=0,Jo=ui(!0),_r=ui(!1),Xn=T(null),Xc=T(0),ss=T(null),In=null,Pi=T(0),lo=0,nn=null,Bt=null,yn=null,Cs=!1,Bl=!1,$o=!1,Yd=0,Il=0,Wi=null,tr=0,Zd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},si={readContext:$i,use:Ne,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn};si.useCacheRefresh=kn,si.useMemoCache=kn,si.useHostTransitionStatus=kn,si.useFormState=kn,si.useActionState=kn,si.useOptimistic=kn;var el={readContext:$i,use:Ne,useCallback:function(c,f){return fi().memoizedState=[c,f===void 0?null:f],c},useContext:$i,useEffect:rd,useImperativeHandle:function(c,f,y){y=y!=null?y.concat([c]):null,Qa(4194308,4,od.bind(null,f,c),y)},useLayoutEffect:function(c,f){return Qa(4194308,4,c,f)},useInsertionEffect:function(c,f){Qa(4,2,c,f)},useMemo:function(c,f){var y=fi();f=f===void 0?null:f;var w=c();if($o){z(!0);try{c()}finally{z(!1)}}return y.memoizedState=[w,f],w},useReducer:function(c,f,y){var w=fi();if(y!==void 0){var R=y(f);if($o){z(!0);try{y(f)}finally{z(!1)}}}else R=f;return w.memoizedState=w.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},w.queue=c,c=c.dispatch=cd.bind(null,nn,c),[w.memoizedState,c]},useRef:function(c){var f=fi();return c={current:c},f.memoizedState=c},useState:function(c){c=fn(c);var f=c.queue,y=Sm.bind(null,nn,f);return f.dispatch=y,[c.memoizedState,y]},useDebugValue:To,useDeferredValue:function(c,f){var y=fi();return Ru(y,c,f)},useTransition:function(){var c=fn(!1);return c=hc.bind(null,nn,c.queue,!0,!1),fi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,y){var w=nn,R=fi();if(xn){if(y===void 0)throw Error(a(407));y=y()}else{if(y=f(),Rn===null)throw Error(a(349));(hn&60)!==0||Nt(w,f,y)}R.memoizedState=y;var V={value:y,getSnapshot:f};return R.queue=V,rd(Tt.bind(null,w,V,c),[c]),w.flags|=2048,qn(9,Pt.bind(null,w,V,y,f),{destroy:void 0},null),y},useId:function(){var c=fi(),f=Rn.identifierPrefix;if(xn){var y=$s,w=Js;y=(w&~(1<<32-Sa(w)-1)).toString(32)+y,f=":"+f+"R"+y,y=Yd++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=tr++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return fi().memoizedState=_m.bind(null,nn)}};el.useMemoCache=Le,el.useHostTransitionStatus=Du,el.useFormState=Hr,el.useActionState=Hr,el.useOptimistic=function(c){var f=fi();f.memoizedState=f.baseState=c;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=pc.bind(null,nn,!0,y),y.dispatch=f,[c,f]};var Ea={readContext:$i,use:Ne,useCallback:bl,useContext:$i,useEffect:vm,useImperativeHandle:ld,useInsertionEffect:dg,useLayoutEffect:Nu,useMemo:ym,useReducer:et,useRef:dc,useState:function(){return et(ge)},useDebugValue:To,useDeferredValue:function(c,f){var y=ee();return bm(y,Bt.memoizedState,c,f)},useTransition:function(){var c=et(ge)[0],f=ee().memoizedState;return[typeof c=="boolean"?c:xe(c),f]},useSyncExternalStore:xt,useId:mc};Ea.useCacheRefresh=kr,Ea.useMemoCache=Le,Ea.useHostTransitionStatus=Du,Ea.useFormState=Un,Ea.useActionState=Un,Ea.useOptimistic=function(c,f){var y=ee();return Gn(y,Bt,c,f)};var rs={readContext:$i,use:Ne,useCallback:bl,useContext:$i,useEffect:vm,useImperativeHandle:ld,useInsertionEffect:dg,useLayoutEffect:Nu,useMemo:ym,useReducer:bt,useRef:dc,useState:function(){return bt(ge)},useDebugValue:To,useDeferredValue:function(c,f){var y=ee();return Bt===null?Ru(y,c,f):bm(y,Bt.memoizedState,c,f)},useTransition:function(){var c=bt(ge)[0],f=ee().memoizedState;return[typeof c=="boolean"?c:xe(c),f]},useSyncExternalStore:xt,useId:mc};rs.useCacheRefresh=kr,rs.useMemoCache=Le,rs.useHostTransitionStatus=Du,rs.useFormState=Oi,rs.useActionState=Oi,rs.useOptimistic=function(c,f){var y=ee();return Bt!==null?Gn(y,Bt,c,f):(y.baseState=c,[c,y.queue.dispatch])};var Sr={isMounted:function(c){return(c=c._reactInternals)?v(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var w=di(),R=Ge(w);R.payload=f,y!=null&&(R.callback=y),f=Je(c,R,w),f!==null&&(qi(f,c,w),wt(f,c,w))},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var w=di(),R=Ge(w);R.tag=1,R.payload=f,y!=null&&(R.callback=y),f=Je(c,R,w),f!==null&&(qi(f,c,w),wt(f,c,w))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=di(),w=Ge(y);w.tag=2,f!=null&&(w.callback=f),f=Je(c,w,y),f!==null&&(qi(f,c,y),wt(f,c,y))}},Kd=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Qd=Error(a(461)),Fn=!1,Jd={dehydrated:null,treeContext:null,retryLane:0},co=T(null),nr=null,os=null,Wc=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(y,w){c.push(w)}};this.abort=function(){f.aborted=!0,c.forEach(function(y){return y()})}},_x=es.unstable_scheduleCallback,Sx=es.unstable_NormalPriority,Wn={$$typeof:Zs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},xp=Ht.S;Ht.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Ce(c,f),xp!==null&&xp(c,f)};var Er=T(null),Mr=!1,ri=!1,vp=!1,Nn=typeof WeakSet=="function"?WeakSet:Set,Yt=null,un=!1,Lt=null,$t=!1,ni=null,ls=8192,Yc={getCacheForType:function(c){var f=$i(Wn),y=f.data.get(c);return y===void 0&&(y=c(),f.data.set(c,y)),y}},Zc=0,Ns=1,Qn=2,ir=3,wr=4;if(typeof Symbol=="function"&&Symbol.for){var Fl=Symbol.for;Zc=Fl("selector.component"),Ns=Fl("selector.has_pseudo_class"),Qn=Fl("selector.role"),ir=Fl("selector.test_id"),wr=Fl("selector.text")}var Rs=typeof WeakMap=="function"?WeakMap:Map,bn=0,Rn=null,It=null,hn=0,Pn=0,fa=null,Ds=!1,cs=!1,zi=!1,da=0,Vn=0,us=0,uo=0,gf=0,fs=0,Tr=0,Vl=null,oi=null,$d=!1,Ma=0,Kc=1/0,xf=null,tl=null,ar=!1,Ar=null,Hl=0,nl=0,eh=null,Qc=0,th=null;return Qt.attemptContinuousHydration=function(c){if(c.tag===13){var f=Te(c,67108864);f!==null&&qi(f,c,67108864),Ju(c,67108864)}},Qt.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=di(),y=Te(c,f);y!==null&&qi(y,c,f),Ju(c,f)}},Qt.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=F(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var y=1<<31-Sa(f);c.entanglements[1]|=y,f&=~y}Qe(c),(bn&6)===0&&(Kc=ws()+500,Ze(0))}}break;case 13:f=Te(c,2),f!==null&&qi(f,c,2),Yu(),Ju(c,2)}},Qt.batchedUpdates=function(c,f){return c(f)},Qt.createComponentSelector=function(c){return{$$typeof:Zc,value:c}},Qt.createContainer=function(c,f,y,w,R,V,te,ue,be,Fe){return Lg(c,f,!1,null,y,w,V,te,ue,be,Fe,null)},Qt.createHasPseudoClassSelector=function(c){return{$$typeof:Ns,value:c}},Qt.createHydrationContainer=function(c,f,y,w,R,V,te,ue,be,Fe,nt,ft,pt){return c=Lg(y,w,!0,c,R,V,ue,be,Fe,nt,ft,pt),c.context=Si(null),y=c.current,w=di(),R=Ge(w),R.callback=f??null,Je(y,R,w),c.current.lanes=w,j(c,w),Qe(c),c},Qt.createPortal=function(c,f,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ss,key:w==null?null:""+w,children:c,containerInfo:f,implementation:y}},Qt.createRoleSelector=function(c){return{$$typeof:Qn,value:c}},Qt.createTestNameSelector=function(c){return{$$typeof:ir,value:c}},Qt.createTextSelector=function(c){return{$$typeof:wr,value:c}},Qt.defaultOnCaughtError=function(c){console.error(c)},Qt.defaultOnRecoverableError=function(c){Kd(c)},Qt.defaultOnUncaughtError=function(c){Kd(c)},Qt.deferredUpdates=function(c){var f=Ht.T,y=io();try{return ua(32),Ht.T=null,c()}finally{ua(y),Ht.T=f}},Qt.discreteUpdates=function(c,f,y,w,R){var V=Ht.T,te=io();try{return ua(2),Ht.T=null,c(f,y,w,R)}finally{ua(te),Ht.T=V,bn===0&&(Kc=ws()+500)}},Qt.findAllNodes=Xu,Qt.findBoundingRects=function(c,f){if(!qo)throw Error(a(363));f=Xu(c,f),c=[];for(var y=0;y<f.length;y++)c.push(ip(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var w=y.x,R=w+y.width,V=y.y,te=V+y.height,ue=f-1;0<=ue;ue--)if(f!==ue){var be=c[ue],Fe=be.x,nt=Fe+be.width,ft=be.y,pt=ft+be.height;if(w>=Fe&&V>=ft&&R<=nt&&te<=pt){c.splice(f,1);break}else if(w!==Fe||y.width!==be.width||pt<V||ft>te){if(!(V!==ft||y.height!==be.height||nt<w||Fe>R)){Fe>w&&(be.width+=Fe-w,be.x=w),nt<R&&(be.width=R-Fe),c.splice(f,1);break}}else{ft>V&&(be.height+=ft-V,be.y=V),pt<te&&(be.height=te-ft),c.splice(f,1);break}}}return c},Qt.findHostInstance=Ad,Qt.findHostInstanceWithNoPortals=function(c){return c=S(c),c=c!==null?A(c):null,c===null?null:Pc(c.stateNode)},Qt.findHostInstanceWithWarning=function(c){return Ad(c)},Qt.flushPassiveEffects=Ys,Qt.flushSyncFromReconciler=function(c){var f=bn;bn|=1;var y=Ht.T,w=io();try{if(ua(2),Ht.T=null,c)return c()}finally{ua(w),Ht.T=y,bn=f,(bn&6)===0&&Ze(0)}},Qt.flushSyncWork=Yu,Qt.focusWithin=function(c,f){if(!qo)throw Error(a(363));for(c=wc(c),f=La(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++],w=y.tag;if(!Bc(y)){if((w===5||w===26||w===27)&&kg(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},Qt.getFindAllNodesFailureDescription=function(c,f){if(!qo)throw Error(a(363));var y=0,w=[];c=[wc(c),0];for(var R=0;R<c.length;){var V=c[R++],te=V.tag,ue=c[R++],be=f[ue];if((te!==5&&te!==26&&te!==27||!Bc(V))&&(Po(V,be)&&(w.push(Vm(be)),ue++,ue>y&&(y=ue)),ue<f.length))for(V=V.child;V!==null;)c.push(V,ue),V=V.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(Vm(f[y]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},Qt.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return Pc(c.child.stateNode);default:return c.child.stateNode}},Qt.injectIntoDevTools=function(){var c={bundleType:0,version:Qm,rendererPackageName:af,currentDispatcherRef:Ht,findFiberByHostInstance:Bg,reconcilerVersion:"19.0.0"};if(Uc!==null&&(c.rendererConfig=Uc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{pi=f.inject(c),Pa=f}catch{}c=!!f.checkDCE}}return c},Qt.isAlreadyRendering=function(){return!1},Qt.observeVisibleRects=function(c,f,y,w){if(!qo)throw Error(a(363));c=Xu(c,f);var R=Gg(c,y,w).disconnect;return{disconnect:function(){R()}}},Qt.shouldError=function(){return null},Qt.shouldSuspend=function(){return!1},Qt.startHostTransition=function(c,f,y,w){if(c.tag!==5)throw Error(a(476));var R=dr(c).queue;hc(c,R,f,Go,y===null?i:function(){var V=dr(c).next.queue;return Ao(c,V,{},di()),y(w)})},Qt.updateContainer=function(c,f,y,w){var R=f.current,V=di();return Nc(R,V,c,f,y,w),V},Qt.updateContainerSync=function(c,f,y,w){return f.tag===0&&Ys(),Nc(f.current,2,c,f,y,w),2},Qt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(t1)),t1.exports}var yA;function cj(){return yA||(yA=1,e1.exports=lj()),e1.exports}var uj=cj();const fj=k0(uj);var a1={exports:{}},s1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function dj(){return bA||(bA=1,(function(n){function e(k,z){var $=k.length;k.push(z);e:for(;0<$;){var X=$-1>>>1,N=k[X];if(0<a(N,z))k[X]=z,k[$]=N,$=X;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var z=k[0],$=k.pop();if($!==z){k[0]=$;e:for(var X=0,N=k.length,G=N>>>1;X<G;){var ae=2*(X+1)-1,fe=k[ae],ce=ae+1,_e=k[ce];if(0>a(fe,$))ce<N&&0>a(_e,fe)?(k[X]=_e,k[ce]=$,X=ce):(k[X]=fe,k[ae]=$,X=ae);else if(ce<N&&0>a(_e,$))k[X]=_e,k[ce]=$,X=ce;else break e}}return z}function a(k,z){var $=k.sortIndex-z.sortIndex;return $!==0?$:k.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],m=[],g=1,v=null,b=3,S=!1,M=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(k){for(var z=t(m);z!==null;){if(z.callback===null)i(m);else if(z.startTime<=k)i(m),z.sortIndex=z.expirationTime,e(h,z);else break;z=t(m)}}function F(k){if(A=!1,O(k),!M)if(t(h)!==null)M=!0,Y();else{var z=t(m);z!==null&&ne(F,z.startTime-k)}}var D=!1,U=-1,B=5,H=-1;function I(){return!(n.unstable_now()-H<B)}function P(){if(D){var k=n.unstable_now();H=k;var z=!0;try{e:{M=!1,A&&(A=!1,_(U),U=-1),S=!0;var $=b;try{t:{for(O(k),v=t(h);v!==null&&!(v.expirationTime>k&&I());){var X=v.callback;if(typeof X=="function"){v.callback=null,b=v.priorityLevel;var N=X(v.expirationTime<=k);if(k=n.unstable_now(),typeof N=="function"){v.callback=N,O(k),z=!0;break t}v===t(h)&&i(h),O(k)}else i(h);v=t(h)}if(v!==null)z=!0;else{var G=t(m);G!==null&&ne(F,G.startTime-k),z=!1}}break e}finally{v=null,b=$,S=!1}z=void 0}}finally{z?j():D=!1}}}var j;if(typeof L=="function")j=function(){L(P)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,W=Z.port2;Z.port1.onmessage=P,j=function(){W.postMessage(null)}}else j=function(){T(P,0)};function Y(){D||(D=!0,j())}function ne(k,z){U=T(function(){k(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){M||S||(M=!0,Y())},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var $=b;b=z;try{return k()}finally{b=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=b;b=k;try{return z()}finally{b=$}},n.unstable_scheduleCallback=function(k,z,$){var X=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=$+N,k={id:g++,callback:z,priorityLevel:k,startTime:$,expirationTime:N,sortIndex:-1},$>X?(k.sortIndex=$,e(m,k),t(h)===null&&k===t(m)&&(A?(_(U),U=-1):A=!0,ne(F,$-X))):(k.sortIndex=N,e(h,k),M||S||(M=!0,Y())),k},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(k){var z=b;return function(){var $=b;b=z;try{return k.apply(this,arguments)}finally{b=$}}}})(s1)),s1}var _A;function hj(){return _A||(_A=1,a1.exports=dj()),a1.exports}var SA=hj();function e2(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const a=e2(i,e,t);if(a)return a;i=e?null:i.sibling}}function SO(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const t2=SO(K.createContext(null));class EO extends K.Component{render(){return K.createElement(t2.Provider,{value:this._reactInternals},this.props.children)}}function MO(){const n=K.useContext(t2);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=K.useId();return K.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=e2(t,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const mj=Symbol.for("react.context"),pj=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===mj;function gj(){const n=MO(),[e]=K.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;pj(i)&&i!==t2&&!e.has(i)&&e.set(i,K.use(SO(i))),t=t.return}return e}function xj(){const n=gj();return K.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>K.createElement(e,null,K.createElement(t.Provider,{...i,value:n.get(t)})),e=>K.createElement(EO,{...e})),[n])}function wO(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const TO=n=>n&&n.isOrthographicCamera,vj=n=>n&&n.hasOwnProperty("current"),yj=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),cg=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?K.useLayoutEffect:K.useEffect;function AO(n){const e=K.useRef(n);return cg(()=>void(e.current=n),[n]),e}function bj(){const n=MO(),e=xj();return K.useMemo(()=>({children:t})=>{const a=!!e2(n,!0,r=>r.type===K.StrictMode)?K.StrictMode:K.Fragment;return Ai.jsx(a,{children:Ai.jsx(e,{children:t})})},[n,e])}function _j({set:n}){return cg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Sj=(n=>(n=class extends K.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function CO(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Ch(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const xi={obj:n=>n===Object(n)&&!xi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(xi.str(n)||xi.num(n)||xi.boo(n))return n===e;const r=xi.obj(n);if(r&&i==="reference")return n===e;const l=xi.arr(n);if(l&&t==="reference")return n===e;if((l||r)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(u in a?e:n)if(!xi.equ(n[u],e[u],{strict:a,objects:"reference"}))return!1}else for(u in a?e:n)if(n[u]!==e[u])return!1;if(xi.und(u)){if(l&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Ej(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const NO=["children","key","ref"];function Mj(n){const e={};for(const t in n)NO.includes(t)||(e[t]=n[t]);return e}function Yy(n,e,t,i){const a=n;let r=a?.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:Mj(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=r)),r}function H0(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const a of i){if(typeof t!="object"||t===null){if(t!==void 0){const r=i.slice(i.indexOf(a)).join("-");return{root:t,key:r,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=t,t=t[e]}return{root:n,key:e,target:t}}const EA=/-\d+$/;function Zy(n,e){if(xi.str(e.props.attach)){if(EA.test(e.props.attach)){const a=e.props.attach.replace(EA,""),{root:r,key:l}=H0(n.object,a);Array.isArray(r[l])||(r[l]=[])}const{root:t,key:i}=H0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else xi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function Ky(n,e){if(xi.str(e.props.attach)){const{root:t,key:i}=H0(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[i]:t[i]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const gE=[...NO,"args","dispose","attach","object","onUpdate","dispose"],MA=new Map;function wj(n){let e=MA.get(n.constructor);try{e||(e=new n.constructor,MA.set(n.constructor,e))}catch{}return e}function Tj(n,e){const t={};for(const i in e)if(!gE.includes(i)&&!xi.equ(e[i],n.props[i])){t[i]=e[i];for(const a in e)a.startsWith(`${i}-`)&&(t[a]=e[a])}for(const i in n.props){if(gE.includes(i)||e.hasOwnProperty(i))continue;const{root:a,key:r}=H0(n.object,i);if(a.constructor&&a.constructor.length===0){const l=wj(a);xi.und(l)||(t[r]=l[r])}else t[r]=0}return t}const Aj=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Cj=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function mu(n,e){var t;const i=n.__r3f,a=i&&wO(i).getState(),r=i?.eventCount;for(const u in e){let h=e[u];if(gE.includes(u))continue;if(i&&Cj.test(u)){typeof h=="function"?i.handlers[u]=h:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:m,key:g,target:v}=H0(n,u);if(v===void 0&&(typeof m!="object"||m===null))throw Error(`R3F: Cannot set "${u}". Ensure it is an object before setting "${g}".`);if(v instanceof Qh&&h instanceof Qh)v.mask=h.mask;else if(v instanceof vt&&yj(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var l;m[g]=h,a&&!a.linear&&Aj.includes(g)&&(l=m[g])!=null&&l.isTexture&&m[g].format===qa&&m[g].type===Pr&&(m[g].colorSpace=Ha)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const u=i.object,h=a.internal.interaction.indexOf(u);h>-1&&a.internal.interaction.splice(h,1),i.eventCount&&u.raycast!==null&&a.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&xm(i),n}function xm(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Nj(n,e){n.manual||(TO(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Us=n=>n?.isObject3D;function Bv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function RO(n,e,t,i){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function Rj(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,a)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((i,a)=>{RO(t.capturedMap,e,i,a)})}function Dj(n){function e(h){const{internal:m}=n.getState(),g=h.offsetX-m.initialClick[0],v=h.offsetY-m.initialClick[1];return Math.round(Math.sqrt(g*g+v*v))}function t(h){return h.filter(m=>["Move","Over","Enter","Out","Leave"].some(g=>{var v;return(v=m.__r3f)==null?void 0:v.handlers["onPointer"+g]}))}function i(h,m){const g=n.getState(),v=new Set,b=[],S=m?m(g.internal.interaction):g.internal.interaction;for(let _=0;_<S.length;_++){const L=Ch(S[_]);L&&(L.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(h,g);function M(_){const L=Ch(_);if(!L||!L.events.enabled||L.raycaster.camera===null)return[];if(L.raycaster.camera===void 0){var O;L.events.compute==null||L.events.compute(h,L,(O=L.previousRoot)==null?void 0:O.getState()),L.raycaster.camera===void 0&&(L.raycaster.camera=null)}return L.raycaster.camera?L.raycaster.intersectObject(_,!0):[]}let A=S.flatMap(M).sort((_,L)=>{const O=Ch(_.object),F=Ch(L.object);return!O||!F?_.distance-L.distance:F.events.priority-O.events.priority||_.distance-L.distance}).filter(_=>{const L=Bv(_);return v.has(L)?!1:(v.add(L),!0)});g.events.filter&&(A=g.events.filter(A,g));for(const _ of A){let L=_.object;for(;L;){var T;(T=L.__r3f)!=null&&T.eventCount&&b.push({..._,eventObject:L}),L=L.parent}}if("pointerId"in h&&g.internal.capturedMap.has(h.pointerId))for(let _ of g.internal.capturedMap.get(h.pointerId).values())v.has(Bv(_.intersection))||b.push(_.intersection);return b}function a(h,m,g,v){if(h.length){const b={stopped:!1};for(const S of h){let M=Ch(S.object);if(M||S.object.traverseAncestors(A=>{const T=Ch(A);if(T)return M=T,!1}),M){const{raycaster:A,pointer:T,camera:_,internal:L}=M,O=new re(T.x,T.y,0).unproject(_),F=I=>{var P,j;return(P=(j=L.capturedMap.get(I))==null?void 0:j.has(S.eventObject))!=null?P:!1},D=I=>{const P={intersection:S,target:m.target};L.capturedMap.has(I)?L.capturedMap.get(I).set(S.eventObject,P):L.capturedMap.set(I,new Map([[S.eventObject,P]])),m.target.setPointerCapture(I)},U=I=>{const P=L.capturedMap.get(I);P&&RO(L.capturedMap,S.eventObject,P,I)};let B={};for(let I in m){let P=m[I];typeof P!="function"&&(B[I]=P)}let H={...S,...B,pointer:T,intersections:h,stopped:b.stopped,delta:g,unprojectedPoint:O,ray:A.ray,camera:_,stopPropagation(){const I="pointerId"in m&&L.capturedMap.get(m.pointerId);if((!I||I.has(S.eventObject))&&(H.stopped=b.stopped=!0,L.hovered.size&&Array.from(L.hovered.values()).find(P=>P.eventObject===S.eventObject))){const P=h.slice(0,h.indexOf(S));r([...P,S])}},target:{hasPointerCapture:F,setPointerCapture:D,releasePointerCapture:U},currentTarget:{hasPointerCapture:F,setPointerCapture:D,releasePointerCapture:U},nativeEvent:m};if(v(H),b.stopped===!0)break}}}return h}function r(h){const{internal:m}=n.getState();for(const g of m.hovered.values())if(!h.length||!h.find(v=>v.object===g.object&&v.index===g.index&&v.instanceId===g.instanceId)){const b=g.eventObject.__r3f;if(m.hovered.delete(Bv(g)),b!=null&&b.eventCount){const S=b.handlers,M={...g,intersections:h};S.onPointerOut==null||S.onPointerOut(M),S.onPointerLeave==null||S.onPointerLeave(M)}}}function l(h,m){for(let g=0;g<m.length;g++){const v=m[g].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return m=>{const{internal:g}=n.getState();"pointerId"in m&&g.capturedMap.has(m.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(m.pointerId)&&(g.capturedMap.delete(m.pointerId),r([]))})}}return function(g){const{onPointerMissed:v,internal:b}=n.getState();b.lastEvent.current=g;const S=h==="onPointerMove",M=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",T=i(g,S?t:void 0),_=M?e(g):0;h==="onPointerDown"&&(b.initialClick=[g.offsetX,g.offsetY],b.initialHits=T.map(O=>O.eventObject)),M&&!T.length&&_<=2&&(l(g,b.interaction),v&&v(g)),S&&r(T);function L(O){const F=O.eventObject,D=F.__r3f;if(!(D!=null&&D.eventCount))return;const U=D.handlers;if(S){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const B=Bv(O),H=b.hovered.get(B);H?H.stopped&&O.stopPropagation():(b.hovered.set(B,O),U.onPointerOver==null||U.onPointerOver(O),U.onPointerEnter==null||U.onPointerEnter(O))}U.onPointerMove==null||U.onPointerMove(O)}else{const B=U[h];B?(!M||b.initialHits.includes(F))&&(l(g,b.interaction.filter(H=>!b.initialHits.includes(H))),B(O)):M&&b.initialHits.includes(F)&&l(g,b.interaction.filter(H=>!b.initialHits.includes(H)))}}a(T,g,_,L)}}return{handlePointer:u}}const wA=n=>!!(n!=null&&n.render),DO=K.createContext(null),Oj=(n,e)=>{const t=sj((u,h)=>{const m=new re,g=new re,v=new re;function b(_=h().camera,L=g,O=h().size){const{width:F,height:D,top:U,left:B}=O,H=F/D;L.isVector3?v.copy(L):v.set(...L);const I=_.getWorldPosition(m).distanceTo(v);if(TO(_))return{width:F/_.zoom,height:D/_.zoom,top:U,left:B,factor:1,distance:I,aspect:H};{const P=_.fov*Math.PI/180,j=2*Math.tan(P/2)*I,Z=j*(F/D);return{width:Z,height:j,top:U,left:B,factor:F/Z,distance:I,aspect:H}}}let S;const M=_=>u(L=>({performance:{...L.performance,current:_}})),A=new We;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(_=1)=>n(h(),_),advance:(_,L)=>e(_,L,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new ZM,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=h();S&&clearTimeout(S),_.performance.current!==_.performance.min&&M(_.performance.min),S=setTimeout(()=>M(h().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:b},setEvents:_=>u(L=>({...L,events:{...L.events,..._}})),setSize:(_,L,O=0,F=0)=>{const D=h().camera,U={width:_,height:L,top:O,left:F};u(B=>({size:U,viewport:{...B.viewport,...b(D,g,U)}}))},setDpr:_=>u(L=>{const O=CO(_);return{viewport:{...L.viewport,dpr:O,initialDpr:L.viewport.initialDpr||O}}}),setFrameloop:(_="always")=>{const L=h().clock;L.stop(),L.elapsedTime=0,_!=="never"&&(L.start(),L.elapsedTime=0),u(()=>({frameloop:_}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:K.createRef(),active:!1,frames:0,priority:0,subscribe:(_,L,O)=>{const F=h().internal;return F.priority=F.priority+(L>0?1:0),F.subscribers.push({ref:_,priority:L,store:O}),F.subscribers=F.subscribers.sort((D,U)=>D.priority-U.priority),()=>{const D=h().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(L>0?1:0),D.subscribers=D.subscribers.filter(U=>U.ref!==_))}}}}}),i=t.getState();let a=i.size,r=i.viewport.dpr,l=i.camera;return t.subscribe(()=>{const{camera:u,size:h,viewport:m,gl:g,set:v}=t.getState();if(h.width!==a.width||h.height!==a.height||m.dpr!==r){a=h,r=m.dpr,Nj(u,h),m.dpr>0&&g.setPixelRatio(m.dpr);const b=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(h.width,h.height,b)}u!==l&&(l=u,v(b=>({viewport:{...b.viewport,...b.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function OO(){const n=K.useContext(DO);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Lj(n=t=>t,e){return OO()(n,e)}function Uj(n,e=0){const t=OO(),i=t.getState().internal.subscribe,a=AO(n);return cg(()=>i(a,e,t),[e,i,t]),null}function Pj(n){const e=fj(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:K.version}),e}const LO=0,tm={},zj=/^three(?=[A-Z])/,Zb=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Bj=0;const Ij=n=>typeof n=="function";function Fj(n){if(Ij(n)){const e=`${Bj++}`;return tm[e]=n,e}else Object.assign(tm,n)}function UO(n,e){const t=Zb(n),i=tm[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Vj(n,e,t){var i;return n=Zb(n)in tm?n:n.replace(zj,""),UO(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,Yy(e.object,t,n,e)}function Hj(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Ky(n.parent,n):Us(n.object)&&(n.object.visible=!1),n.isHidden=!0,xm(n)}}function PO(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Zy(n.parent,n):Us(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,xm(n)}}function n2(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var a,r;const l=tm[Zb(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(mu(e.object,e.props),e.props.attach)Zy(n,e);else if(Us(e.object)&&Us(n.object)){const l=n.object.children.indexOf(t?.object);if(t&&l!==-1){const u=n.object.children.indexOf(e.object);if(u!==-1){n.object.children.splice(u,1);const h=u<l?l-1:l;n.object.children.splice(h,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)n2(e,l);xm(e)}}function r1(n,e){e&&(e.parent=n,n.children.push(e),n2(n,e))}function TA(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),n2(n,e,t)}function zO(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():SA.unstable_scheduleCallback(SA.unstable_IdlePriority,e)}}function xE(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?Ky(n,e):Us(e.object)&&Us(n.object)&&(n.object.remove(e.object),Rj(wO(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const l=e.children[r];xE(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&zO(e.object),t===void 0&&xm(e)}function kj(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const Jv=[];function Gj(){for(const[t]of Jv){const i=t.parent;if(i){t.props.attach?Ky(i,t):Us(t.object)&&Us(i.object)&&i.object.remove(t.object);for(const a of t.children)a.props.attach?Ky(t,a):Us(a.object)&&Us(t.object)&&t.object.remove(a.object)}t.isHidden&&PO(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&zO(t.object)}for(const[t,i,a]of Jv){t.props=i;const r=t.parent;if(r){var n,e;const l=tm[Zb(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,kj(a,t.object),mu(t.object,t.props),t.props.attach?Zy(r,t):Us(t.object)&&Us(r.object)&&r.object.add(t.object);for(const u of t.children)u.props.attach?Zy(t,u):Us(u.object)&&Us(t.object)&&t.object.add(u.object);xm(t)}}Jv.length=0}const o1=()=>{},AA={};let Iv=LO;const qj=0,jj=4,vE=Pj({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Vj,removeChild:xE,appendChild:r1,appendInitialChild:r1,insertBefore:TA,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||r1(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||xE(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||TA(i,e,t)},getRootHostContext:()=>AA,getChildHostContext:()=>AA,commitUpdate(n,e,t,i,a){var r,l,u;UO(e,i);let h=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((l=t.args)==null?void 0:l.length)||(u=i.args)!=null&&u.some((g,v)=>{var b;return g!==((b=t.args)==null?void 0:b[v])}))&&(h=!0),h)Jv.push([n,{...i},a]);else{const g=Tj(n,i);Object.keys(g).length&&(Object.assign(n.props,g),mu(n.object,g))}(a.sibling===null||(a.flags&jj)===qj)&&Gj()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>Yy(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Hj,unhideInstance:PO,createTextInstance:o1,hideTextInstance:o1,unhideTextInstance:o1,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:K.createContext(null),setCurrentUpdatePriority(n){Iv=n},getCurrentUpdatePriority(){return Iv},resolveUpdatePriority(){var n;if(Iv!==LO)return Iv;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Yv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Yv.ContinuousEventPriority;default:return Yv.DefaultEventPriority}},resetFormInstance(){}}),td=new Map,Nh={objects:"shallow",strict:!1};function Xj(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:a,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:a,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Wj(n){const e=td.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,r=i||Oj(_E,NA),l=t||vE.createContainer(r,Yv.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||td.set(n,{fiber:l,store:r});let u,h,m=!1,g=null;return{async configure(v={}){let b;g=new Promise(G=>b=G);let{gl:S,size:M,scene:A,events:T,onCreated:_,shadows:L=!1,linear:O=!1,flat:F=!1,legacy:D=!1,orthographic:U=!1,frameloop:B="always",dpr:H=[1,2],performance:I,raycaster:P,camera:j,onPointerMissed:Z}=v,W=r.getState(),Y=W.gl;if(!W.gl){const G={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ae=typeof S=="function"?await S(G):S;wA(ae)?Y=ae:Y=new _O({...G,...S}),W.set({gl:Y})}let ne=W.raycaster;ne||W.set({raycaster:ne=new hO});const{params:k,...z}=P||{};if(xi.equ(z,ne,Nh)||mu(ne,{...z}),xi.equ(k,ne.params,Nh)||mu(ne,{params:{...ne.params,...k}}),!W.camera||W.camera===h&&!xi.equ(h,j,Nh)){h=j;const G=j?.isCamera,ae=G?j:U?new lg(0,0,0,0,.1,1e3):new pa(75,0,.1,1e3);G||(ae.position.z=5,j&&(mu(ae,j),ae.manual||("aspect"in j||"left"in j||"right"in j||"bottom"in j||"top"in j)&&(ae.manual=!0,ae.updateProjectionMatrix())),!W.camera&&!(j!=null&&j.rotation)&&ae.lookAt(0,0,0)),W.set({camera:ae}),ne.camera=ae}if(!W.scene){let G;A!=null&&A.isScene?(G=A,Yy(G,r,"",{})):(G=new CM,Yy(G,r,"",{}),A&&mu(G,A)),W.set({scene:G})}T&&!W.events.handlers&&W.set({events:T(r)});const $=Xj(n,M);if(xi.equ($,W.size,Nh)||W.setSize($.width,$.height,$.top,$.left),H&&W.viewport.dpr!==CO(H)&&W.setDpr(H),W.frameloop!==B&&W.setFrameloop(B),W.onPointerMissed||W.set({onPointerMissed:Z}),I&&!xi.equ(I,W.performance,Nh)&&W.set(G=>({performance:{...G.performance,...I}})),!W.xr){var X;const G=(ce,_e)=>{const oe=r.getState();oe.frameloop!=="never"&&NA(ce,!0,oe,_e)},ae=()=>{const ce=r.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?G:null),ce.gl.xr.isPresenting||_E(ce)},fe={connect(){const ce=r.getState().gl;ce.xr.addEventListener("sessionstart",ae),ce.xr.addEventListener("sessionend",ae)},disconnect(){const ce=r.getState().gl;ce.xr.removeEventListener("sessionstart",ae),ce.xr.removeEventListener("sessionend",ae)}};typeof((X=Y.xr)==null?void 0:X.addEventListener)=="function"&&fe.connect(),W.set({xr:fe})}if(Y.shadowMap){const G=Y.shadowMap.enabled,ae=Y.shadowMap.type;if(Y.shadowMap.enabled=!!L,xi.boo(L))Y.shadowMap.type=o0;else if(xi.str(L)){var N;const fe={basic:ER,percentage:mb,soft:o0,variance:xo};Y.shadowMap.type=(N=fe[L])!=null?N:o0}else xi.obj(L)&&Object.assign(Y.shadowMap,L);(G!==Y.shadowMap.enabled||ae!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}return _n.enabled=!D,m||(Y.outputColorSpace=O?bu:Ha,Y.toneMapping=F?gl:mM),W.legacy!==D&&W.set(()=>({legacy:D})),W.linear!==O&&W.set(()=>({linear:O})),W.flat!==F&&W.set(()=>({flat:F})),S&&!xi.fun(S)&&!wA(S)&&!xi.equ(S,Y,Nh)&&mu(Y,S),u=_,m=!0,b(),this},render(v){return!m&&!g&&this.configure(),g.then(()=>{vE.updateContainer(Ai.jsx(Yj,{store:r,children:v,onCreated:u,rootElement:n}),l,null,()=>{})}),r},unmount(){BO(n)}}}function Yj({store:n,children:e,onCreated:t,rootElement:i}){return cg(()=>{const a=n.getState();a.set(r=>({internal:{...r.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),Ai.jsx(DO.Provider,{value:n,children:e})}function BO(n,e){const t=td.get(n),i=t?.fiber;if(i){const a=t?.store.getState();a&&(a.internal.active=!1),vE.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var r,l,u,h;a.events.disconnect==null||a.events.disconnect(),(r=a.gl)==null||(l=r.renderLists)==null||l.dispose==null||l.dispose(),(u=a.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=a.gl)!=null&&h.xr&&a.xr.disconnect(),Ej(a.scene),td.delete(n)}catch{}},500)})}}const Zj=new Set,Kj=new Set,Qj=new Set;function l1(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function g0(n,e){switch(n){case"before":return l1(Zj,e);case"after":return l1(Kj,e);case"tail":return l1(Qj,e)}}let c1,u1;function yE(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),c1=e.internal.subscribers;for(let a=0;a<c1.length;a++)u1=c1[a],u1.ref.current(u1.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Qy=!1,bE=!1,f1,CA,Rh;function IO(n){CA=requestAnimationFrame(IO),Qy=!0,f1=0,g0("before",n),bE=!0;for(const t of td.values()){var e;Rh=t.store.getState(),Rh.internal.active&&(Rh.frameloop==="always"||Rh.internal.frames>0)&&!((e=Rh.gl.xr)!=null&&e.isPresenting)&&(f1+=yE(n,Rh))}if(bE=!1,g0("after",n),f1===0)return g0("tail",n),Qy=!1,cancelAnimationFrame(CA)}function _E(n,e=1){var t;if(!n)return td.forEach(i=>_E(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):bE?n.internal.frames=2:n.internal.frames=1,Qy||(Qy=!0,requestAnimationFrame(IO)))}function NA(n,e=!0,t,i){if(e&&g0("before",n),t)yE(n,t,i);else for(const a of td.values())yE(n,a.store.getState());e&&g0("after",n)}const d1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Jj(n){const{handlePointer:e}=Dj(n);return{priority:1,enabled:!0,compute(t,i,a){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(d1).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(r=>({events:{...r.events,connected:t}})),a.handlers)for(const r in a.handlers){const l=a.handlers[r],[u,h]=d1[r];t.addEventListener(u,l,{passive:h})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const r=i.handlers[a],[l]=d1[a];i.connected.removeEventListener(l,r)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function RA(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function $j({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,l]=K.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=K.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,m=n?typeof n=="number"?n:n.resize:null,g=K.useRef(!1);K.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[v,b,S]=K.useMemo(()=>{const _=()=>{if(!u.current.element)return;const{left:L,top:O,width:F,height:D,bottom:U,right:B,x:H,y:I}=u.current.element.getBoundingClientRect(),P={left:L,top:O,width:F,height:D,bottom:U,right:B,x:H,y:I};u.current.element instanceof HTMLElement&&i&&(P.height=u.current.element.offsetHeight,P.width=u.current.element.offsetWidth),Object.freeze(P),g.current&&!iX(u.current.lastBounds,P)&&l(u.current.lastBounds=P)};return[_,m?RA(_,m):_,h?RA(_,h):_]},[l,i,h,m]);function M(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",S,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function A(){u.current.element&&(u.current.resizeObserver=new a(S),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(_=>_.addEventListener("scroll",S,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const T=_=>{!_||_===u.current.element||(M(),u.current.element=_,u.current.scrollContainers=FO(_),A())};return tX(S,!!e),eX(b),K.useEffect(()=>{M(),A()},[e,S,b]),K.useEffect(()=>M,[]),[T,r,v]}function eX(n){K.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function tX(n,e){K.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function FO(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[t,i,a].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...FO(n.parentElement)]}const nX=["x","y","top","bottom","left","right","width","height"],iX=(n,e)=>nX.every(t=>n[t]===e[t]);function aX({ref:n,children:e,fallback:t,resize:i,style:a,gl:r,events:l=Jj,eventSource:u,eventPrefix:h,shadows:m,linear:g,flat:v,legacy:b,orthographic:S,frameloop:M,dpr:A,performance:T,raycaster:_,camera:L,scene:O,onPointerMissed:F,onCreated:D,...U}){K.useMemo(()=>Fj(Yq),[]);const B=bj(),[H,I]=$j({scroll:!0,debounce:{scroll:50,resize:0},...i}),P=K.useRef(null),j=K.useRef(null);K.useImperativeHandle(n,()=>P.current);const Z=AO(F),[W,Y]=K.useState(!1),[ne,k]=K.useState(!1);if(W)throw W;if(ne)throw ne;const z=K.useRef(null);cg(()=>{const X=P.current;if(I.width>0&&I.height>0&&X){z.current||(z.current=Wj(X));async function N(){await z.current.configure({gl:r,scene:O,events:l,shadows:m,linear:g,flat:v,legacy:b,orthographic:S,frameloop:M,dpr:A,performance:T,raycaster:_,camera:L,size:I,onPointerMissed:(...G)=>Z.current==null?void 0:Z.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(u?vj(u)?u.current:u:j.current),h&&G.setEvents({compute:(ae,fe)=>{const ce=ae[h+"X"],_e=ae[h+"Y"];fe.pointer.set(ce/fe.size.width*2-1,-(_e/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),D?.(G)}}),z.current.render(Ai.jsx(B,{children:Ai.jsx(Sj,{set:k,children:Ai.jsx(K.Suspense,{fallback:Ai.jsx(_j,{set:Y}),children:e??null})})}))}N()}}),K.useEffect(()=>{const X=P.current;if(X)return()=>BO(X)},[]);const $=u?"none":"auto";return Ai.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...a},...U,children:Ai.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:Ai.jsx("canvas",{ref:P,style:{display:"block"},children:t})})})}function sX(n){return Ai.jsx(EO,{children:Ai.jsx(aX,{...n})})}const rX=n=>(n=n.replace("#",""),[parseInt(n.slice(0,2),16)/255,parseInt(n.slice(2,4),16)/255,parseInt(n.slice(4,6),16)/255]),oX=`
varying vec2 vUv;
varying vec3 vPosition;

void main() {
  vPosition = position;
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,lX=`
varying vec2 vUv;
varying vec3 vPosition;

uniform float uTime;
uniform vec3  uColor;
uniform float uSpeed;
uniform float uScale;
uniform float uRotation;
uniform float uNoiseIntensity;

const float e = 2.71828182845904523536;

float noise(vec2 texCoord) {
  float G = e;
  vec2  r = (G * sin(G * texCoord));
  return fract(r.x * r.y * (1.0 + texCoord.x));
}

vec2 rotateUvs(vec2 uv, float angle) {
  float c = cos(angle);
  float s = sin(angle);
  mat2  rot = mat2(c, -s, s, c);
  return rot * uv;
}

void main() {
  float rnd        = noise(gl_FragCoord.xy);
  vec2  uv         = rotateUvs(vUv * uScale, uRotation);
  vec2  tex        = uv * uScale;
  float tOffset    = uSpeed * uTime;

  tex.y += 0.03 * sin(8.0 * tex.x - tOffset);

  float pattern = 0.6 +
                  0.4 * sin(5.0 * (tex.x + tex.y +
                                   cos(3.0 * tex.x + 5.0 * tex.y) +
                                   0.02 * tOffset) +
                           sin(20.0 * (tex.x + tex.y - 0.1 * tOffset)));

  vec4 col = vec4(uColor, 1.0) * vec4(pattern) - rnd / 15.0 * uNoiseIntensity;
  col.a = 1.0;
  gl_FragColor = col;
}
`,VO=K.forwardRef(function({uniforms:e},t){const{viewport:i}=Lj();return K.useLayoutEffect(()=>{t.current&&t.current.scale.set(i.width,i.height,1)},[t,i]),Uj((a,r)=>{t.current.material.uniforms.uTime.value+=.1*r}),p.createElement("mesh",{ref:t},p.createElement("planeGeometry",{args:[1,1,1,1]}),p.createElement("shaderMaterial",{uniforms:e,vertexShader:oX,fragmentShader:lX}))});VO.displayName="SilkPlane";const cX=({speed:n=5,scale:e=1,color:t="#7B7481",noiseIntensity:i=1.5,rotation:a=0})=>{const r=K.useRef(),l=K.useMemo(()=>({uSpeed:{value:n},uScale:{value:e},uNoiseIntensity:{value:i},uColor:{value:new vt(...rX(t))},uRotation:{value:a},uTime:{value:0}}),[n,e,i,t,a]);return p.createElement("div",{className:"absolute inset-0 w-full h-full"},p.createElement(sX,{dpr:[1,2],frameloop:"always",style:{width:"100%",height:"100%"},camera:{position:[0,0,1]}},p.createElement(VO,{ref:r,uniforms:l})))},ug=({image:n,title:e,description:t,date:i,onClick:a,className:r="",imageClassName:l="",showGradient:u=!0})=>p.createElement("div",{onClick:a,className:`
        group relative overflow-hidden rounded-2xl bg-white shadow-md
        transition-all duration-500 ease-out
        hover:shadow-2xl hover:-translate-y-2 hover:scale-[1.02]
        cursor-pointer ${a?"":"cursor-default"}
        ${r}
      `},p.createElement("div",{className:"relative w-full h-56 overflow-hidden"},n?p.createElement("img",{src:n,alt:e,className:`
              w-full h-full object-cover transition-transform duration-700 ease-out
              group-hover:scale-110
              ${l}
            `,onError:h=>{h.target.src="https://via.placeholder.com/400x300?text=Image"}}):p.createElement("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center"},p.createElement("span",{className:"text-gray-400 text-sm"},"No Image")),p.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i&&p.createElement("span",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm text-blue-900 text-sm font-semibold px-3 py-1.5 rounded-full shadow-md"},i)),p.createElement("div",{className:"p-6"},u?p.createElement("h3",{className:"text-xl font-bold mb-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent group-hover:from-blue-700 group-hover:via-indigo-700 group-hover:to-purple-700 transition-all duration-300"},e):p.createElement("h3",{className:"text-xl font-bold mb-2 text-gray-900 group-hover:text-blue-900 transition-colors duration-300"},e),t&&p.createElement("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3 group-hover:text-gray-700 transition-colors duration-300"},t)),p.createElement("div",{className:"absolute inset-0 rounded-2xl border-2 border-transparent group-hover:border-blue-200 transition-all duration-500 pointer-events-none"}));var h1={},m1={},Zp={},p1={},DA;function uX(){return DA||(DA=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e})(p1)),p1}var g1,OA;function fX(){if(OA)return g1;OA=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,h=typeof Fx=="object"&&Fx&&Fx.Object===Object&&Fx,m=typeof self=="object"&&self&&self.Object===Object&&self,g=h||m||Function("return this")(),v=Object.prototype,b=v.toString,S=Math.max,M=Math.min,A=function(){return g.Date.now()};function T(D,U,B){var H,I,P,j,Z,W,Y=0,ne=!1,k=!1,z=!0;if(typeof D!="function")throw new TypeError(n);U=F(U)||0,_(B)&&(ne=!!B.leading,k="maxWait"in B,P=k?S(F(B.maxWait)||0,U):P,z="trailing"in B?!!B.trailing:z);function $(me){var Oe=H,Ye=I;return H=I=void 0,Y=me,j=D.apply(Ye,Oe),j}function X(me){return Y=me,Z=setTimeout(ae,U),ne?$(me):j}function N(me){var Oe=me-W,Ye=me-Y,Ie=U-Oe;return k?M(Ie,P-Ye):Ie}function G(me){var Oe=me-W,Ye=me-Y;return W===void 0||Oe>=U||Oe<0||k&&Ye>=P}function ae(){var me=A();if(G(me))return fe(me);Z=setTimeout(ae,N(me))}function fe(me){return Z=void 0,z&&H?$(me):(H=I=void 0,j)}function ce(){Z!==void 0&&clearTimeout(Z),Y=0,H=W=I=Z=void 0}function _e(){return Z===void 0?j:fe(A())}function oe(){var me=A(),Oe=G(me);if(H=arguments,I=this,W=me,Oe){if(Z===void 0)return X(W);if(k)return Z=setTimeout(ae,U),$(W)}return Z===void 0&&(Z=setTimeout(ae,U)),j}return oe.cancel=ce,oe.flush=_e,oe}function _(D){var U=typeof D;return!!D&&(U=="object"||U=="function")}function L(D){return!!D&&typeof D=="object"}function O(D){return typeof D=="symbol"||L(D)&&b.call(D)==t}function F(D){if(typeof D=="number")return D;if(O(D))return e;if(_(D)){var U=typeof D.valueOf=="function"?D.valueOf():D;D=_(U)?U+"":U}if(typeof D!="string")return D===0?D:+D;D=D.replace(i,"");var B=r.test(D);return B||l.test(D)?u(D.slice(2),B?2:8):a.test(D)?e:+D}return g1=T,g1}var x1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var LA;function Kb(){return LA||(LA=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(r=a(r,i(u)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return t.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var l="";for(var u in r)e.call(r,u)&&r[u]&&(l=a(l,u));return l}function a(r,l){return l?r?r+" "+l:r+l:r}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(x1)),x1.exports}var gt={},v1={},UA;function HO(){return UA||(UA=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(fr());function t(a){return a&&a.__esModule?a:{default:a}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(r){return e.default.createElement("ul",{style:{display:"block"}},r)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(r){return e.default.createElement("button",null,r+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i})(v1)),v1}var PA;function fg(){if(PA)return gt;PA=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.checkSpecKeys=gt.checkNavigable=gt.changeSlide=gt.canUseDOM=gt.canGoNext=void 0,gt.clamp=m,gt.extractObject=void 0,gt.filterSettings=$,gt.validSettings=gt.swipeStart=gt.swipeMove=gt.swipeEnd=gt.slidesOnRight=gt.slidesOnLeft=gt.slideHandler=gt.siblingDirection=gt.safePreventDefault=gt.lazyStartIndex=gt.lazySlidesOnRight=gt.lazySlidesOnLeft=gt.lazyEndIndex=gt.keyHandler=gt.initializedState=gt.getWidth=gt.getTrackLeft=gt.getTrackCSS=gt.getTrackAnimateCSS=gt.getTotalSlides=gt.getSwipeDirection=gt.getSlideCount=gt.getRequiredLazySlides=gt.getPreClones=gt.getPostClones=gt.getOnDemandLazySlides=gt.getNavigableIndexes=gt.getHeight=void 0;var n=t(fr()),e=t(HO());function t(X){return X&&X.__esModule?X:{default:X}}function i(X){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},i(X)}function a(X,N){var G=Object.keys(X);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(X);N&&(ae=ae.filter(function(fe){return Object.getOwnPropertyDescriptor(X,fe).enumerable})),G.push.apply(G,ae)}return G}function r(X){for(var N=1;N<arguments.length;N++){var G=arguments[N]!=null?arguments[N]:{};N%2?a(Object(G),!0).forEach(function(ae){l(X,ae,G[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(G)):a(Object(G)).forEach(function(ae){Object.defineProperty(X,ae,Object.getOwnPropertyDescriptor(G,ae))})}return X}function l(X,N,G){return(N=u(N))in X?Object.defineProperty(X,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):X[N]=G,X}function u(X){var N=h(X,"string");return i(N)=="symbol"?N:N+""}function h(X,N){if(i(X)!="object"||!X)return X;var G=X[Symbol.toPrimitive];if(G!==void 0){var ae=G.call(X,N);if(i(ae)!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(X)}function m(X,N,G){return Math.max(N,Math.min(X,G))}var g=gt.safePreventDefault=function(N){var G=["onTouchStart","onTouchMove","onWheel"];G.includes(N._reactName)||N.preventDefault()},v=gt.getOnDemandLazySlides=function(N){for(var G=[],ae=b(N),fe=S(N),ce=ae;ce<fe;ce++)N.lazyLoadedList.indexOf(ce)<0&&G.push(ce);return G};gt.getRequiredLazySlides=function(N){for(var G=[],ae=b(N),fe=S(N),ce=ae;ce<fe;ce++)G.push(ce);return G};var b=gt.lazyStartIndex=function(N){return N.currentSlide-M(N)},S=gt.lazyEndIndex=function(N){return N.currentSlide+A(N)},M=gt.lazySlidesOnLeft=function(N){return N.centerMode?Math.floor(N.slidesToShow/2)+(parseInt(N.centerPadding)>0?1:0):0},A=gt.lazySlidesOnRight=function(N){return N.centerMode?Math.floor((N.slidesToShow-1)/2)+1+(parseInt(N.centerPadding)>0?1:0):N.slidesToShow},T=gt.getWidth=function(N){return N&&N.offsetWidth||0},_=gt.getHeight=function(N){return N&&N.offsetHeight||0},L=gt.getSwipeDirection=function(N){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ae,fe,ce,_e;return ae=N.startX-N.curX,fe=N.startY-N.curY,ce=Math.atan2(fe,ae),_e=Math.round(ce*180/Math.PI),_e<0&&(_e=360-Math.abs(_e)),_e<=45&&_e>=0||_e<=360&&_e>=315?"left":_e>=135&&_e<=225?"right":G===!0?_e>=35&&_e<=135?"up":"down":"vertical"},O=gt.canGoNext=function(N){var G=!0;return N.infinite||(N.centerMode&&N.currentSlide>=N.slideCount-1||N.slideCount<=N.slidesToShow||N.currentSlide>=N.slideCount-N.slidesToShow)&&(G=!1),G};gt.extractObject=function(N,G){var ae={};return G.forEach(function(fe){return ae[fe]=N[fe]}),ae},gt.initializedState=function(N){var G=n.default.Children.count(N.children),ae=N.listRef,fe=Math.ceil(T(ae)),ce=N.trackRef&&N.trackRef.node,_e=Math.ceil(T(ce)),oe;if(N.vertical)oe=fe;else{var me=N.centerMode&&parseInt(N.centerPadding)*2;typeof N.centerPadding=="string"&&N.centerPadding.slice(-1)==="%"&&(me*=fe/100),oe=Math.ceil((fe-me)/N.slidesToShow)}var Oe=ae&&_(ae.querySelector('[data-index="0"]')),Ye=Oe*N.slidesToShow,Ie=N.currentSlide===void 0?N.initialSlide:N.currentSlide;N.rtl&&N.currentSlide===void 0&&(Ie=G-1-N.initialSlide);var rt=N.lazyLoadedList||[],yt=v(r(r({},N),{},{currentSlide:Ie,lazyLoadedList:rt}));rt=rt.concat(yt);var tt={slideCount:G,slideWidth:oe,listWidth:fe,trackWidth:_e,currentSlide:Ie,slideHeight:Oe,listHeight:Ye,lazyLoadedList:rt};return N.autoplaying===null&&N.autoplay&&(tt.autoplaying="playing"),tt},gt.slideHandler=function(N){var G=N.waitForAnimate,ae=N.animating,fe=N.fade,ce=N.infinite,_e=N.index,oe=N.slideCount,me=N.lazyLoad,Oe=N.currentSlide,Ye=N.centerMode,Ie=N.slidesToScroll,rt=N.slidesToShow,yt=N.useCSS,tt=N.lazyLoadedList;if(G&&ae)return{};var Ae=_e,ie,Be,Te,Xe={},He={},Qe=ce?_e:m(_e,0,oe-1);if(fe){if(!ce&&(_e<0||_e>=oe))return{};_e<0?Ae=_e+oe:_e>=oe&&(Ae=_e-oe),me&&tt.indexOf(Ae)<0&&(tt=tt.concat(Ae)),Xe={animating:!0,currentSlide:Ae,lazyLoadedList:tt,targetSlide:Ae},He={animating:!1,targetSlide:Ae}}else ie=Ae,Ae<0?(ie=Ae+oe,ce?oe%Ie!==0&&(ie=oe-oe%Ie):ie=0):!O(N)&&Ae>Oe?Ae=ie=Oe:Ye&&Ae>=oe?(Ae=ce?oe:oe-1,ie=ce?0:oe-1):Ae>=oe&&(ie=Ae-oe,ce?oe%Ie!==0&&(ie=0):ie=oe-rt),!ce&&Ae+rt>=oe&&(ie=oe-rt),Be=P(r(r({},N),{},{slideIndex:Ae})),Te=P(r(r({},N),{},{slideIndex:ie})),ce||(Be===Te&&(Ae=ie),Be=Te),me&&(tt=tt.concat(v(r(r({},N),{},{currentSlide:Ae})))),yt?(Xe={animating:!0,currentSlide:ie,trackStyle:I(r(r({},N),{},{left:Be})),lazyLoadedList:tt,targetSlide:Qe},He={animating:!1,currentSlide:ie,trackStyle:H(r(r({},N),{},{left:Te})),swipeLeft:null,targetSlide:Qe}):Xe={currentSlide:ie,trackStyle:H(r(r({},N),{},{left:Te})),lazyLoadedList:tt,targetSlide:Qe};return{state:Xe,nextState:He}},gt.changeSlide=function(N,G){var ae,fe,ce,_e,oe,me=N.slidesToScroll,Oe=N.slidesToShow,Ye=N.slideCount,Ie=N.currentSlide,rt=N.targetSlide,yt=N.lazyLoad,tt=N.infinite;if(_e=Ye%me!==0,ae=_e?0:(Ye-Ie)%me,G.message==="previous")ce=ae===0?me:Oe-ae,oe=Ie-ce,yt&&!tt&&(fe=Ie-ce,oe=fe===-1?Ye-1:fe),tt||(oe=rt-me);else if(G.message==="next")ce=ae===0?me:ae,oe=Ie+ce,yt&&!tt&&(oe=(Ie+me)%Ye+ae),tt||(oe=rt+me);else if(G.message==="dots")oe=G.index*G.slidesToScroll;else if(G.message==="children"){if(oe=G.index,tt){var Ae=Y(r(r({},N),{},{targetSlide:oe}));oe>G.currentSlide&&Ae==="left"?oe=oe-Ye:oe<G.currentSlide&&Ae==="right"&&(oe=oe+Ye)}}else G.message==="index"&&(oe=Number(G.index));return oe},gt.keyHandler=function(N,G,ae){return N.target.tagName.match("TEXTAREA|INPUT|SELECT")||!G?"":N.keyCode===37?ae?"next":"previous":N.keyCode===39?ae?"previous":"next":""},gt.swipeStart=function(N,G,ae){return N.target.tagName==="IMG"&&g(N),!G||!ae&&N.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:N.touches?N.touches[0].pageX:N.clientX,startY:N.touches?N.touches[0].pageY:N.clientY,curX:N.touches?N.touches[0].pageX:N.clientX,curY:N.touches?N.touches[0].pageY:N.clientY}}},gt.swipeMove=function(N,G){var ae=G.scrolling,fe=G.animating,ce=G.vertical,_e=G.swipeToSlide,oe=G.verticalSwiping,me=G.rtl,Oe=G.currentSlide,Ye=G.edgeFriction,Ie=G.edgeDragged,rt=G.onEdge,yt=G.swiped,tt=G.swiping,Ae=G.slideCount,ie=G.slidesToScroll,Be=G.infinite,Te=G.touchObject,Xe=G.swipeEvent,He=G.listHeight,Qe=G.listWidth;if(!ae){if(fe)return g(N);ce&&_e&&oe&&g(N);var Ze,ut={},se=P(G);Te.curX=N.touches?N.touches[0].pageX:N.clientX,Te.curY=N.touches?N.touches[0].pageY:N.clientY,Te.swipeLength=Math.round(Math.sqrt(Math.pow(Te.curX-Te.startX,2)));var Q=Math.round(Math.sqrt(Math.pow(Te.curY-Te.startY,2)));if(!oe&&!tt&&Q>10)return{scrolling:!0};oe&&(Te.swipeLength=Q);var ye=(me?-1:1)*(Te.curX>Te.startX?1:-1);oe&&(ye=Te.curY>Te.startY?1:-1);var Pe=Math.ceil(Ae/ie),ze=L(G.touchObject,oe),Ce=Te.swipeLength;return Be||(Oe===0&&(ze==="right"||ze==="down")||Oe+1>=Pe&&(ze==="left"||ze==="up")||!O(G)&&(ze==="left"||ze==="up"))&&(Ce=Te.swipeLength*Ye,Ie===!1&&rt&&(rt(ze),ut.edgeDragged=!0)),!yt&&Xe&&(Xe(ze),ut.swiped=!0),ce?Ze=se+Ce*(He/Qe)*ye:me?Ze=se-Ce*ye:Ze=se+Ce*ye,oe&&(Ze=se+Ce*ye),ut=r(r({},ut),{},{touchObject:Te,swipeLeft:Ze,trackStyle:H(r(r({},G),{},{left:Ze}))}),Math.abs(Te.curX-Te.startX)<Math.abs(Te.curY-Te.startY)*.8||Te.swipeLength>10&&(ut.swiping=!0,g(N)),ut}},gt.swipeEnd=function(N,G){var ae=G.dragging,fe=G.swipe,ce=G.touchObject,_e=G.listWidth,oe=G.touchThreshold,me=G.verticalSwiping,Oe=G.listHeight,Ye=G.swipeToSlide,Ie=G.scrolling,rt=G.onSwipe,yt=G.targetSlide,tt=G.currentSlide,Ae=G.infinite;if(!ae)return fe&&g(N),{};var ie=me?Oe/oe:_e/oe,Be=L(ce,me),Te={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ie||!ce.swipeLength)return Te;if(ce.swipeLength>ie){g(N),rt&&rt(Be);var Xe,He,Qe=Ae?tt:yt;switch(Be){case"left":case"up":He=Qe+U(G),Xe=Ye?D(G,He):He,Te.currentDirection=0;break;case"right":case"down":He=Qe-U(G),Xe=Ye?D(G,He):He,Te.currentDirection=1;break;default:Xe=Qe}Te.triggerSlideHandler=Xe}else{var Ze=P(G);Te.trackStyle=I(r(r({},G),{},{left:Ze}))}return Te};var F=gt.getNavigableIndexes=function(N){for(var G=N.infinite?N.slideCount*2:N.slideCount,ae=N.infinite?N.slidesToShow*-1:0,fe=N.infinite?N.slidesToShow*-1:0,ce=[];ae<G;)ce.push(ae),ae=fe+N.slidesToScroll,fe+=Math.min(N.slidesToScroll,N.slidesToShow);return ce},D=gt.checkNavigable=function(N,G){var ae=F(N),fe=0;if(G>ae[ae.length-1])G=ae[ae.length-1];else for(var ce in ae){if(G<ae[ce]){G=fe;break}fe=ae[ce]}return G},U=gt.getSlideCount=function(N){var G=N.centerMode?N.slideWidth*Math.floor(N.slidesToShow/2):0;if(N.swipeToSlide){var ae,fe=N.listRef,ce=fe.querySelectorAll&&fe.querySelectorAll(".slick-slide")||[];if(Array.from(ce).every(function(me){if(N.vertical){if(me.offsetTop+_(me)/2>N.swipeLeft*-1)return ae=me,!1}else if(me.offsetLeft-G+T(me)/2>N.swipeLeft*-1)return ae=me,!1;return!0}),!ae)return 0;var _e=N.rtl===!0?N.slideCount-N.currentSlide:N.currentSlide,oe=Math.abs(ae.dataset.index-_e)||1;return oe}else return N.slidesToScroll},B=gt.checkSpecKeys=function(N,G){return G.reduce(function(ae,fe){return ae&&N.hasOwnProperty(fe)},!0)?null:console.error("Keys Missing:",N)},H=gt.getTrackCSS=function(N){B(N,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var G,ae;if(!N.vertical)G=W(N)*N.slideWidth;else{var fe=N.unslick?N.slideCount:N.slideCount+2*N.slidesToShow;ae=fe*N.slideHeight}var ce={opacity:1,transition:"",WebkitTransition:""};if(N.useTransform){var _e=N.vertical?"translate3d(0px, "+N.left+"px, 0px)":"translate3d("+N.left+"px, 0px, 0px)",oe=N.vertical?"translate3d(0px, "+N.left+"px, 0px)":"translate3d("+N.left+"px, 0px, 0px)",me=N.vertical?"translateY("+N.left+"px)":"translateX("+N.left+"px)";ce=r(r({},ce),{},{WebkitTransform:_e,transform:oe,msTransform:me})}else N.vertical?ce.top=N.left:ce.left=N.left;return N.fade&&(ce={opacity:1}),G&&(ce.width=G),ae&&(ce.height=ae),window&&!window.addEventListener&&window.attachEvent&&(N.vertical?ce.marginTop=N.left+"px":ce.marginLeft=N.left+"px"),ce},I=gt.getTrackAnimateCSS=function(N){B(N,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var G=H(N);return N.useTransform?(G.WebkitTransition="-webkit-transform "+N.speed+"ms "+N.cssEase,G.transition="transform "+N.speed+"ms "+N.cssEase):N.vertical?G.transition="top "+N.speed+"ms "+N.cssEase:G.transition="left "+N.speed+"ms "+N.cssEase,G},P=gt.getTrackLeft=function(N){if(N.unslick)return 0;B(N,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var G=N.slideIndex,ae=N.trackRef,fe=N.infinite,ce=N.centerMode,_e=N.slideCount,oe=N.slidesToShow,me=N.slidesToScroll,Oe=N.slideWidth,Ye=N.listWidth,Ie=N.variableWidth,rt=N.slideHeight,yt=N.fade,tt=N.vertical,Ae=0,ie,Be,Te=0;if(yt||N.slideCount===1)return 0;var Xe=0;if(fe?(Xe=-j(N),_e%me!==0&&G+me>_e&&(Xe=-(G>_e?oe-(G-_e):_e%me)),ce&&(Xe+=parseInt(oe/2))):(_e%me!==0&&G+me>_e&&(Xe=oe-_e%me),ce&&(Xe=parseInt(oe/2))),Ae=Xe*Oe,Te=Xe*rt,tt?ie=G*rt*-1+Te:ie=G*Oe*-1+Ae,Ie===!0){var He,Qe=ae&&ae.node;if(He=G+j(N),Be=Qe&&Qe.childNodes[He],ie=Be?Be.offsetLeft*-1:0,ce===!0){He=fe?G+j(N):G,Be=Qe&&Qe.children[He],ie=0;for(var Ze=0;Ze<He;Ze++)ie-=Qe&&Qe.children[Ze]&&Qe.children[Ze].offsetWidth;ie-=parseInt(N.centerPadding),ie+=Be&&(Ye-Be.offsetWidth)/2}}return ie},j=gt.getPreClones=function(N){return N.unslick||!N.infinite?0:N.variableWidth?N.slideCount:N.slidesToShow+(N.centerMode?1:0)},Z=gt.getPostClones=function(N){return N.unslick||!N.infinite?0:N.variableWidth?N.slideCount:N.slidesToShow+(N.centerMode?1:0)},W=gt.getTotalSlides=function(N){return N.slideCount===1?1:j(N)+N.slideCount+Z(N)},Y=gt.siblingDirection=function(N){return N.targetSlide>N.currentSlide?N.targetSlide>N.currentSlide+ne(N)?"left":"right":N.targetSlide<N.currentSlide-k(N)?"right":"left"},ne=gt.slidesOnRight=function(N){var G=N.slidesToShow,ae=N.centerMode,fe=N.rtl,ce=N.centerPadding;if(ae){var _e=(G-1)/2+1;return parseInt(ce)>0&&(_e+=1),fe&&G%2===0&&(_e+=1),_e}return fe?0:G-1},k=gt.slidesOnLeft=function(N){var G=N.slidesToShow,ae=N.centerMode,fe=N.rtl,ce=N.centerPadding;if(ae){var _e=(G-1)/2+1;return parseInt(ce)>0&&(_e+=1),!fe&&G%2===0&&(_e+=1),_e}return fe?G-1:0};gt.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var z=gt.validSettings=Object.keys(e.default);function $(X){return z.reduce(function(N,G){return X.hasOwnProperty(G)&&(N[G]=X[G]),N},{})}return gt}var Kp={},zA;function dX(){if(zA)return Kp;zA=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.Track=void 0;var n=i(fr()),e=i(Kb()),t=fg();function i(I){return I&&I.__esModule?I:{default:I}}function a(I){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},a(I)}function r(){return r=Object.assign?Object.assign.bind():function(I){for(var P=1;P<arguments.length;P++){var j=arguments[P];for(var Z in j)({}).hasOwnProperty.call(j,Z)&&(I[Z]=j[Z])}return I},r.apply(null,arguments)}function l(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function u(I,P){for(var j=0;j<P.length;j++){var Z=P[j];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(I,O(Z.key),Z)}}function h(I,P,j){return P&&u(I.prototype,P),Object.defineProperty(I,"prototype",{writable:!1}),I}function m(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),P&&g(I,P)}function g(I,P){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,Z){return j.__proto__=Z,j},g(I,P)}function v(I){var P=M();return function(){var j,Z=A(I);if(P){var W=A(this).constructor;j=Reflect.construct(Z,arguments,W)}else j=Z.apply(this,arguments);return b(this,j)}}function b(I,P){if(P&&(a(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(I)}function S(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function M(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!I})()}function A(I){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},A(I)}function T(I,P){var j=Object.keys(I);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(I);P&&(Z=Z.filter(function(W){return Object.getOwnPropertyDescriptor(I,W).enumerable})),j.push.apply(j,Z)}return j}function _(I){for(var P=1;P<arguments.length;P++){var j=arguments[P]!=null?arguments[P]:{};P%2?T(Object(j),!0).forEach(function(Z){L(I,Z,j[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(j)):T(Object(j)).forEach(function(Z){Object.defineProperty(I,Z,Object.getOwnPropertyDescriptor(j,Z))})}return I}function L(I,P,j){return(P=O(P))in I?Object.defineProperty(I,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):I[P]=j,I}function O(I){var P=F(I,"string");return a(P)=="symbol"?P:P+""}function F(I,P){if(a(I)!="object"||!I)return I;var j=I[Symbol.toPrimitive];if(j!==void 0){var Z=j.call(I,P);if(a(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(I)}var D=function(P){var j,Z,W,Y,ne;P.rtl?ne=P.slideCount-1-P.index:ne=P.index,W=ne<0||ne>=P.slideCount,P.centerMode?(Y=Math.floor(P.slidesToShow/2),Z=(ne-P.currentSlide)%P.slideCount===0,ne>P.currentSlide-Y-1&&ne<=P.currentSlide+Y&&(j=!0)):j=P.currentSlide<=ne&&ne<P.currentSlide+P.slidesToShow;var k;P.targetSlide<0?k=P.targetSlide+P.slideCount:P.targetSlide>=P.slideCount?k=P.targetSlide-P.slideCount:k=P.targetSlide;var z=ne===k;return{"slick-slide":!0,"slick-active":j,"slick-center":Z,"slick-cloned":W,"slick-current":z}},U=function(P){var j={};return(P.variableWidth===void 0||P.variableWidth===!1)&&(j.width=P.slideWidth),P.fade&&(j.position="relative",P.vertical?j.top=-P.index*parseInt(P.slideHeight):j.left=-P.index*parseInt(P.slideWidth),j.opacity=P.currentSlide===P.index?1:0,j.zIndex=P.currentSlide===P.index?999:998,P.useCSS&&(j.transition="opacity "+P.speed+"ms "+P.cssEase+", visibility "+P.speed+"ms "+P.cssEase)),j},B=function(P,j){return P.key||j},H=function(P){var j,Z=[],W=[],Y=[],ne=n.default.Children.count(P.children),k=(0,t.lazyStartIndex)(P),z=(0,t.lazyEndIndex)(P);return n.default.Children.forEach(P.children,function($,X){var N,G={message:"children",index:X,slidesToScroll:P.slidesToScroll,currentSlide:P.currentSlide};!P.lazyLoad||P.lazyLoad&&P.lazyLoadedList.indexOf(X)>=0?N=$:N=n.default.createElement("div",null);var ae=U(_(_({},P),{},{index:X})),fe=N.props.className||"",ce=D(_(_({},P),{},{index:X}));if(Z.push(n.default.cloneElement(N,{key:"original"+B(N,X),"data-index":X,className:(0,e.default)(ce,fe),tabIndex:"-1","aria-hidden":!ce["slick-active"],style:_(_({outline:"none"},N.props.style||{}),ae),onClick:function(me){N.props&&N.props.onClick&&N.props.onClick(me),P.focusOnSelect&&P.focusOnSelect(G)}})),P.infinite&&ne>1&&P.fade===!1&&!P.unslick){var _e=ne-X;_e<=(0,t.getPreClones)(P)&&(j=-_e,j>=k&&(N=$),ce=D(_(_({},P),{},{index:j})),W.push(n.default.cloneElement(N,{key:"precloned"+B(N,j),"data-index":j,tabIndex:"-1",className:(0,e.default)(ce,fe),"aria-hidden":!ce["slick-active"],style:_(_({},N.props.style||{}),ae),onClick:function(me){N.props&&N.props.onClick&&N.props.onClick(me),P.focusOnSelect&&P.focusOnSelect(G)}}))),X<(0,t.getPostClones)(P)&&(j=ne+X,j<z&&(N=$),ce=D(_(_({},P),{},{index:j})),Y.push(n.default.cloneElement(N,{key:"postcloned"+B(N,j),"data-index":j,tabIndex:"-1",className:(0,e.default)(ce,fe),"aria-hidden":!ce["slick-active"],style:_(_({},N.props.style||{}),ae),onClick:function(me){N.props&&N.props.onClick&&N.props.onClick(me),P.focusOnSelect&&P.focusOnSelect(G)}})))}}),P.rtl?W.concat(Z,Y).reverse():W.concat(Z,Y)};return Kp.Track=(function(I){m(j,I);var P=v(j);function j(){var Z;l(this,j);for(var W=arguments.length,Y=new Array(W),ne=0;ne<W;ne++)Y[ne]=arguments[ne];return Z=P.call.apply(P,[this].concat(Y)),L(S(Z),"node",null),L(S(Z),"handleRef",function(k){Z.node=k}),Z}return h(j,[{key:"render",value:function(){var W=H(this.props),Y=this.props,ne=Y.onMouseEnter,k=Y.onMouseOver,z=Y.onMouseLeave,$={onMouseEnter:ne,onMouseOver:k,onMouseLeave:z};return n.default.createElement("div",r({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},$),W)}}]),j})(n.default.PureComponent),Kp}var Qp={},BA;function hX(){if(BA)return Qp;BA=1;function n(D){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},n(D)}Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.Dots=void 0;var e=a(fr()),t=a(Kb()),i=fg();function a(D){return D&&D.__esModule?D:{default:D}}function r(D,U){var B=Object.keys(D);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);U&&(H=H.filter(function(I){return Object.getOwnPropertyDescriptor(D,I).enumerable})),B.push.apply(B,H)}return B}function l(D){for(var U=1;U<arguments.length;U++){var B=arguments[U]!=null?arguments[U]:{};U%2?r(Object(B),!0).forEach(function(H){u(D,H,B[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(B)):r(Object(B)).forEach(function(H){Object.defineProperty(D,H,Object.getOwnPropertyDescriptor(B,H))})}return D}function u(D,U,B){return(U=v(U))in D?Object.defineProperty(D,U,{value:B,enumerable:!0,configurable:!0,writable:!0}):D[U]=B,D}function h(D,U){if(!(D instanceof U))throw new TypeError("Cannot call a class as a function")}function m(D,U){for(var B=0;B<U.length;B++){var H=U[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,v(H.key),H)}}function g(D,U,B){return U&&m(D.prototype,U),Object.defineProperty(D,"prototype",{writable:!1}),D}function v(D){var U=b(D,"string");return n(U)=="symbol"?U:U+""}function b(D,U){if(n(D)!="object"||!D)return D;var B=D[Symbol.toPrimitive];if(B!==void 0){var H=B.call(D,U);if(n(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}function S(D,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(U&&U.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),U&&M(D,U)}function M(D,U){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,H){return B.__proto__=H,B},M(D,U)}function A(D){var U=L();return function(){var B,H=O(D);if(U){var I=O(this).constructor;B=Reflect.construct(H,arguments,I)}else B=H.apply(this,arguments);return T(this,B)}}function T(D,U){if(U&&(n(U)=="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(D)}function _(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function L(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L=function(){return!!D})()}function O(D){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},O(D)}var F=function(U){var B;return U.infinite?B=Math.ceil(U.slideCount/U.slidesToScroll):B=Math.ceil((U.slideCount-U.slidesToShow)/U.slidesToScroll)+1,B};return Qp.Dots=(function(D){S(B,D);var U=A(B);function B(){return h(this,B),U.apply(this,arguments)}return g(B,[{key:"clickHandler",value:function(I,P){P.preventDefault(),this.props.clickHandler(I)}},{key:"render",value:function(){for(var I=this.props,P=I.onMouseEnter,j=I.onMouseOver,Z=I.onMouseLeave,W=I.infinite,Y=I.slidesToScroll,ne=I.slidesToShow,k=I.slideCount,z=I.currentSlide,$=F({slideCount:k,slidesToScroll:Y,slidesToShow:ne,infinite:W}),X={onMouseEnter:P,onMouseOver:j,onMouseLeave:Z},N=[],G=0;G<$;G++){var ae=(G+1)*Y-1,fe=W?ae:(0,i.clamp)(ae,0,k-1),ce=fe-(Y-1),_e=W?ce:(0,i.clamp)(ce,0,k-1),oe=(0,t.default)({"slick-active":W?z>=_e&&z<=fe:z===_e}),me={message:"dots",index:G,slidesToScroll:Y,currentSlide:z},Oe=this.clickHandler.bind(this,me);N=N.concat(e.default.createElement("li",{key:G,className:oe},e.default.cloneElement(this.props.customPaging(G),{onClick:Oe})))}return e.default.cloneElement(this.props.appendDots(N),l({className:this.props.dotsClass},X))}}]),B})(e.default.PureComponent),Qp}var Uf={},IA;function mX(){if(IA)return Uf;IA=1;function n(D){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},n(D)}Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.PrevArrow=Uf.NextArrow=void 0;var e=a(fr()),t=a(Kb()),i=fg();function a(D){return D&&D.__esModule?D:{default:D}}function r(){return r=Object.assign?Object.assign.bind():function(D){for(var U=1;U<arguments.length;U++){var B=arguments[U];for(var H in B)({}).hasOwnProperty.call(B,H)&&(D[H]=B[H])}return D},r.apply(null,arguments)}function l(D,U){var B=Object.keys(D);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);U&&(H=H.filter(function(I){return Object.getOwnPropertyDescriptor(D,I).enumerable})),B.push.apply(B,H)}return B}function u(D){for(var U=1;U<arguments.length;U++){var B=arguments[U]!=null?arguments[U]:{};U%2?l(Object(B),!0).forEach(function(H){h(D,H,B[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(B)):l(Object(B)).forEach(function(H){Object.defineProperty(D,H,Object.getOwnPropertyDescriptor(B,H))})}return D}function h(D,U,B){return(U=b(U))in D?Object.defineProperty(D,U,{value:B,enumerable:!0,configurable:!0,writable:!0}):D[U]=B,D}function m(D,U){if(!(D instanceof U))throw new TypeError("Cannot call a class as a function")}function g(D,U){for(var B=0;B<U.length;B++){var H=U[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,b(H.key),H)}}function v(D,U,B){return U&&g(D.prototype,U),Object.defineProperty(D,"prototype",{writable:!1}),D}function b(D){var U=S(D,"string");return n(U)=="symbol"?U:U+""}function S(D,U){if(n(D)!="object"||!D)return D;var B=D[Symbol.toPrimitive];if(B!==void 0){var H=B.call(D,U);if(n(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}function M(D,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(U&&U.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),U&&A(D,U)}function A(D,U){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,H){return B.__proto__=H,B},A(D,U)}function T(D){var U=O();return function(){var B,H=F(D);if(U){var I=F(this).constructor;B=Reflect.construct(H,arguments,I)}else B=H.apply(this,arguments);return _(this,B)}}function _(D,U){if(U&&(n(U)=="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(D)}function L(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function O(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!D})()}function F(D){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},F(D)}return Uf.PrevArrow=(function(D){M(B,D);var U=T(B);function B(){return m(this,B),U.apply(this,arguments)}return v(B,[{key:"clickHandler",value:function(I,P){P&&P.preventDefault(),this.props.clickHandler(I,P)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-prev":!0},P=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(I["slick-disabled"]=!0,P=null);var j={key:"0","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:P},Z={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},W;return this.props.prevArrow?W=e.default.cloneElement(this.props.prevArrow,u(u({},j),Z)):W=e.default.createElement("button",r({key:"0",type:"button"},j)," ","Previous"),W}}]),B})(e.default.PureComponent),Uf.NextArrow=(function(D){M(B,D);var U=T(B);function B(){return m(this,B),U.apply(this,arguments)}return v(B,[{key:"clickHandler",value:function(I,P){P&&P.preventDefault(),this.props.clickHandler(I,P)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-next":!0},P=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(I["slick-disabled"]=!0,P=null);var j={key:"1","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:P},Z={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},W;return this.props.nextArrow?W=e.default.cloneElement(this.props.nextArrow,u(u({},j),Z)):W=e.default.createElement("button",r({key:"1",type:"button"},j)," ","Next"),W}}]),B})(e.default.PureComponent),Uf}var kO=(function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(a,r){return a[0]===t?(i=r,!0):!1}),i}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),a=this.__entries__[i];return a&&a[1]},e.prototype.set=function(t,i){var a=n(this.__entries__,t);~a?this.__entries__[a][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,a=n(i,t);~a&&i.splice(a,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var a=0,r=this.__entries__;a<r.length;a++){var l=r[a];t.call(i,l[1],l[0])}},e})()})(),SE=typeof window<"u"&&typeof document<"u"&&window.document===document,Jy=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),pX=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jy):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}})(),gX=2;function xX(n,e){var t=!1,i=!1,a=0;function r(){t&&(t=!1,n()),i&&u()}function l(){pX(r)}function u(){var h=Date.now();if(t){if(h-a<gX)return;i=!0}else t=!0,i=!1,setTimeout(l,e);a=h}return u}var vX=20,yX=["top","right","bottom","left","width","height","size","weight"],bX=typeof MutationObserver<"u",_X=(function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=xX(this.refresh.bind(this),vX)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!SE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),bX?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!SE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,a=yX.some(function(r){return!!~i.indexOf(r)});a&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n})(),GO=(function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var a=i[t];Object.defineProperty(n,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return n}),nm=(function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Jy}),qO=Qb(0,0,0,0);function $y(n){return parseFloat(n)||0}function FA(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,a){var r=n["border-"+a+"-width"];return i+$y(r)},0)}function SX(n){for(var e=["top","right","bottom","left"],t={},i=0,a=e;i<a.length;i++){var r=a[i],l=n["padding-"+r];t[r]=$y(l)}return t}function EX(n){var e=n.getBBox();return Qb(0,0,e.width,e.height)}function MX(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return qO;var i=nm(n).getComputedStyle(n),a=SX(i),r=a.left+a.right,l=a.top+a.bottom,u=$y(i.width),h=$y(i.height);if(i.boxSizing==="border-box"&&(Math.round(u+r)!==e&&(u-=FA(i,"left","right")+r),Math.round(h+l)!==t&&(h-=FA(i,"top","bottom")+l)),!TX(n)){var m=Math.round(u+r)-e,g=Math.round(h+l)-t;Math.abs(m)!==1&&(u-=m),Math.abs(g)!==1&&(h-=g)}return Qb(a.left,a.top,u,h)}var wX=(function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof nm(n).SVGGraphicsElement}:function(n){return n instanceof nm(n).SVGElement&&typeof n.getBBox=="function"}})();function TX(n){return n===nm(n).document.documentElement}function AX(n){return SE?wX(n)?EX(n):MX(n):qO}function CX(n){var e=n.x,t=n.y,i=n.width,a=n.height,r=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(r.prototype);return GO(l,{x:e,y:t,width:i,height:a,top:t,right:e+i,bottom:a+t,left:e}),l}function Qb(n,e,t,i){return{x:n,y:e,width:t,height:i}}var NX=(function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Qb(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=AX(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n})(),RX=(function(){function n(e,t){var i=CX(t);GO(this,{target:e,contentRect:i})}return n})(),DX=(function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new kO,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new NX(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new RX(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n})(),jO=typeof WeakMap<"u"?new WeakMap:new kO,XO=(function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=_X.getInstance(),i=new DX(e,t,this);jO.set(this,i)}return n})();["observe","unobserve","disconnect"].forEach(function(n){XO.prototype[n]=function(){var e;return(e=jO.get(this))[n].apply(e,arguments)}});var OX=(function(){return typeof Jy.ResizeObserver<"u"?Jy.ResizeObserver:XO})();const LX=Object.freeze(Object.defineProperty({__proto__:null,default:OX},Symbol.toStringTag,{value:"Module"})),UX=U4(LX);var VA;function PX(){if(VA)return Zp;VA=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.InnerSlider=void 0;var n=m(fr()),e=m(uX()),t=m(fX()),i=m(Kb()),a=fg(),r=dX(),l=hX(),u=mX(),h=m(UX);function m(W){return W&&W.__esModule?W:{default:W}}function g(W){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},g(W)}function v(){return v=Object.assign?Object.assign.bind():function(W){for(var Y=1;Y<arguments.length;Y++){var ne=arguments[Y];for(var k in ne)({}).hasOwnProperty.call(ne,k)&&(W[k]=ne[k])}return W},v.apply(null,arguments)}function b(W,Y){if(W==null)return{};var ne,k,z=S(W,Y);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(W);for(k=0;k<$.length;k++)ne=$[k],Y.includes(ne)||{}.propertyIsEnumerable.call(W,ne)&&(z[ne]=W[ne])}return z}function S(W,Y){if(W==null)return{};var ne={};for(var k in W)if({}.hasOwnProperty.call(W,k)){if(Y.includes(k))continue;ne[k]=W[k]}return ne}function M(W,Y){var ne=Object.keys(W);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(W);Y&&(k=k.filter(function(z){return Object.getOwnPropertyDescriptor(W,z).enumerable})),ne.push.apply(ne,k)}return ne}function A(W){for(var Y=1;Y<arguments.length;Y++){var ne=arguments[Y]!=null?arguments[Y]:{};Y%2?M(Object(ne),!0).forEach(function(k){P(W,k,ne[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(ne)):M(Object(ne)).forEach(function(k){Object.defineProperty(W,k,Object.getOwnPropertyDescriptor(ne,k))})}return W}function T(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}function _(W,Y){for(var ne=0;ne<Y.length;ne++){var k=Y[ne];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(W,j(k.key),k)}}function L(W,Y,ne){return Y&&_(W.prototype,Y),Object.defineProperty(W,"prototype",{writable:!1}),W}function O(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(Y&&Y.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),Y&&F(W,Y)}function F(W,Y){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,k){return ne.__proto__=k,ne},F(W,Y)}function D(W){var Y=H();return function(){var ne,k=I(W);if(Y){var z=I(this).constructor;ne=Reflect.construct(k,arguments,z)}else ne=k.apply(this,arguments);return U(this,ne)}}function U(W,Y){if(Y&&(g(Y)=="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(W)}function B(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function H(){try{var W=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!W})()}function I(W){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},I(W)}function P(W,Y,ne){return(Y=j(Y))in W?Object.defineProperty(W,Y,{value:ne,enumerable:!0,configurable:!0,writable:!0}):W[Y]=ne,W}function j(W){var Y=Z(W,"string");return g(Y)=="symbol"?Y:Y+""}function Z(W,Y){if(g(W)!="object"||!W)return W;var ne=W[Symbol.toPrimitive];if(ne!==void 0){var k=ne.call(W,Y);if(g(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(W)}return Zp.InnerSlider=(function(W){O(ne,W);var Y=D(ne);function ne(k){var z;T(this,ne),z=Y.call(this,k),P(B(z),"listRefHandler",function(X){return z.list=X}),P(B(z),"trackRefHandler",function(X){return z.track=X}),P(B(z),"adaptHeight",function(){if(z.props.adaptiveHeight&&z.list){var X=z.list.querySelector('[data-index="'.concat(z.state.currentSlide,'"]'));z.list.style.height=(0,a.getHeight)(X)+"px"}}),P(B(z),"componentDidMount",function(){if(z.props.onInit&&z.props.onInit(),z.props.lazyLoad){var X=(0,a.getOnDemandLazySlides)(A(A({},z.props),z.state));X.length>0&&(z.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(X)}}),z.props.onLazyLoad&&z.props.onLazyLoad(X))}var N=A({listRef:z.list,trackRef:z.track},z.props);z.updateState(N,!0,function(){z.adaptHeight(),z.props.autoplay&&z.autoPlay("update")}),z.props.lazyLoad==="progressive"&&(z.lazyLoadTimer=setInterval(z.progressiveLazyLoad,1e3)),z.ro=new h.default(function(){z.state.animating?(z.onWindowResized(!1),z.callbackTimers.push(setTimeout(function(){return z.onWindowResized()},z.props.speed))):z.onWindowResized()}),z.ro.observe(z.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(G){G.onfocus=z.props.pauseOnFocus?z.onSlideFocus:null,G.onblur=z.props.pauseOnFocus?z.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",z.onWindowResized):window.attachEvent("onresize",z.onWindowResized)}),P(B(z),"componentWillUnmount",function(){z.animationEndCallback&&clearTimeout(z.animationEndCallback),z.lazyLoadTimer&&clearInterval(z.lazyLoadTimer),z.callbackTimers.length&&(z.callbackTimers.forEach(function(X){return clearTimeout(X)}),z.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",z.onWindowResized):window.detachEvent("onresize",z.onWindowResized),z.autoplayTimer&&clearInterval(z.autoplayTimer),z.ro.disconnect()}),P(B(z),"componentDidUpdate",function(X){if(z.checkImagesLoad(),z.props.onReInit&&z.props.onReInit(),z.props.lazyLoad){var N=(0,a.getOnDemandLazySlides)(A(A({},z.props),z.state));N.length>0&&(z.setState(function(fe){return{lazyLoadedList:fe.lazyLoadedList.concat(N)}}),z.props.onLazyLoad&&z.props.onLazyLoad(N))}z.adaptHeight();var G=A(A({listRef:z.list,trackRef:z.track},z.props),z.state),ae=z.didPropsChange(X);ae&&z.updateState(G,ae,function(){z.state.currentSlide>=n.default.Children.count(z.props.children)&&z.changeSlide({message:"index",index:n.default.Children.count(z.props.children)-z.props.slidesToShow,currentSlide:z.state.currentSlide}),z.props.autoplay?z.autoPlay("update"):z.pause("paused")})}),P(B(z),"onWindowResized",function(X){z.debouncedResize&&z.debouncedResize.cancel(),z.debouncedResize=(0,t.default)(function(){return z.resizeWindow(X)},50),z.debouncedResize()}),P(B(z),"resizeWindow",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,N=!!(z.track&&z.track.node);if(N){var G=A(A({listRef:z.list,trackRef:z.track},z.props),z.state);z.updateState(G,X,function(){z.props.autoplay?z.autoPlay("update"):z.pause("paused")}),z.setState({animating:!1}),clearTimeout(z.animationEndCallback),delete z.animationEndCallback}}),P(B(z),"updateState",function(X,N,G){var ae=(0,a.initializedState)(X);X=A(A(A({},X),ae),{},{slideIndex:ae.currentSlide});var fe=(0,a.getTrackLeft)(X);X=A(A({},X),{},{left:fe});var ce=(0,a.getTrackCSS)(X);(N||n.default.Children.count(z.props.children)!==n.default.Children.count(X.children))&&(ae.trackStyle=ce),z.setState(ae,G)}),P(B(z),"ssrInit",function(){if(z.props.variableWidth){var X=0,N=0,G=[],ae=(0,a.getPreClones)(A(A(A({},z.props),z.state),{},{slideCount:z.props.children.length})),fe=(0,a.getPostClones)(A(A(A({},z.props),z.state),{},{slideCount:z.props.children.length}));z.props.children.forEach(function(Be){G.push(Be.props.style.width),X+=Be.props.style.width});for(var ce=0;ce<ae;ce++)N+=G[G.length-1-ce],X+=G[G.length-1-ce];for(var _e=0;_e<fe;_e++)X+=G[_e];for(var oe=0;oe<z.state.currentSlide;oe++)N+=G[oe];var me={width:X+"px",left:-N+"px"};if(z.props.centerMode){var Oe="".concat(G[z.state.currentSlide],"px");me.left="calc(".concat(me.left," + (100% - ").concat(Oe,") / 2 ) ")}return{trackStyle:me}}var Ye=n.default.Children.count(z.props.children),Ie=A(A(A({},z.props),z.state),{},{slideCount:Ye}),rt=(0,a.getPreClones)(Ie)+(0,a.getPostClones)(Ie)+Ye,yt=100/z.props.slidesToShow*rt,tt=100/rt,Ae=-tt*((0,a.getPreClones)(Ie)+z.state.currentSlide)*yt/100;z.props.centerMode&&(Ae+=(100-tt*yt/100)/2);var ie={width:yt+"%",left:Ae+"%"};return{slideWidth:tt+"%",trackStyle:ie}}),P(B(z),"checkImagesLoad",function(){var X=z.list&&z.list.querySelectorAll&&z.list.querySelectorAll(".slick-slide img")||[],N=X.length,G=0;Array.prototype.forEach.call(X,function(ae){var fe=function(){return++G&&G>=N&&z.onWindowResized()};if(!ae.onclick)ae.onclick=function(){return ae.parentNode.focus()};else{var ce=ae.onclick;ae.onclick=function(_e){ce(_e),ae.parentNode.focus()}}ae.onload||(z.props.lazyLoad?ae.onload=function(){z.adaptHeight(),z.callbackTimers.push(setTimeout(z.onWindowResized,z.props.speed))}:(ae.onload=fe,ae.onerror=function(){fe(),z.props.onLazyLoadError&&z.props.onLazyLoadError()}))})}),P(B(z),"progressiveLazyLoad",function(){for(var X=[],N=A(A({},z.props),z.state),G=z.state.currentSlide;G<z.state.slideCount+(0,a.getPostClones)(N);G++)if(z.state.lazyLoadedList.indexOf(G)<0){X.push(G);break}for(var ae=z.state.currentSlide-1;ae>=-(0,a.getPreClones)(N);ae--)if(z.state.lazyLoadedList.indexOf(ae)<0){X.push(ae);break}X.length>0?(z.setState(function(fe){return{lazyLoadedList:fe.lazyLoadedList.concat(X)}}),z.props.onLazyLoad&&z.props.onLazyLoad(X)):z.lazyLoadTimer&&(clearInterval(z.lazyLoadTimer),delete z.lazyLoadTimer)}),P(B(z),"slideHandler",function(X){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=z.props,ae=G.asNavFor,fe=G.beforeChange,ce=G.onLazyLoad,_e=G.speed,oe=G.afterChange,me=z.state.currentSlide,Oe=(0,a.slideHandler)(A(A(A({index:X},z.props),z.state),{},{trackRef:z.track,useCSS:z.props.useCSS&&!N})),Ye=Oe.state,Ie=Oe.nextState;if(Ye){fe&&fe(me,Ye.currentSlide);var rt=Ye.lazyLoadedList.filter(function(yt){return z.state.lazyLoadedList.indexOf(yt)<0});ce&&rt.length>0&&ce(rt),!z.props.waitForAnimate&&z.animationEndCallback&&(clearTimeout(z.animationEndCallback),oe&&oe(me),delete z.animationEndCallback),z.setState(Ye,function(){ae&&z.asNavForIndex!==X&&(z.asNavForIndex=X,ae.innerSlider.slideHandler(X)),Ie&&(z.animationEndCallback=setTimeout(function(){var yt=Ie.animating,tt=b(Ie,["animating"]);z.setState(tt,function(){z.callbackTimers.push(setTimeout(function(){return z.setState({animating:yt})},10)),oe&&oe(Ye.currentSlide),delete z.animationEndCallback})},_e))})}}),P(B(z),"changeSlide",function(X){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=A(A({},z.props),z.state),ae=(0,a.changeSlide)(G,X);if(!(ae!==0&&!ae)&&(N===!0?z.slideHandler(ae,N):z.slideHandler(ae),z.props.autoplay&&z.autoPlay("update"),z.props.focusOnSelect)){var fe=z.list.querySelectorAll(".slick-current");fe[0]&&fe[0].focus()}}),P(B(z),"clickHandler",function(X){z.clickable===!1&&(X.stopPropagation(),X.preventDefault()),z.clickable=!0}),P(B(z),"keyHandler",function(X){var N=(0,a.keyHandler)(X,z.props.accessibility,z.props.rtl);N!==""&&z.changeSlide({message:N})}),P(B(z),"selectHandler",function(X){z.changeSlide(X)}),P(B(z),"disableBodyScroll",function(){var X=function(G){G=G||window.event,G.preventDefault&&G.preventDefault(),G.returnValue=!1};window.ontouchmove=X}),P(B(z),"enableBodyScroll",function(){window.ontouchmove=null}),P(B(z),"swipeStart",function(X){z.props.verticalSwiping&&z.disableBodyScroll();var N=(0,a.swipeStart)(X,z.props.swipe,z.props.draggable);N!==""&&z.setState(N)}),P(B(z),"swipeMove",function(X){var N=(0,a.swipeMove)(X,A(A(A({},z.props),z.state),{},{trackRef:z.track,listRef:z.list,slideIndex:z.state.currentSlide}));N&&(N.swiping&&(z.clickable=!1),z.setState(N))}),P(B(z),"swipeEnd",function(X){var N=(0,a.swipeEnd)(X,A(A(A({},z.props),z.state),{},{trackRef:z.track,listRef:z.list,slideIndex:z.state.currentSlide}));if(N){var G=N.triggerSlideHandler;delete N.triggerSlideHandler,z.setState(N),G!==void 0&&(z.slideHandler(G),z.props.verticalSwiping&&z.enableBodyScroll())}}),P(B(z),"touchEnd",function(X){z.swipeEnd(X),z.clickable=!0}),P(B(z),"slickPrev",function(){z.callbackTimers.push(setTimeout(function(){return z.changeSlide({message:"previous"})},0))}),P(B(z),"slickNext",function(){z.callbackTimers.push(setTimeout(function(){return z.changeSlide({message:"next"})},0))}),P(B(z),"slickGoTo",function(X){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(X=Number(X),isNaN(X))return"";z.callbackTimers.push(setTimeout(function(){return z.changeSlide({message:"index",index:X,currentSlide:z.state.currentSlide},N)},0))}),P(B(z),"play",function(){var X;if(z.props.rtl)X=z.state.currentSlide-z.props.slidesToScroll;else if((0,a.canGoNext)(A(A({},z.props),z.state)))X=z.state.currentSlide+z.props.slidesToScroll;else return!1;z.slideHandler(X)}),P(B(z),"autoPlay",function(X){z.autoplayTimer&&clearInterval(z.autoplayTimer);var N=z.state.autoplaying;if(X==="update"){if(N==="hovered"||N==="focused"||N==="paused")return}else if(X==="leave"){if(N==="paused"||N==="focused")return}else if(X==="blur"&&(N==="paused"||N==="hovered"))return;z.autoplayTimer=setInterval(z.play,z.props.autoplaySpeed+50),z.setState({autoplaying:"playing"})}),P(B(z),"pause",function(X){z.autoplayTimer&&(clearInterval(z.autoplayTimer),z.autoplayTimer=null);var N=z.state.autoplaying;X==="paused"?z.setState({autoplaying:"paused"}):X==="focused"?(N==="hovered"||N==="playing")&&z.setState({autoplaying:"focused"}):N==="playing"&&z.setState({autoplaying:"hovered"})}),P(B(z),"onDotsOver",function(){return z.props.autoplay&&z.pause("hovered")}),P(B(z),"onDotsLeave",function(){return z.props.autoplay&&z.state.autoplaying==="hovered"&&z.autoPlay("leave")}),P(B(z),"onTrackOver",function(){return z.props.autoplay&&z.pause("hovered")}),P(B(z),"onTrackLeave",function(){return z.props.autoplay&&z.state.autoplaying==="hovered"&&z.autoPlay("leave")}),P(B(z),"onSlideFocus",function(){return z.props.autoplay&&z.pause("focused")}),P(B(z),"onSlideBlur",function(){return z.props.autoplay&&z.state.autoplaying==="focused"&&z.autoPlay("blur")}),P(B(z),"render",function(){var X=(0,i.default)("slick-slider",z.props.className,{"slick-vertical":z.props.vertical,"slick-initialized":!0}),N=A(A({},z.props),z.state),G=(0,a.extractObject)(N,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),ae=z.props.pauseOnHover;G=A(A({},G),{},{onMouseEnter:ae?z.onTrackOver:null,onMouseLeave:ae?z.onTrackLeave:null,onMouseOver:ae?z.onTrackOver:null,focusOnSelect:z.props.focusOnSelect&&z.clickable?z.selectHandler:null});var fe;if(z.props.dots===!0&&z.state.slideCount>=z.props.slidesToShow){var ce=(0,a.extractObject)(N,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),_e=z.props.pauseOnDotsHover;ce=A(A({},ce),{},{clickHandler:z.changeSlide,onMouseEnter:_e?z.onDotsLeave:null,onMouseOver:_e?z.onDotsOver:null,onMouseLeave:_e?z.onDotsLeave:null}),fe=n.default.createElement(l.Dots,ce)}var oe,me,Oe=(0,a.extractObject)(N,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Oe.clickHandler=z.changeSlide,z.props.arrows&&(oe=n.default.createElement(u.PrevArrow,Oe),me=n.default.createElement(u.NextArrow,Oe));var Ye=null;z.props.vertical&&(Ye={height:z.state.listHeight});var Ie=null;z.props.vertical===!1?z.props.centerMode===!0&&(Ie={padding:"0px "+z.props.centerPadding}):z.props.centerMode===!0&&(Ie={padding:z.props.centerPadding+" 0px"});var rt=A(A({},Ye),Ie),yt=z.props.touchMove,tt={className:"slick-list",style:rt,onClick:z.clickHandler,onMouseDown:yt?z.swipeStart:null,onMouseMove:z.state.dragging&&yt?z.swipeMove:null,onMouseUp:yt?z.swipeEnd:null,onMouseLeave:z.state.dragging&&yt?z.swipeEnd:null,onTouchStart:yt?z.swipeStart:null,onTouchMove:z.state.dragging&&yt?z.swipeMove:null,onTouchEnd:yt?z.touchEnd:null,onTouchCancel:z.state.dragging&&yt?z.swipeEnd:null,onKeyDown:z.props.accessibility?z.keyHandler:null},Ae={className:X,dir:"ltr",style:z.props.style};return z.props.unslick&&(tt={className:"slick-list"},Ae={className:X,style:z.props.style}),n.default.createElement("div",Ae,z.props.unslick?"":oe,n.default.createElement("div",v({ref:z.listRefHandler},tt),n.default.createElement(r.Track,v({ref:z.trackRefHandler},G),z.props.children)),z.props.unslick?"":me,z.props.unslick?"":fe)}),z.list=null,z.track=null,z.state=A(A({},e.default),{},{currentSlide:z.props.initialSlide,targetSlide:z.props.initialSlide?z.props.initialSlide:0,slideCount:n.default.Children.count(z.props.children)}),z.callbackTimers=[],z.clickable=!0,z.debouncedResize=null;var $=z.ssrInit();return z.state=A(A({},z.state),$),z}return L(ne,[{key:"didPropsChange",value:function(z){for(var $=!1,X=0,N=Object.keys(this.props);X<N.length;X++){var G=N[X];if(!z.hasOwnProperty(G)){$=!0;break}if(!(g(z[G])==="object"||typeof z[G]=="function"||isNaN(z[G]))&&z[G]!==this.props[G]){$=!0;break}}return $||n.default.Children.count(this.props.children)!==n.default.Children.count(z.children)}}]),ne})(n.default.Component),Zp}var y1,HA;function zX(){if(HA)return y1;HA=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return y1=n,y1}var b1,kA;function BX(){if(kA)return b1;kA=1;var n=zX(),e=function(a){var r=/[height|width]$/;return r.test(a)},t=function(a){var r="",l=Object.keys(a);return l.forEach(function(u,h){var m=a[u];u=n(u),e(u)&&typeof m=="number"&&(m=m+"px"),m===!0?r+=u:m===!1?r+="not "+u:r+="("+u+": "+m+")",h<l.length-1&&(r+=" and ")}),r},i=function(a){var r="";return typeof a=="string"?a:a instanceof Array?(a.forEach(function(l,u){r+=t(l),u<a.length-1&&(r+=", ")}),r):t(a)};return b1=i,b1}var GA;function IX(){return GA||(GA=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=l(fr()),t=PX(),i=l(BX()),a=l(HO()),r=fg();function l(H){return H&&H.__esModule?H:{default:H}}function u(H){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},u(H)}function h(){return h=Object.assign?Object.assign.bind():function(H){for(var I=1;I<arguments.length;I++){var P=arguments[I];for(var j in P)({}).hasOwnProperty.call(P,j)&&(H[j]=P[j])}return H},h.apply(null,arguments)}function m(H,I){var P=Object.keys(H);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(H);I&&(j=j.filter(function(Z){return Object.getOwnPropertyDescriptor(H,Z).enumerable})),P.push.apply(P,j)}return P}function g(H){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?m(Object(P),!0).forEach(function(j){D(H,j,P[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(P)):m(Object(P)).forEach(function(j){Object.defineProperty(H,j,Object.getOwnPropertyDescriptor(P,j))})}return H}function v(H,I){if(!(H instanceof I))throw new TypeError("Cannot call a class as a function")}function b(H,I){for(var P=0;P<I.length;P++){var j=I[P];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(H,U(j.key),j)}}function S(H,I,P){return I&&b(H.prototype,I),Object.defineProperty(H,"prototype",{writable:!1}),H}function M(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(I&&I.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),I&&A(H,I)}function A(H,I){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,j){return P.__proto__=j,P},A(H,I)}function T(H){var I=O();return function(){var P,j=F(H);if(I){var Z=F(this).constructor;P=Reflect.construct(j,arguments,Z)}else P=j.apply(this,arguments);return _(this,P)}}function _(H,I){if(I&&(u(I)=="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(H)}function L(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function O(){try{var H=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!H})()}function F(H){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},F(H)}function D(H,I,P){return(I=U(I))in H?Object.defineProperty(H,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):H[I]=P,H}function U(H){var I=B(H,"string");return u(I)=="symbol"?I:I+""}function B(H,I){if(u(H)!="object"||!H)return H;var P=H[Symbol.toPrimitive];if(P!==void 0){var j=P.call(H,I);if(u(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(H)}n.default=(function(H){M(P,H);var I=T(P);function P(j){var Z;return v(this,P),Z=I.call(this,j),D(L(Z),"innerSliderRefHandler",function(W){return Z.innerSlider=W}),D(L(Z),"slickPrev",function(){return Z.innerSlider.slickPrev()}),D(L(Z),"slickNext",function(){return Z.innerSlider.slickNext()}),D(L(Z),"slickGoTo",function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Z.innerSlider.slickGoTo(W,Y)}),D(L(Z),"slickPause",function(){return Z.innerSlider.pause("paused")}),D(L(Z),"slickPlay",function(){return Z.innerSlider.autoPlay("play")}),Z.state={breakpoint:null},Z._responsiveMediaHandlers=[],Z}return S(P,[{key:"media",value:function(Z,W){var Y=window.matchMedia(Z),ne=function(z){var $=z.matches;$&&W()};Y.addListener(ne),this._responsiveMediaHandlers.push({mql:Y,query:Z,listener:ne})}},{key:"componentDidMount",value:function(){var Z=this;if(this.props.responsive){var W=this.props.responsive.map(function(ne){return ne.breakpoint});W.sort(function(ne,k){return ne-k}),W.forEach(function(ne,k){var z;k===0?z=(0,i.default)({minWidth:0,maxWidth:ne}):z=(0,i.default)({minWidth:W[k-1]+1,maxWidth:ne}),(0,r.canUseDOM)()&&Z.media(z,function(){Z.setState({breakpoint:ne})})});var Y=(0,i.default)({minWidth:W.slice(-1)[0]});(0,r.canUseDOM)()&&this.media(Y,function(){Z.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(Z){Z.mql.removeListener(Z.listener)})}},{key:"render",value:function(){var Z=this,W,Y;this.state.breakpoint?(Y=this.props.responsive.filter(function(ce){return ce.breakpoint===Z.state.breakpoint}),W=Y[0].settings==="unslick"?"unslick":g(g(g({},a.default),this.props),Y[0].settings)):W=g(g({},a.default),this.props),W.centerMode&&(W.slidesToScroll>1,W.slidesToScroll=1),W.fade&&(W.slidesToShow>1,W.slidesToScroll>1,W.slidesToShow=1,W.slidesToScroll=1);var ne=e.default.Children.toArray(this.props.children);ne=ne.filter(function(ce){return typeof ce=="string"?!!ce.trim():!!ce}),W.variableWidth&&(W.rows>1||W.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),W.variableWidth=!1);for(var k=[],z=null,$=0;$<ne.length;$+=W.rows*W.slidesPerRow){for(var X=[],N=$;N<$+W.rows*W.slidesPerRow;N+=W.slidesPerRow){for(var G=[],ae=N;ae<N+W.slidesPerRow&&(W.variableWidth&&ne[ae].props.style&&(z=ne[ae].props.style.width),!(ae>=ne.length));ae+=1)G.push(e.default.cloneElement(ne[ae],{key:100*$+10*N+ae,tabIndex:-1,style:{width:"".concat(100/W.slidesPerRow,"%"),display:"inline-block"}}));X.push(e.default.createElement("div",{key:10*$+N},G))}W.variableWidth?k.push(e.default.createElement("div",{key:$,style:{width:z}},X)):k.push(e.default.createElement("div",{key:$},X))}if(W==="unslick"){var fe="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:fe},ne)}else k.length<=W.slidesToShow&&(W.unslick=!0);return e.default.createElement(t.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,r.filterSettings)(W)),k)}}]),P})(e.default.Component)})(m1)),m1}var qA;function FX(){return qA||(qA=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(IX());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default})(h1)),h1}var VX=FX();const HX=k0(VX),kX=()=>{const[n,e]=K.useState([{value:"24",label:"Years"},{value:"29",label:"Teachers"},{value:"1500",label:"Students"}]),[t,i]=K.useState(null);K.useEffect(()=>{(async()=>{try{const{data:_}=await Kt.get("/home-stats");_.success&&_.data&&e([{value:_.data.years,label:"Years"},{value:_.data.teachers,label:"Teachers"},{value:_.data.students,label:"Students"}])}catch(_){console.error("Failed to fetch stats:",_)}})()},[]);const a=[{icon:p.createElement(Zz,{size:40,className:"text-white"}),title:"Quality teaching",desc:"Experienced and trained teachers who provide quality instruction are a top reason parents choose a school."},{icon:p.createElement(Bz,{size:40,className:"text-white"}),title:"Educational Growth",desc:"Nurturing young minds with knowledge and critical thinking."},{icon:p.createElement(o6,{size:40,className:"text-white"}),title:"Lifelong Learning",desc:"Equipping students with essential skills for a successful future."}],r=[{icon:p.createElement(Lz,{size:40,className:"text-blue-900"}),title:"Academic Services",desc:"Comprehensive academic support and resources to help students excel in their studies throughout the year.",image:"https://academic-services.providence.edu/wp-content/uploads/sites/36/2020/08/oas-banner-image-1024x467.jpg"},{icon:p.createElement(jz,{size:40,className:"text-blue-900"}),title:"Fees & Finance Services",desc:"Transparent fee structure and flexible payment options to make quality education accessible to all families.",image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=600&fit=crop"},{icon:p.createElement(Pz,{size:40,className:"text-blue-900"}),title:"Transport Services",desc:"Safe and reliable transportation services ensuring students reach school and return home securely every day.",image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&h=600&fit=crop"},{icon:p.createElement(Dz,{size:40,className:"text-blue-900"}),title:"Event & Activity Services",desc:"Engaging events and activities that promote teamwork, creativity, and holistic development of students.",image:"https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=800&h=600&fit=crop"},{icon:p.createElement(i6,{size:40,className:"text-blue-900"}),title:"Communication Services",desc:"Seamless communication channels between school, parents, and students for better coordination and updates.",image:"https://images.unsplash.com/photo-1577563908411-5077b6dc7624?w=800&h=600&fit=crop"},{icon:p.createElement(c6,{size:40,className:"text-blue-900"}),title:"Security Services",desc:"24/7 security measures and protocols to ensure a safe and secure learning environment for all students.",image:"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&h=600&fit=crop"}],[l,u]=K.useState([]),[h,m]=K.useState({}),[g,v]=K.useState("");K.useEffect(()=>{(async()=>{try{const{data:_}=await Kt.get("/parents");_.success&&_.data&&u(Array.isArray(_.data)?_.data:[])}catch(_){console.error("Failed to fetch testimonials:",_)}})()},[]);const b=T=>{m(_=>({..._,[T]:!0}))};K.useEffect(()=>{if(!g)return;const T=setTimeout(()=>v(""),5e3);return()=>clearTimeout(T)},[g]);const S=({onClick:T})=>p.createElement("button",{onClick:T,className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-blue-900 p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Previous"},p.createElement(Fz,{className:"text-white w-5 h-5 md:w-6 md:h-6"})),M=({onClick:T})=>p.createElement("button",{onClick:T,className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-blue-900 p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Next"},p.createElement(Hz,{className:"text-white w-5 h-5 md:w-6 md:h-6"})),A={dots:!1,infinite:l.length>1,speed:500,autoplay:!0,autoplaySpeed:4e3,slidesToShow:1,slidesToScroll:1,prevArrow:p.createElement(S,null),nextArrow:p.createElement(M,null),centerMode:!1,variableWidth:!1,fade:!1,pauseOnHover:!0};return p.createElement(p.Fragment,null,p.createElement("title",null,"Home | Holy Redeemer School"),p.createElement("section",{className:"relative w-full h-screen overflow-hidden"},p.createElement("div",{className:"absolute inset-0 w-full h-full z-0"},p.createElement(cX,{speed:5,scale:1.2,color:"#1e40af",noiseIntensity:1.5,rotation:0})),p.createElement("div",{className:"relative z-10 h-full flex flex-col items-center justify-center px-6 text-center"},p.createElement("div",{className:"mb-6 inline-flex items-center gap-2 px-20 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/20"},p.createElement("span",{className:"text-white text-sm font-medium"},"Welcome to Holy Redeemer School")),p.createElement("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-8 max-w-4xl leading-tight"},"Excellence in Education,",p.createElement("br",null),p.createElement("span",{className:"text-blue-200"},"Nurturing Future Leaders")),p.createElement("div",{className:"flex flex-col sm:flex-row gap-4 mt-4"},p.createElement(Ki,{to:"/admissions/apply",className:"px-8 py-4 bg-white text-blue-900 rounded-lg font-semibold text-lg hover:bg-blue-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},"Get Started"),p.createElement(Ki,{to:"/about",className:"px-8 py-4 bg-blue-900/80 backdrop-blur-md text-white rounded-lg font-semibold text-lg border border-white/20 hover:bg-blue-800/90 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},"Learn More")))),p.createElement("section",{className:"py-16 bg-white"},p.createElement("div",{className:"container mx-auto px-6 text-center"},p.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"},"Why Choose Us"),p.createElement("div",{className:"w-24 h-1 bg-blue-900 mx-auto mb-10 rounded"}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},a.map((T,_)=>p.createElement("div",{key:_,className:`group relative bg-white border rounded-lg shadow-sm p-8 cursor-pointer transition-all duration-500 ease-out transform hover:scale-105 hover:shadow-2xl hover:-translate-y-2 ${t===_?"scale-105 shadow-2xl -translate-y-2":""}`,onMouseEnter:()=>i(_),onMouseLeave:()=>i(null)},p.createElement("div",{className:`absolute inset-0 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg transition-opacity duration-500 ${t===_?"opacity-100":"opacity-0"}`}),p.createElement("div",{className:`relative z-10 w-20 h-20 mx-auto mb-6 flex items-center justify-center bg-blue-900 clip-hexagon transition-all duration-700 ease-out transform group-hover:rotate-12 group-hover:scale-110 ${t===_?"rotate-12 scale-110":""}`},p.createElement("div",{className:`transition-all duration-500 ${t===_?"rotate-12 scale-110":""}`},T.icon)),p.createElement("h3",{className:`relative z-10 text-xl font-bold text-gray-900 mb-2 transition-all duration-500 transform ${t===_?"translate-x-2 text-blue-900":""}`},T.title),p.createElement("p",{className:`relative z-10 text-gray-600 font-semibold transition-all duration-500 ${t===_?"text-gray-800 opacity-90":""}`},T.desc),p.createElement("div",{className:`absolute inset-0 rounded-lg transition-all duration-500 ${t===_?"shadow-lg shadow-blue-200/50":""}`})))))),p.createElement("section",{className:"py-16 bg-white"},p.createElement("div",{className:"container mx-auto px-6 text-center"},p.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"},"Services"),p.createElement("div",{className:"w-24 h-1 bg-blue-900 mx-auto mb-10 rounded"}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},r.map((T,_)=>p.createElement(ug,{key:_,image:T.image,title:T.title,description:T.desc,showGradient:!0}))))),p.createElement("section",{className:"py-16 bg-gray-50"},p.createElement("div",{className:"container mx-auto px-6 text-center"},p.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"},"Happy Parents"),p.createElement("div",{className:"w-24 h-1 bg-blue-900 mx-auto mb-10 rounded"}),p.createElement("div",{className:"relative max-w-3xl mx-auto px-4 md:px-8"},l.length>0?p.createElement("div",{className:"overflow-hidden"},p.createElement(HX,{...A},l.map((T,_)=>p.createElement("div",{key:T._id||_},p.createElement("div",{className:"bg-blue-900 text-white rounded-xl p-6 md:p-8 shadow-lg h-[500px] flex flex-col items-center justify-center mx-auto max-w-full"},p.createElement(qx,{className:"mx-auto mb-4 w-8 h-8 flex-shrink-0"}),T.photo&&!h[T._id]?p.createElement("img",{src:T.photo,alt:T.name,className:"parent-testimonial-image mx-auto w-64 h-56 md:w-80 md:h-64 rounded-lg object-cover mb-4 border-4 border-white shadow-xl flex-shrink-0",onError:()=>b(T._id),loading:"lazy",style:{imageRendering:"high-quality"}}):p.createElement("div",{className:"mx-auto w-64 h-56 md:w-80 md:h-64 rounded-lg bg-white/20 flex items-center justify-center mb-4 border-4 border-white shadow-xl flex-shrink-0"},p.createElement(f3,{className:"w-20 h-20 md:w-24 md:h-24 text-white"})),p.createElement("h3",{className:"font-semibold mb-3 text-base md:text-lg lg:text-xl px-2 text-center flex-shrink-0"},T.name),p.createElement("p",{className:"text-sm md:text-base lg:text-lg leading-relaxed text-center px-2 flex-grow overflow-y-auto hide-scrollbar"},T.testimonial||T.text),p.createElement(qx,{className:"mx-auto mt-4 w-8 h-8 rotate-180 flex-shrink-0"})))))):p.createElement("div",{className:"bg-blue-900 text-white rounded-xl p-8 md:p-12 shadow-lg h-[500px] flex flex-col items-center justify-center max-w-md mx-auto"},p.createElement(qx,{className:"mx-auto mb-4 w-8 h-8 flex-shrink-0"}),p.createElement("div",{className:"mx-auto w-64 h-56 md:w-80 md:h-64 rounded-lg bg-white/20 flex items-center justify-center mb-4 border-4 border-white shadow-xl flex-shrink-0"},p.createElement(f3,{className:"w-20 h-20 md:w-24 md:h-24 text-white"})),p.createElement("h3",{className:"font-semibold mb-4 text-xl flex-shrink-0"},"No testimonials yet"),p.createElement("p",{className:"text-lg leading-relaxed text-center flex-grow"},"Check back soon for parent testimonials."),p.createElement(qx,{className:"mx-auto mt-4 w-8 h-8 rotate-180 flex-shrink-0"}))))),p.createElement("section",{className:"py-16 bg-white"},p.createElement("div",{className:"container mx-auto px-6 text-center"},p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},n.map((T,_)=>p.createElement("div",{key:_,className:"flex flex-col items-center justify-center"},p.createElement("div",{className:"w-40 h-40 rounded-full border-4 border-blue-900 flex items-center justify-center mb-4"},p.createElement("span",{className:"text-3xl font-bold text-blue-900"},T.value)),p.createElement("h4",{className:"text-lg font-semibold text-gray-800"},T.label)))))))},qf=({icon:n,title:e})=>p.createElement("div",{className:"text-center mb-10"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold flex items-center justify-center gap-2"},p.createElement("span",null,n)," ",e),p.createElement("div",{className:"w-20 h-1 bg-blue-900 mx-auto mt-2 rounded"}));class Or{constructor(e,t,i){this.x=e,this.y=t,this.z=i}dot2(e,t){return this.x*e+this.y*t}}class GX{constructor(e=0){this.grad3=[new Or(1,1,0),new Or(-1,1,0),new Or(1,-1,0),new Or(-1,-1,0),new Or(1,0,1),new Or(-1,0,1),new Or(1,0,-1),new Or(-1,0,-1),new Or(0,1,1),new Or(0,-1,1),new Or(0,1,-1),new Or(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.seed(e)}seed(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(let t=0;t<256;t++){let i=t&1?this.p[t]^e&255:this.p[t]^e>>8&255;this.perm[t]=this.perm[t+256]=i,this.gradP[t]=this.gradP[t+256]=this.grad3[i%12]}}fade(e){return e*e*e*(e*(e*6-15)+10)}lerp(e,t,i){return(1-i)*e+i*t}perlin2(e,t){let i=Math.floor(e),a=Math.floor(t);e-=i,t-=a,i&=255,a&=255;const r=this.gradP[i+this.perm[a]].dot2(e,t),l=this.gradP[i+this.perm[a+1]].dot2(e,t-1),u=this.gradP[i+1+this.perm[a]].dot2(e-1,t),h=this.gradP[i+1+this.perm[a+1]].dot2(e-1,t-1),m=this.fade(e);return this.lerp(this.lerp(r,u,m),this.lerp(l,h,m),this.fade(t))}}const qX=({lineColor:n="black",backgroundColor:e="transparent",waveSpeedX:t=.0125,waveSpeedY:i=.005,waveAmpX:a=32,waveAmpY:r=16,xGap:l=10,yGap:u=32,friction:h=.925,tension:m=.005,maxCursorMove:g=100,style:v={},className:b=""})=>{const S=K.useRef(null),M=K.useRef(null),A=K.useRef(null),T=K.useRef({width:0,height:0,left:0,top:0}),_=K.useRef(new GX(Math.random())),L=K.useRef([]),O=K.useRef({x:-10,y:0,lx:0,ly:0,sx:0,sy:0,v:0,vs:0,a:0,set:!1}),F=K.useRef({lineColor:n,waveSpeedX:t,waveSpeedY:i,waveAmpX:a,waveAmpY:r,friction:h,tension:m,maxCursorMove:g,xGap:l,yGap:u}),D=K.useRef(null);return K.useEffect(()=>{F.current={lineColor:n,waveSpeedX:t,waveSpeedY:i,waveAmpX:a,waveAmpY:r,friction:h,tension:m,maxCursorMove:g,xGap:l,yGap:u}},[n,t,i,a,r,h,m,g,l,u]),K.useEffect(()=>{console.log("Waves mounted");const U=M.current,B=S.current;A.current=U.getContext("2d");function H(){T.current=B.getBoundingClientRect(),U.width=T.current.width,U.height=T.current.height}function I(){const{width:$,height:X}=T.current;L.current=[];const N=$+200,G=X+30,{xGap:ae,yGap:fe}=F.current,ce=Math.ceil(N/ae),_e=Math.ceil(G/fe),oe=($-ae*ce)/2,me=(X-fe*_e)/2;for(let Oe=0;Oe<=ce;Oe++){const Ye=[];for(let Ie=0;Ie<=_e;Ie++)Ye.push({x:oe+ae*Oe,y:me+fe*Ie,wave:{x:0,y:0},cursor:{x:0,y:0,vx:0,vy:0}});L.current.push(Ye)}}function P($){const X=L.current,N=O.current,G=_.current,{waveSpeedX:ae,waveSpeedY:fe,waveAmpX:ce,waveAmpY:_e,friction:oe,tension:me,maxCursorMove:Oe}=F.current;X.forEach(Ye=>{Ye.forEach(Ie=>{const rt=G.perlin2((Ie.x+$*ae)*.002,(Ie.y+$*fe)*.0015)*12;Ie.wave.x=Math.cos(rt)*ce,Ie.wave.y=Math.sin(rt)*_e;const yt=Ie.x-N.sx,tt=Ie.y-N.sy,Ae=Math.hypot(yt,tt),ie=Math.max(175,N.vs);if(Ae<ie){const Be=1-Ae/ie,Te=Math.cos(Ae*.001)*Be;Ie.cursor.vx+=Math.cos(N.a)*Te*ie*N.vs*65e-5,Ie.cursor.vy+=Math.sin(N.a)*Te*ie*N.vs*65e-5}Ie.cursor.vx+=(0-Ie.cursor.x)*me,Ie.cursor.vy+=(0-Ie.cursor.y)*me,Ie.cursor.vx*=oe,Ie.cursor.vy*=oe,Ie.cursor.x+=Ie.cursor.vx*2,Ie.cursor.y+=Ie.cursor.vy*2,Ie.cursor.x=Math.min(Oe,Math.max(-Oe,Ie.cursor.x)),Ie.cursor.y=Math.min(Oe,Math.max(-Oe,Ie.cursor.y))})})}function j($,X=!0){const N=$.x+$.wave.x+(X?$.cursor.x:0),G=$.y+$.wave.y+(X?$.cursor.y:0);return{x:Math.round(N*10)/10,y:Math.round(G*10)/10}}function Z(){const{width:$,height:X}=T.current,N=A.current;N.clearRect(0,0,$,X),N.beginPath(),N.strokeStyle=F.current.lineColor,L.current.forEach(G=>{let ae=j(G[0],!1);N.moveTo(ae.x,ae.y),G.forEach((fe,ce)=>{const _e=ce===G.length-1;ae=j(fe,!_e);const oe=j(G[ce+1]||G[G.length-1],!_e);N.lineTo(ae.x,ae.y),_e&&N.moveTo(oe.x,oe.y)})}),N.stroke()}function W($){const X=O.current;X.sx+=(X.x-X.sx)*.1,X.sy+=(X.y-X.sy)*.1;const N=X.x-X.lx,G=X.y-X.ly,ae=Math.hypot(N,G);X.v=ae,X.vs+=(ae-X.vs)*.1,X.vs=Math.min(100,X.vs),X.lx=X.x,X.ly=X.y,X.a=Math.atan2(G,N),B.style.setProperty("--x",`${X.sx}px`),B.style.setProperty("--y",`${X.sy}px`),P($),Z(),D.current=requestAnimationFrame(W)}function Y(){H(),I()}function ne($){z($.clientX,$.clientY)}function k($){const X=$.touches[0];z(X.clientX,X.clientY)}function z($,X){const N=O.current,G=T.current;N.x=$-G.left,N.y=X-G.top,N.set||(N.sx=N.x,N.sy=N.y,N.lx=N.x,N.ly=N.y,N.set=!0)}return H(),I(),D.current=requestAnimationFrame(W),window.addEventListener("resize",Y),window.addEventListener("mousemove",ne),window.addEventListener("touchmove",k,{passive:!1}),()=>{window.removeEventListener("resize",Y),window.removeEventListener("mousemove",ne),window.removeEventListener("touchmove",k),cancelAnimationFrame(D.current)}},[]),p.createElement("div",{ref:S,className:`waves ${b}`,style:{position:"absolute",top:0,left:0,margin:0,padding:0,width:"100%",height:"100%",overflow:"hidden",backgroundColor:e,...v}},p.createElement("canvas",{ref:M,className:"waves-canvas"}))},jA={center:"items-center text-center",left:"items-start text-left",right:"items-end text-right"},lc=({eyebrow:n="Discover Our Programs",eyebrowColor:e="text-yellow-200",title:t,titleColor:i="text-yellow-100",subtitle:a,subtitleColor:r="text-yellow-100",heightClass:l="h-[420px]",gradientColors:u=["#0A1A3F","#132B63","#0A1A3F"],overlayOpacity:h=.45,align:m="center",wavesClassName:g="opacity-70 pointer-events-none",wavesProps:v={},children:b})=>{const S=jA[m]||jA.center,A={...{lineColor:"rgba(255,255,255,0.4)",backgroundColor:"transparent",waveSpeedX:.02,waveSpeedY:.01,waveAmpX:40,waveAmpY:20,friction:.9,tension:.01,maxCursorMove:120,xGap:12,yGap:36},...v},[T,_,L]=u;return p.createElement("section",{className:`relative overflow-hidden text-white flex ${l} items-center justify-center px-4`},p.createElement("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${T}, ${_}, ${L})`}}),p.createElement("div",{className:"absolute inset-0",style:{backgroundColor:`rgba(5, 10, 20, ${h})`}}),p.createElement("div",{className:`relative z-10 space-y-4 max-w-3xl ${S}`},n&&p.createElement("p",{className:`uppercase tracking-[0.3em] text-xs md:text-sm ${e}`},n),t&&p.createElement("h1",{className:`text-3xl md:text-5xl font-bold ${i}`},t),a&&p.createElement("p",{className:`text-base md:text-lg ${r}`},a),b),p.createElement(qX,{className:g,...A}))},jX="/assets/school-CNwaxWLS.png",XX="/assets/vision-C6CWDsA9.png",WX="/assets/mission-CMR19pnd.png",YX="/assets/principal-DsN5HN8r.png",ZX=()=>p.createElement(p.Fragment,null,p.createElement("title",null,"About Us | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Who We Are",title:"About Us",subtitle:"Rooted in values and driven by innovation, Holy Redeemer School empowers every learner to thrive."}),p.createElement("div",{className:"container mx-auto px-6 py-16 space-y-20"},p.createElement("section",null,p.createElement(qf,{icon:"",title:"School Overview"}),p.createElement("div",{className:"flex flex-col md:flex-row items-center gap-8"},p.createElement("img",{src:jX,alt:"School",className:"w-full md:w-1/2 rounded-lg shadow"}),p.createElement("div",{className:"flex flex-col space-y-4 font-semibold"},p.createElement("p",{className:"text-gray-700 leading-relaxed text-lg"},"Holy Redeemer School offers classes from Nursery to Grade 10, focusing on academic excellence and overall development. We provide a nurturing environment that encourages learning, creativity, and strong values, guided by experienced educators and modern teaching methods."),p.createElement("p",{className:"text-gray-700 leading-relaxed text-lg"},"Our campus is designed to support curiosity, confidence, and active participation. With a balance of academics and co-curricular activities, we shape students into responsible, future-ready individuals.")))),p.createElement("section",null,p.createElement(qf,{icon:"",title:"Our Vision"}),p.createElement("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8"},p.createElement("img",{src:XX,alt:"Vision",className:"w-full md:w-1/2 rounded-lg shadow"}),p.createElement("div",{className:"flex flex-col space-y-4 font-semibold"},p.createElement("li",{className:"text-gray-700 leading-relaxed text-lg"},"To be a center of excellence that nurtures responsible, confident, and compassionate individuals through quality education and holistic development."),p.createElement("li",{className:"text-gray-700 leading-relaxed text-lg"},"We envision a learning space where students grow intellectually, emotionally, and socially.Our goal is to empower every child to become a lifelong learner and a positive contributor to society.")))),p.createElement("section",null,p.createElement(qf,{icon:"",title:"Our Mission"}),p.createElement("div",{className:"flex flex-col md:flex-row items-center gap-8"},p.createElement("img",{src:WX,alt:"Mission",className:"w-full md:w-1/2 rounded-lg shadow"}),p.createElement("div",{className:"flex flex-col space-y-4 font-semibold"},p.createElement("p",{className:"text-gray-700 leading-relaxed text-lg"},"Our mission is to provide a safe, supportive, and inspiring environment where students can achieve academic success, develop strong moral values, and discover their unique potential. We are committed to:"),p.createElement("ul",{className:"list-disc pl-6 text-gray-700 leading-relaxed text-lg space-y-2"},p.createElement("li",null,"Fostering a love for learning through innovative teaching."),p.createElement("li",null,"Encouraging critical thinking and creativity."),p.createElement("li",null,"Promoting respect, integrity, and social responsibility."),p.createElement("li",null,"Building strong partnerships with families and the community."))))),p.createElement("section",null,p.createElement(qf,{icon:"",title:"Principals Message"}),p.createElement("div",{className:"flex flex-col md:flex-row items-center gap-8"},p.createElement("div",{className:"flex-1 text-gray-700 leading-relaxed text-lg font-semibold"},p.createElement("p",null,"Welcome to Holy Redeemer School, where every child is valued, guided, and inspired. We believe that education is not just about academic achievement, but about building character, confidence, and compassion."),p.createElement("p",{className:"mt-4"},"Our dedicated team of educators strives to create a joyful and engaging learning environment. We encourage students to think critically, act responsibly, and dream big."),p.createElement("p",{className:"mt-4"},"At Holy Redeemer, we dont just prepare students for exams  we prepare them for life."),p.createElement("p",{className:"mt-6 font-semibold"},"Warm regards, ",p.createElement("br",null),"[Principals Name] ",p.createElement("br",null),"Principal, Holy Redeemer School")),p.createElement("img",{src:YX,alt:"Principal",className:"w-full md:w-1/3 rounded-lg shadow"})))))),KX=({image:n,title:e,subtitle:t,description:i})=>{const a=cm();return p.createElement("div",{className:"max-w-md mx-auto"},p.createElement(ug,{image:n,title:e,description:i,showGradient:!0,onClick:()=>a("/admissions/apply"),className:"h-full"}),t&&p.createElement("div",{className:"mt-2 text-center"},p.createElement("p",{className:"text-sm text-gray-600"},t)))},QX="/assets/pre-primary-DLDpLLel.png",JX="/assets/primary-DeuP0UyY.png",$X="/assets/middle-DoGp9Sit.png",eW="/assets/highschool-B6bDQOtQ.png",tW=[{image:QX,title:"Pre - Primary School",subtitle:"Nursery / LKG / HKG",description:"Joyful, play-based learning for little ones. We focus on colors, shapes, sounds, and early social skills."},{image:JX,title:"Primary School",subtitle:"Class 1 - 5",description:"Strong foundation in language and numbers. Encourages curiosity, reading, and basic concepts through fun."},{image:$X,title:"Middle School",subtitle:"Class 6 - 8",description:"Skill-building through deeper subject understanding. Projects, teamwork, and logical thinking are encouraged."},{image:eW,title:"High School",subtitle:"Class 9 - 10",description:"Focused academics and exam preparation. We support career awareness and goal setting."}],nW=()=>p.createElement(p.Fragment,null,p.createElement("title",null,"Academics | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Discover Our Programs",title:"Academics",subtitle:"A continuum of learning that nurtures curious minds from early childhood through high school."}),p.createElement("section",{className:"container mx-auto px-6 py-16"},p.createElement("div",{className:"grid gap-10 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 justify-items-center"},tW.map((n,e)=>p.createElement(KX,{key:e,...n})))))),iW=()=>p.createElement(p.Fragment,null,p.createElement("title",null,"Admissions | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Join Our Community",title:"Admissions",subtitle:"Open seats for the 202526 session in English and Gujarati medium. Start your journey with us."},p.createElement("div",{className:"flex flex-wrap gap-4 justify-center pt-2"},p.createElement(Ki,{to:"/admissions/apply",className:"inline-flex items-center justify-center px-6 py-2.5 rounded-full bg-yellow-300/90 text-blue-950 font-semibold shadow-lg hover:bg-yellow-200 transition"},"Apply Online"),p.createElement(Ki,{to:"/contact",className:"inline-flex items-center justify-center px-6 py-2.5 rounded-full border border-white/60 text-white font-semibold hover:bg-white/10 transition"},"Talk To Us"))),p.createElement("section",{className:"container mx-auto px-6 py-12 text-center"},p.createElement("p",{className:"text-lg md:text-2xl font-semibold text-gray-800 leading-relaxed max-w-4xl mx-auto mb-6"},'"We welcome students to join our nurturing and academically strong environment. Admissions are open for the academic year'," ",p.createElement("span",{className:"font-bold"},"202526")," for both"," ",p.createElement("span",{className:"text-blue-900 font-bold"},"English and Gujarati medium."),'"'),p.createElement(Ki,{to:"/admissions/apply",className:"inline-block px-8 py-3 bg-indigo-600 text-white font-semibold rounded-full shadow-md hover:bg-indigo-700 transition text-lg"},"Enroll Now")),p.createElement("section",{className:"container mx-auto px-6 py-8 text-center"},p.createElement("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-6"},"Admissions Form  English Medium"),p.createElement("div",{className:"flex flex-col sm:flex-row justify-center gap-6"},p.createElement("button",{className:"px-6 py-3 bg-blue-900 text-white font-semibold rounded-full shadow-md hover:bg-blue-800 transition"},"Nursery / L.K.G / H.K.G"),p.createElement("button",{className:"px-6 py-3 bg-blue-900 text-white font-semibold rounded-full shadow-md hover:bg-blue-800 transition"},"STD. 1 to 8"),p.createElement("button",{className:"px-6 py-3 bg-blue-900 text-white font-semibold rounded-full shadow-md hover:bg-blue-800 transition"},"STD. 9th and 10th"))),p.createElement("section",{className:"container mx-auto px-6 py-8 text-center"},p.createElement("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-6"},"Admissions Form  Gujarati Medium"),p.createElement("div",{className:"flex flex-col sm:flex-row justify-center gap-6"},p.createElement("button",{className:"px-6 py-3 bg-blue-900 text-white font-semibold rounded-full shadow-md hover:bg-blue-800 transition"},"Nursery / L.K.G / H.K.G"),p.createElement("button",{className:"px-6 py-3 bg-blue-900 text-white font-semibold rounded-full shadow-md hover:bg-blue-800 transition"},"STD. 1 to 8"),p.createElement("button",{className:"px-6 py-3 bg-blue-900 text-white font-semibold rounded-full shadow-md hover:bg-blue-800 transition"},"STD. 9th and 10th"))))),aW=()=>{const n={firstName:"",middleName:"",lastName:"",gender:"",dateOfBirth:"",age:"",religion:"",caste:"",category:"",aadhaarNumber:"",className:"",mobileNumber:"",alternateMobileNumber:"",email:"",permanentAddress:"",correspondenceAddress:"",city:"",state:"",pinCode:"",fatherName:"",fatherOccupation:"",fatherMobileNumber:"",motherName:"",motherOccupation:"",motherMobileNumber:"",guardianName:"",annualFamilyIncome:""},[e,t]=K.useState(n),[i,a]=K.useState(!1),[r,l]=K.useState(""),[u,h]=K.useState(""),[m,g]=K.useState(!1),v=M=>{const{name:A,value:T}=M.target;if(t(_=>{const L={..._,[A]:T};return A==="permanentAddress"&&m&&(L.correspondenceAddress=T),L}),A==="dateOfBirth"&&T){const _=new Date(T),L=new Date;let O=L.getFullYear()-_.getFullYear();const F=L.getMonth()-_.getMonth();(F<0||F===0&&L.getDate()<_.getDate())&&O--,t(D=>({...D,age:O.toString()}))}},b=M=>{const A=M.target.checked;g(A),A&&t(T=>({...T,correspondenceAddress:T.permanentAddress}))},S=async M=>{M.preventDefault(),l(""),h(""),a(!0);try{const{data:A}=await Kt.post("/admissions",e);if(!A.success)throw new Error(A.message||"Failed to submit");h("Application submitted successfully!"),t(n)}catch(A){l(A.response?.data?.message||A.message||"Failed to submit")}finally{a(!1)}};return K.useEffect(()=>{if(!u)return;const M=setTimeout(()=>h(""),4e3);return()=>clearTimeout(M)},[u]),p.createElement(p.Fragment,null,p.createElement("title",null,"Apply For Admission | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Apply Online",title:"Admission Application",subtitle:"Complete the secure form below to reserve your childs seat for the upcoming academic year."}),p.createElement("div",{className:"max-w-4xl mx-auto p-6"},p.createElement(qf,{title:"Admission Application"}),p.createElement("form",{onSubmit:S,className:"mt-8 space-y-6"},r&&p.createElement("div",{className:"rounded-md bg-red-50 p-3 text-red-600"},r),u&&p.createElement("div",{className:"rounded-md bg-emerald-50 p-3 text-emerald-600"},u),p.createElement("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200"},p.createElement("h3",{className:"text-lg font-semibold text-slate-900 mb-4"},"Personal Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"First Name ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"firstName",value:e.firstName,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Middle Name"),p.createElement("input",{name:"middleName",value:e.middleName,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Last Name ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"lastName",value:e.lastName,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"}))),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3 mt-4"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Gender ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("select",{name:"gender",value:e.gender,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"Select Gender"),p.createElement("option",{value:"Male"},"Male"),p.createElement("option",{value:"Female"},"Female"),p.createElement("option",{value:"Other"},"Other"))),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Date of Birth ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"date",name:"dateOfBirth",value:e.dateOfBirth,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Age ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"number",name:"age",value:e.age,onChange:v,required:!0,min:"1",max:"100",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"}))),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3 mt-4"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Religion"),p.createElement("select",{name:"religion",value:e.religion,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"Select Religion"),p.createElement("option",{value:"Hinduism"},"Hinduism"),p.createElement("option",{value:"Islam"},"Islam"),p.createElement("option",{value:"Christianity"},"Christianity"),p.createElement("option",{value:"Sikhism"},"Sikhism"),p.createElement("option",{value:"Buddhism"},"Buddhism"),p.createElement("option",{value:"Jainism"},"Jainism"),p.createElement("option",{value:"Other"},"Other"))),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Caste"),p.createElement("input",{name:"caste",value:e.caste,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Category ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("select",{name:"category",value:e.category,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"Select Category"),p.createElement("option",{value:"General"},"General"),p.createElement("option",{value:"SC"},"SC"),p.createElement("option",{value:"ST"},"ST"),p.createElement("option",{value:"OBC"},"OBC"),p.createElement("option",{value:"EWS"},"EWS")))),p.createElement("div",{className:"grid gap-4 sm:grid-cols-2 mt-4"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Aadhaar Number"),p.createElement("input",{name:"aadhaarNumber",value:e.aadhaarNumber,onChange:v,maxLength:"12",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Class ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("select",{name:"className",value:e.className,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"Select Class"),p.createElement("option",{value:"Pre-Primary"},"Pre-Primary"),p.createElement("option",{value:"Nursery"},"Nursery"),p.createElement("option",{value:"LKG"},"LKG"),p.createElement("option",{value:"UKG"},"UKG"),p.createElement("option",{value:"1st"},"1st"),p.createElement("option",{value:"2nd"},"2nd"),p.createElement("option",{value:"3rd"},"3rd"),p.createElement("option",{value:"4th"},"4th"),p.createElement("option",{value:"5th"},"5th"),p.createElement("option",{value:"6th"},"6th"),p.createElement("option",{value:"7th"},"7th"),p.createElement("option",{value:"8th"},"8th"),p.createElement("option",{value:"9th"},"9th"),p.createElement("option",{value:"10th"},"10th"),p.createElement("option",{value:"11th"},"11th"),p.createElement("option",{value:"12th"},"12th"))))),p.createElement("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200"},p.createElement("h3",{className:"text-lg font-semibold text-slate-900 mb-4"},"Contact Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Mobile Number (Student) ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"tel",name:"mobileNumber",value:e.mobileNumber,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Alternate Mobile Number"),p.createElement("input",{type:"tel",name:"alternateMobileNumber",value:e.alternateMobileNumber,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Email Address ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"email",name:"email",value:e.email,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200"},p.createElement("h3",{className:"text-lg font-semibold text-slate-900 mb-4"},"Address Information"),p.createElement("div",{className:"mb-4"},p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Permanent Address ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("textarea",{name:"permanentAddress",rows:"3",value:e.permanentAddress,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"mb-2 flex items-center gap-3"},p.createElement("input",{id:"sameAsPermanent",type:"checkbox",checked:m,onChange:b,className:"h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),p.createElement("label",{htmlFor:"sameAsPermanent",className:"text-sm text-slate-700"},"Correspondence same as Permanent Address")),p.createElement("div",{className:"mb-4"},p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Correspondence Address"),p.createElement("textarea",{name:"correspondenceAddress",rows:"3",value:e.correspondenceAddress,onChange:v,className:`mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none ${m?"bg-slate-50 cursor-not-allowed opacity-80":""}`,disabled:m})),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"City ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"city",value:e.city,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"State ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"state",value:e.state,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Pin Code ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"pinCode",value:e.pinCode,onChange:v,required:!0,maxLength:"6",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200"},p.createElement("h3",{className:"text-lg font-semibold text-slate-900 mb-4"},"Father's Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Father's Name ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"fatherName",value:e.fatherName,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Father's Occupation"),p.createElement("input",{name:"fatherOccupation",value:e.fatherOccupation,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Father's Mobile Number ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"tel",name:"fatherMobileNumber",value:e.fatherMobileNumber,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200"},p.createElement("h3",{className:"text-lg font-semibold text-slate-900 mb-4"},"Mother's Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Mother's Name ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"motherName",value:e.motherName,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Mother's Occupation"),p.createElement("input",{name:"motherOccupation",value:e.motherOccupation,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Mother's Mobile Number ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"tel",name:"motherMobileNumber",value:e.motherMobileNumber,onChange:v,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200"},p.createElement("h3",{className:"text-lg font-semibold text-slate-900 mb-4"},"Additional Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Guardian Name (if different)"),p.createElement("input",{name:"guardianName",value:e.guardianName,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Annual Family Income"),p.createElement("input",{name:"annualFamilyIncome",value:e.annualFamilyIncome,onChange:v,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"flex justify-end"},p.createElement("button",{type:"submit",disabled:i,className:`rounded-md bg-indigo-600 px-6 py-2 text-sm font-semibold text-white hover:bg-indigo-700 ${i?"opacity-75 cursor-not-allowed":""}`},i?"Submitting...":"Submit Application"))))))},sW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState([]),[a,r]=K.useState([]),[l,u]=K.useState(!0),[h,m]=K.useState(!0),[g,v]=K.useState(!0),[b,S]=K.useState(""),M=_=>{if(!_)return!1;try{const L=new Date(_),O=new Date;return O.setHours(0,0,0,0),L>=O}catch{return!1}};K.useEffect(()=>{let _=!1;return(async()=>{try{const[O,F]=await Promise.all([Kt.get("/events"),Kt.get("/events/highlighted")]);if(!_)if(O.data.success&&F.data.success){const D=Array.isArray(O.data.data)?O.data.data:[],U=Array.isArray(F.data.data)?F.data.data:[];e(U),m(!1),i(D),v(!1);const B=new Set(U.map(I=>I._id)),H=D.filter(I=>!B.has(I._id)&&M(I.date));r(H),u(!1)}else throw new Error("Failed to load events")}catch(O){_||(console.error("Failed to load events:",O),S(O.response?.data?.message||O.message||"Failed to load events"),e([]),i([]),r([]),m(!1),v(!1),u(!1))}})(),()=>{_=!0}},[]);const A=_=>{if(!_)return"";try{const L=new Date(_);if(isNaN(L.getTime()))return _;const O=L.getDate(),F=L.toLocaleDateString("en-US",{month:"short"});return`${O} ${F}`}catch{return _}},T=({event:_})=>p.createElement(ug,{image:_.image,title:_.title,description:_.description,date:_.date?A(_.date):null,showGradient:!0});return p.createElement(p.Fragment,null,p.createElement("title",null,"Events | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Celebrate Every Moment",title:"Events",subtitle:"From academic fairs to cultural fests, heres whats happening on campus."}),p.createElement("section",{className:"container mx-auto px-6 py-16"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10"},"Events Highlights"),h&&p.createElement("div",{className:"text-center text-gray-600"},"Loading highlighted events..."),!h&&n.length===0&&p.createElement("div",{className:"text-center text-gray-500 py-8"},"No highlighted events at the moment."),!h&&n.length>0&&p.createElement("div",{className:"grid gap-8 md:grid-cols-3"},n.map(_=>p.createElement(T,{key:_._id,event:_})))),p.createElement("section",{className:"container mx-auto px-6 py-16 bg-gray-50"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10"},"All Events"),g&&p.createElement("div",{className:"text-center text-gray-600"},"Loading all events..."),b&&p.createElement("div",{className:"text-center text-red-600"},b),!g&&!b&&p.createElement("div",{className:"grid gap-8 md:grid-cols-3"},t.length>0?t.map(_=>p.createElement(T,{key:_._id,event:_})):p.createElement("div",{className:"text-center col-span-3 text-gray-500"},"No events found."))),p.createElement("section",{className:"container mx-auto px-6 pb-16"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10"},"Upcoming Events"),l&&p.createElement("div",{className:"text-center text-gray-600"},"Loading upcoming events..."),!l&&!b&&p.createElement("div",{className:"grid gap-8 md:grid-cols-3"},a.length>0?a.map(_=>p.createElement(T,{key:_._id,event:_})):p.createElement("div",{className:"text-center col-span-3 text-gray-500"},"No upcoming events found.")))))};var WO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XA=p.createContext&&p.createContext(WO),rW=["attr","size","title"];function oW(n,e){if(n==null)return{};var t=lW(n,e),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function lW(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function eb(){return eb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eb.apply(this,arguments)}function WA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function tb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(t),!0).forEach(function(i){cW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cW(n,e,t){return e=uW(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uW(n){var e=fW(n,"string");return typeof e=="symbol"?e:e+""}function fW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YO(n){return n&&n.map((e,t)=>p.createElement(e.tag,tb({key:t},e.attr),YO(e.child)))}function i2(n){return e=>p.createElement(dW,eb({attr:tb({},n.attr)},e),YO(n.child))}function dW(n){var e=t=>{var{attr:i,size:a,title:r}=n,l=oW(n,rW),u=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),p.createElement("svg",eb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:tb(tb({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),r&&p.createElement("title",null,r),n.children)};return XA!==void 0?p.createElement(XA.Consumer,null,t=>e(t)):e(WO)}function hW(n){return i2({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function mW(n){return i2({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function pW(n){return i2({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(n)}const gW=()=>{const[n,e]=K.useState({name:"",email:"",mobileNumber:"",message:""}),[t,i]=K.useState(!1),[a,r]=K.useState(""),[l,u]=K.useState(""),h=g=>{const{name:v,value:b}=g.target;e(S=>({...S,[v]:b}))},m=async g=>{if(g.preventDefault(),i(!0),r(""),u(""),!n.name||!n.email||!n.mobileNumber||!n.message){r("Please fill in all fields."),i(!1);return}try{const{data:v}=await Kt.post("/contacts",n);if(!v.success)throw new Error(v.message||"Failed to submit contact form");u("Thank you for contacting us! We will get back to you soon."),e({name:"",email:"",mobileNumber:"",message:""})}catch(v){r(v.response?.data?.message||v.message||"Failed to submit contact form")}finally{i(!1)}};return K.useEffect(()=>{if(!l)return;const g=setTimeout(()=>u(""),5e3);return()=>clearTimeout(g)},[l]),p.createElement(p.Fragment,null,p.createElement("title",null,"Contact Us | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Wed Love To Hear From You",title:"Contact Us",subtitle:"Reach out for admissions, partnerships, or any questionwe respond within 2 business days."}),p.createElement("section",{className:"container mx-auto px-6 py-12 grid gap-8 md:grid-cols-3 text-center"},p.createElement("div",null,p.createElement(pW,{className:"text-3xl text-blue-900 mx-auto mb-4"}),p.createElement("h3",{className:"font-semibold text-lg"},"Call us on"),p.createElement("p",{className:"text-gray-700 mt-2"},"+91 9081544225")),p.createElement("div",null,p.createElement(mW,{className:"text-3xl text-blue-900 mx-auto mb-4"}),p.createElement("h3",{className:"font-semibold text-lg"},"Come find us at"),p.createElement("p",{className:"text-gray-700 mt-2"},"Yagraj nagar-1, At post madhapar.")),p.createElement("div",null,p.createElement(hW,{className:"text-3xl text-blue-900 mx-auto mb-4"}),p.createElement("h3",{className:"font-semibold text-lg"},"Email us at"),p.createElement("p",{className:"text-gray-700 mt-2"},"holyredeemereng@gmail.com"))),p.createElement("section",{className:"container mx-auto px-6 pb-12"},p.createElement("iframe",{title:"School Location",className:"rounded-lg shadow-md",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3690.7884092859863!2d70.7571549742112!3d22.32384064204383!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3959c90b9fd552a5%3A0x4cabc598afc8e54c!2sHoly%20Redeemer%20School!5e0!3m2!1sen!2sus!4v1761980287984!5m2!1sen!2sus",width:"100%",height:"450",allowFullScreen:"",loading:"lazy"})),p.createElement("section",{className:"container mx-auto px-6 pb-16"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10"},"Get In Touch"),p.createElement("form",{onSubmit:m,className:"max-w-3xl mx-auto space-y-6"},a&&p.createElement("div",{className:"rounded-md bg-red-50 p-3 text-red-600 text-center"},a),l&&p.createElement("div",{className:"rounded-md bg-green-50 p-3 text-green-600 text-center"},l),p.createElement("div",{className:"grid gap-6 md:grid-cols-3"},p.createElement("input",{type:"text",name:"name",value:n.name,onChange:h,placeholder:"Your Name",required:!0,className:"border border-gray-300 rounded-md px-4 py-3 w-full focus:ring-2 focus:ring-blue-900 outline-none"}),p.createElement("input",{type:"email",name:"email",value:n.email,onChange:h,placeholder:"Email ID",required:!0,className:"border border-gray-300 rounded-md px-4 py-3 w-full focus:ring-2 focus:ring-blue-900 outline-none"}),p.createElement("input",{type:"tel",name:"mobileNumber",value:n.mobileNumber,onChange:h,placeholder:"Mobile Number",required:!0,className:"border border-gray-300 rounded-md px-4 py-3 w-full focus:ring-2 focus:ring-blue-900 outline-none"})),p.createElement("textarea",{rows:"5",name:"message",value:n.message,onChange:h,placeholder:"Message",required:!0,className:"border border-gray-300 rounded-md px-4 py-3 w-full focus:ring-2 focus:ring-blue-900 outline-none"}),p.createElement("div",{className:"text-center"},p.createElement("button",{type:"submit",disabled:t,className:"px-8 py-3 bg-blue-900 text-white font-semibold rounded-md hover:bg-blue-800 transition disabled:opacity-50 disabled:cursor-not-allowed"},t?"Submitting...":"Submit"))))))},xW="/assets/cricket-CUOd169-.png",vW="/assets/football-CRn8PEIq.png",yW="/assets/karate-Bf0nvH6O.png",bW="/assets/yoga-CIv3bxxn.png",_W="/assets/athletics-ZM2oCq5R.png",SW=[{image:xW,title:"Cricket",icon:""},{image:vW,title:"Football",icon:""},{image:yW,title:"Karate",icon:""},{image:bW,title:"Yoga",icon:""},{image:_W,title:"Athletics",icon:""}],EW=()=>p.createElement(p.Fragment,null,p.createElement("title",null,"Games & Sports | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Active Bodies, Sharp Minds",title:"Games & Sports",subtitle:"Competitive teams and daily fitness programs build confidence, discipline, and school spirit."}),p.createElement("section",{className:"container mx-auto px-6 py-16 text-center"},p.createElement("p",{className:"text-xl md:text-2xl font-semibold italic mb-6"},"We nurture physical fitness and team spirit!"),p.createElement("h2",{className:"text-2xl md:text-3xl font-bold mb-10 relative inline-block"},"List of Sports Offered",p.createElement("span",{className:"block w-16 h-1 bg-indigo-900 mx-auto mt-2 rounded"})),p.createElement("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},SW.map((n,e)=>p.createElement("div",{key:e,className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition duration-300"},p.createElement("img",{src:n.image,alt:n.title,className:"w-full h-56 object-cover rounded-t-2xl border-2 border-indigo-900"}),p.createElement("div",{className:"p-4 text-center"},p.createElement("h3",{className:"text-lg font-bold"},n.icon," ",n.title)))))))),MW=[{title:"Supportive Environment",desc:"A friendly, team-oriented school culture that values every staff member.",icon:""},{title:"Growth Opportunities",desc:"Regular workshops and training to help you grow professionally.",icon:""},{title:"Modern Facilities",desc:"Smart classrooms, digital tools, and updated teaching resources.",icon:""},{title:"Innovation Friendly",desc:"We encourage creative teaching methods and fresh ideas.",icon:""}],wW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(""),[l,u]=K.useState(!1),[h,m]=K.useState(null),[g,v]=K.useState({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",address:"",city:"",state:"",pinCode:"",currentPosition:"",currentCompany:"",yearsOfExperience:"",education:"",skills:"",coverLetter:"",expectedSalary:"",availability:""}),[b,S]=K.useState(!1),[M,A]=K.useState(""),[T,_]=K.useState("");K.useEffect(()=>{let U=!1;return(async()=>{i(!0),r("");try{const{data:H}=await Kt.get("/jobs");if(!H.success)throw new Error(H.message||"Failed to load jobs");U||e(Array.isArray(H.data)?H.data:[])}catch(H){U||r(H.response?.data?.message||H.message||"Failed to load jobs")}finally{U||i(!1)}})(),()=>{U=!0}},[]);const L=U=>{if(!U)return"";try{const B=new Date(U);return Number.isNaN(B.getTime())?U:B.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch{return U}},O=U=>{m(U),u(!0),v({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",address:"",city:"",state:"",pinCode:"",currentPosition:"",currentCompany:"",yearsOfExperience:"",education:"",skills:"",coverLetter:"",expectedSalary:"",availability:""}),A(""),_("")},F=U=>{const{name:B,value:H}=U.target;v(I=>({...I,[B]:H}))},D=async U=>{U.preventDefault(),S(!0),A(""),_("");try{const B={...g,jobId:h._id,yearsOfExperience:g.yearsOfExperience?parseInt(g.yearsOfExperience):void 0},{data:H}=await Kt.post("/job-applications",B);if(!H.success)throw new Error(H.message||"Failed to submit application");_("Application submitted successfully!"),setTimeout(()=>{u(!1),_("")},2e3)}catch(B){A(B.response?.data?.message||B.message||"Failed to submit application")}finally{S(!1)}};return p.createElement(p.Fragment,null,p.createElement("title",null,"Career | Holy Redeemer School"),p.createElement("div",{className:"bg-white"},p.createElement(lc,{eyebrow:"Join Our Team",title:"Careers",subtitle:"Inspire the next generation in an inclusive, growth-oriented campus."}),p.createElement("section",{className:"container mx-auto px-6 py-16 text-center"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold mb-10 relative inline-block"},"Why Work With Us?",p.createElement("span",{className:"block w-16 h-1 bg-indigo-900 mx-auto mt-2 rounded"})),p.createElement("div",{className:"space-y-8 max-w-3xl mx-auto text-left"},MW.map((U,B)=>p.createElement("div",{key:B,className:"flex items-start space-x-4"},p.createElement("span",{className:"text-2xl"},U.icon),p.createElement("div",null,p.createElement("h3",{className:"text-lg font-bold"},U.title),p.createElement("p",{className:"text-gray-600"},U.desc)))))),p.createElement("section",{className:"bg-gray-50 py-16 px-6"},p.createElement("div",{className:"container mx-auto"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10 relative"},"Current Job Openings",p.createElement("span",{className:"block w-20 h-1 bg-indigo-900 mx-auto mt-2 rounded"})),t?p.createElement("div",{className:"text-center text-slate-500"},"Loading current openings..."):a?p.createElement("div",{className:"text-center text-red-500"},a):n.length===0?p.createElement("div",{className:"text-center text-slate-500"},"We're not hiring right now. Please check back soon!"):p.createElement("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3"},n.map(U=>p.createElement("div",{key:U._id,className:"relative"},p.createElement(ug,{image:"https://images.unsplash.com/photo-1521791136064-7986c2920216?w=800&h=600&fit=crop",title:U.title,description:`${U.employmentType}  ${U.location}

${U.description}`,date:`Deadline: ${L(U.deadline)}`,showGradient:!0,onClick:()=>O(U),className:"h-full"}),p.createElement("button",{onClick:()=>O(U),className:"mt-4 w-full bg-indigo-900 text-white px-4 py-2.5 rounded-lg hover:bg-indigo-700 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 font-semibold"},"Apply Now")))))),l&&h&&p.createElement("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>u(!1)},p.createElement("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation()},p.createElement("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10"},p.createElement("div",null,p.createElement("h3",{className:"text-xl font-semibold text-slate-900"},"Apply for ",h.title),p.createElement("p",{className:"text-sm text-slate-600 mt-1"},h.employmentType,"  ",h.location)),p.createElement("button",{onClick:()=>u(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100","aria-label":"Close"},p.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),p.createElement("form",{onSubmit:D,className:"p-6 space-y-6"},M&&p.createElement("div",{className:"rounded-md bg-red-50 p-3 text-red-600 text-sm"},M),T&&p.createElement("div",{className:"rounded-md bg-emerald-50 p-3 text-emerald-600 text-sm"},T),p.createElement("div",{className:"bg-slate-50 p-4 rounded-lg"},p.createElement("h4",{className:"text-lg font-semibold text-slate-900 mb-4"},"Personal Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"First Name ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"firstName",value:g.firstName,onChange:F,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Last Name ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{name:"lastName",value:g.lastName,onChange:F,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Email ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"email",name:"email",value:g.email,onChange:F,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Phone ",p.createElement("span",{className:"text-red-500"},"*")),p.createElement("input",{type:"tel",name:"phone",value:g.phone,onChange:F,required:!0,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Date of Birth"),p.createElement("input",{type:"date",name:"dateOfBirth",value:g.dateOfBirth,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"City"),p.createElement("input",{name:"city",value:g.city,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"State"),p.createElement("input",{name:"state",value:g.state,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Pin Code"),p.createElement("input",{name:"pinCode",value:g.pinCode,onChange:F,maxLength:"6",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Address"),p.createElement("textarea",{name:"address",rows:"2",value:g.address,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"bg-slate-50 p-4 rounded-lg"},p.createElement("h4",{className:"text-lg font-semibold text-slate-900 mb-4"},"Professional Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Current Position"),p.createElement("input",{name:"currentPosition",value:g.currentPosition,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Current Company"),p.createElement("input",{name:"currentCompany",value:g.currentCompany,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Years of Experience"),p.createElement("input",{type:"number",name:"yearsOfExperience",value:g.yearsOfExperience,onChange:F,min:"0",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Education"),p.createElement("input",{name:"education",value:g.education,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Skills"),p.createElement("textarea",{name:"skills",rows:"2",value:g.skills,onChange:F,placeholder:"List your key skills",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Expected Salary"),p.createElement("input",{name:"expectedSalary",value:g.expectedSalary,onChange:F,className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Availability"),p.createElement("input",{name:"availability",value:g.availability,onChange:F,placeholder:"e.g., Immediate, 2 weeks notice",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-sm font-medium text-slate-700"},"Cover Letter"),p.createElement("textarea",{name:"coverLetter",rows:"4",value:g.coverLetter,onChange:F,placeholder:"Tell us why you're interested in this position",className:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200"},p.createElement("button",{type:"button",onClick:()=>u(!1),className:"rounded-md border border-slate-300 px-6 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50"},"Cancel"),p.createElement("button",{type:"submit",disabled:b,className:`rounded-md bg-indigo-900 px-6 py-2 text-sm font-semibold text-white hover:bg-indigo-700 ${b?"opacity-75 cursor-not-allowed":""}`},b?"Submitting...":"Submit Application")))))))},TW=()=>p.createElement("footer",{className:"bg-blue-900 text-white"},p.createElement("div",{className:"container mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10"},p.createElement("div",{className:"flex flex-col items-center md:items-start"},p.createElement("img",{src:ON,alt:"School Logo",className:"w-28 mb-4"})),p.createElement("div",null,p.createElement("h3",{className:"font-semibold text-lg mb-3 border-b border-gray-400 inline-block"},"Our Campus"),p.createElement("ul",{className:"space-y-2"},p.createElement("li",null,p.createElement(Ki,{to:"games-sports",className:"hover:underline"},"Games and Sports")),p.createElement("li",null,p.createElement(Ki,{to:"/career",className:"hover:underline"},"Career")))),p.createElement("div",null,p.createElement("h3",{className:"font-semibold text-lg mb-3 border-b border-gray-400 inline-block"},"Useful Links"),p.createElement("ul",{className:"space-y-2"},p.createElement("li",null,p.createElement(Ki,{to:"/",className:"hover:underline"},"Home")),p.createElement("li",null,p.createElement(Ki,{to:"/about",className:"hover:underline"},"About Us")),p.createElement("li",null,p.createElement(Ki,{to:"/academics",className:"hover:underline"},"Academics")),p.createElement("li",null,p.createElement(Ki,{to:"/admissions",className:"hover:underline"},"Admissions")),p.createElement("li",null,p.createElement(Ki,{to:"/events",className:"hover:underline"},"Events")),p.createElement("li",null,p.createElement(Ki,{to:"/contact",className:"hover:underline"},"Contact Us")))),p.createElement("div",null,p.createElement("h3",{className:"font-semibold text-lg mb-3 border-b border-gray-400 inline-block"},"Contact Us"),p.createElement("ul",{className:"space-y-3"},p.createElement("li",{className:"flex items-start gap-2"},p.createElement($z,{size:18}),p.createElement("span",null,"Yagraj nagar-1, At post madhapar.")),p.createElement("li",{className:"flex items-center gap-2"},p.createElement(W1,{size:18}),p.createElement("span",null,"+91 9081544225")),p.createElement("li",{className:"flex items-center gap-2"},p.createElement(X1,{size:18}),p.createElement("span",null,"holyredeemereng@gmail.com")),p.createElement("li",{className:"flex items-center gap-2"},p.createElement(Gz,{size:18}),p.createElement("span",null,"Mon - Fri, 08:00AM - 06:00PM"))))),p.createElement("div",{className:"border-t border-gray-400 mt-6 py-4 px-6 flex flex-col md:flex-row justify-between items-center text-sm"},p.createElement("p",null," 2025 Holy Redeemer School, all rights reserved"),p.createElement("div",{className:"flex gap-4 mt-3 md:mt-0"},p.createElement("a",{href:"#",className:"hover:text-gray-300"},p.createElement(G1,{size:20})),p.createElement("a",{href:"#",className:"hover:text-gray-300"},p.createElement(q1,{size:20})),p.createElement("a",{href:"#",className:"hover:text-gray-300"},p.createElement(j1,{size:20}))))),YA={title:"",date:"",description:"",image:"",isHighlighted:!1},AW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(!1),[l,u]=K.useState(""),[h,m]=K.useState(""),[g,v]=K.useState(!1),[b,S]=K.useState(YA),[M,A]=K.useState(null),[T,_]=K.useState("all"),L=()=>{S(YA),A(null)},O=K.useCallback(async()=>{i(!0),u("");try{const{data:Y}=await Kt.get("/events");if(!Y.success)throw new Error(Y.message||"Failed to fetch events");e(Array.isArray(Y.data)?Y.data:[])}catch(Y){u(Y.response?.data?.message||Y.message||"Failed to fetch events")}finally{i(!1)}},[]);K.useEffect(()=>{O()},[O]),K.useEffect(()=>{if(!h)return;const Y=setTimeout(()=>m(""),3e3);return()=>clearTimeout(Y)},[h]);const F=Y=>{const{name:ne,value:k}=Y.target;S(z=>({...z,[ne]:k}))},D=Y=>{const ne=Y.target.files?.[0];if(!ne)return;const k=new FileReader;k.onloadend=()=>{S(z=>({...z,image:typeof k.result=="string"?k.result:""}))},k.readAsDataURL(ne)},U=async Y=>{if(Y.preventDefault(),r(!0),u(""),m(""),!b.title||!b.date||!b.description){u("Please fill in all required fields."),r(!1);return}try{const{data:ne}=await Kt[M?"put":"post"](M?`/events/${M}`:"/events",b);if(!ne.success)throw new Error(ne.message||"Failed to save event");m(M?"Event updated successfully.":"Event created successfully."),L(),v(!1),await O()}catch(ne){u(ne.response?.data?.message||ne.message||"Failed to save event")}finally{r(!1)}},B=Y=>{v(!0),A(Y._id),S({title:Y.title||"",date:Y.date||"",description:Y.description||"",image:Y.image||"",isHighlighted:Y.isHighlighted||!1})},H=async Y=>{if(window.confirm("Delete this event?"))try{const{data:ne}=await Kt.delete(`/events/${Y}`);if(!ne.success)throw new Error(ne.message||"Failed to delete event");M===Y&&(L(),v(!1)),await O()}catch(ne){u(ne.response?.data?.message||ne.message||"Failed to delete event")}},I=async(Y,ne)=>{try{const{data:k}=await Kt.patch(`/events/${Y}/highlight`);if(!k.success)throw new Error(k.message||"Failed to toggle highlight");m(k.message||`Event ${k.data.isHighlighted?"highlighted":"unhighlighted"} successfully.`),await O()}catch(k){u(k.response?.data?.message||k.message||"Failed to toggle highlight")}},P=Y=>{if(!Y)return!1;try{const ne=new Date(Y),k=new Date;return k.setHours(0,0,0,0),ne>=k}catch{return!1}},Z=(()=>{switch(T){case"upcoming":return n.filter(Y=>P(Y.date));case"highlighted":return n.filter(Y=>Y.isHighlighted);default:return n}})(),W=Y=>{if(!Y)return"";try{const ne=new Date(Y);return Number.isNaN(ne.getTime())?Y:ne.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return Y}};return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},p.createElement("div",null,p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Events"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"Create, edit, and manage school events.")),p.createElement("button",{onClick:()=>{g&&M&&L(),v(Y=>!Y)},className:"rounded-full bg-indigo-600 px-5 py-2 text-xs font-semibold uppercase tracking-wide text-white hover:bg-indigo-700"},g?"Close Form":"Add Event")),l&&p.createElement("div",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600"},l),h&&p.createElement("div",{className:"rounded-md bg-emerald-50 p-3 text-sm text-emerald-600"},h),g&&p.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},M?"Update Event":"Create New Event"),p.createElement("form",{onSubmit:U,className:"mt-4 grid gap-4 sm:grid-cols-2"},p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Event Title"),p.createElement("input",{name:"title",value:b.title,onChange:F,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"e.g. Annual Sports Day"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Event Date"),p.createElement("input",{type:"date",name:"date",value:b.date,onChange:F,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Event Image"),p.createElement("div",{className:"mt-2 space-y-2"},p.createElement("input",{type:"file",accept:"image/*",onChange:D,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),b.image&&p.createElement("div",{className:"space-y-2"},p.createElement("img",{src:b.image,alt:"Event preview",className:"max-h-40 w-full rounded-lg object-cover"}),p.createElement("button",{type:"button",onClick:()=>S(Y=>({...Y,image:""})),className:"text-xs font-semibold text-rose-600 hover:text-rose-700"},"Remove image")))),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Description"),p.createElement("textarea",{name:"description",value:b.description,onChange:F,required:!0,rows:4,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"Share what makes this event special."})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},p.createElement("input",{type:"checkbox",name:"isHighlighted",checked:b.isHighlighted,onChange:Y=>S(ne=>({...ne,isHighlighted:Y.target.checked})),className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),p.createElement("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Highlight this event (show in event highlights section)"))),p.createElement("div",{className:"sm:col-span-2 flex justify-end gap-2"},p.createElement("button",{type:"button",onClick:()=>{L(),v(!1)},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{type:"submit",disabled:a,className:"rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60"},a?"Saving...":M?"Update Event":"Create Event")))),p.createElement("section",{className:"space-y-4"},p.createElement("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 pb-4"},p.createElement("button",{onClick:()=>_("all"),className:`px-4 py-2 rounded-full text-xs font-semibold uppercase tracking-wider transition-colors ${T==="all"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`},"All Events"),p.createElement("button",{onClick:()=>_("upcoming"),className:`px-4 py-2 rounded-full text-xs font-semibold uppercase tracking-wider transition-colors ${T==="upcoming"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`},"Upcoming Events"),p.createElement("button",{onClick:()=>_("highlighted"),className:`px-4 py-2 rounded-full text-xs font-semibold uppercase tracking-wider transition-colors ${T==="highlighted"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`},"Highlighted Events")),p.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},T==="all"?"All Events":T==="upcoming"?"Upcoming Events":"Highlighted Events"),p.createElement("span",{className:"text-xs font-medium uppercase tracking-wider text-slate-500"},"Showing ",Z.length," of ",n.length," event",n.length===1?"":"s")),t?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"Loading events..."):Z.length===0?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},T==="all"?"No events yet. Create one to get started.":T==="upcoming"?"No upcoming events found.":"No highlighted events found."):p.createElement("div",{className:"space-y-3"},Z.map(Y=>p.createElement("article",{key:Y._id,className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm hover:border-indigo-200 transition-colors"},p.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},p.createElement("div",{className:"flex-1 min-w-0"},p.createElement("div",{className:"flex items-center gap-2 mb-1"},p.createElement("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400"},Y._id),Y.isHighlighted&&p.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 text-xs font-semibold"}," Highlighted")),p.createElement("h4",{className:"mt-1 text-base sm:text-lg font-semibold text-slate-900"},Y.title),p.createElement("p",{className:"mt-1 text-xs font-medium text-indigo-600"},"Scheduled for ",W(Y.date)),p.createElement("p",{className:"mt-3 text-sm text-slate-600 whitespace-pre-line"},Y.description),Y.image&&p.createElement("img",{src:Y.image,alt:Y.title,className:"mt-3 max-h-48 w-full rounded-lg object-cover"})),p.createElement("div",{className:"flex flex-col gap-2 w-full sm:w-40"},p.createElement("button",{type:"button",onClick:()=>B(Y),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{type:"button",onClick:()=>I(Y._id,Y.isHighlighted),className:`rounded-full border px-3 py-1.5 text-xs font-semibold ${Y.isHighlighted?"border-yellow-300 bg-yellow-50 text-yellow-700 hover:border-yellow-400":"border-slate-200 text-slate-600 hover:border-yellow-200 hover:text-yellow-600"}`},Y.isHighlighted?" Highlighted":" Highlight"),p.createElement("button",{type:"button",onClick:()=>H(Y._id),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))))},CW=()=>{const n=cm(),e=Br(),[t,i]=K.useState(""),[a,r]=K.useState(""),[l,u]=K.useState(""),[h,m]=K.useState(!1),v=new URLSearchParams(e.search).get("redirect")||"/admin/dashboard";K.useEffect(()=>{yR()&&n("/admin/dashboard",{replace:!0})},[n]);const b=async S=>{S.preventDefault(),u(""),m(!0);try{const{data:M}=await Kt.post("/admin/login",{email:t,password:a});if(!M.success)throw new Error(M.message||"Login failed");M?.data?.token&&x8(M.data.token),g8(!0),n(v,{replace:!0})}catch(M){u(M.response?.data?.message||M.message||"Login failed")}finally{m(!1)}};return p.createElement("div",{className:"min-h-screen bg-slate-50 py-12 px-4"},p.createElement("div",{className:"max-w-md mx-auto"},p.createElement(qf,{title:"Admin Login"}),p.createElement("form",{onSubmit:b,className:"space-y-6 mt-8 bg-white p-6 rounded-lg shadow-md"},l&&p.createElement("div",{className:"bg-red-50 text-red-600 p-3 rounded-md"},l),p.createElement("div",null,p.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700"},"Email"),p.createElement("input",{id:"email",type:"email",value:t,onChange:S=>i(S.target.value),autoComplete:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})),p.createElement("div",null,p.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700"},"Password"),p.createElement("input",{id:"password",type:"password",value:a,onChange:S=>r(S.target.value),autoComplete:"current-password",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})),p.createElement("button",{type:"submit",disabled:h,className:`w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${h?"opacity-75 cursor-not-allowed":""}`},h?"Signing in...":"Sign in"))))},NW=[{label:"Home",to:"/admin/dashboard/home",tag:"HM"},{label:"Academics",to:"/admin/dashboard/academics",tag:"AC"},{label:"Activities",to:"/admin/dashboard/activities",tag:"AT"},{label:"Career",to:"/admin/dashboard/career",tag:"CR"},{label:"Employees",to:"/admin/dashboard/employees",tag:"EM"},{label:"Upcoming Events",to:"/admin/dashboard/events",tag:"EV"},{label:"Parents",to:"/admin/dashboard/parents",tag:"PT"},{label:"Contact Us",to:"/admin/dashboard/contact",tag:"CU"},{label:"Settings",to:"/admin/dashboard/settings",tag:"ST"}],RW=()=>{const n=cm(),[e,t]=K.useState(!1),i=async()=>{try{await Kt.post("/admin/logout")}catch{}bR(),n("/admin",{replace:!0})};return p.createElement("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden"},p.createElement("div",{className:"lg:hidden bg-white border-b border-slate-200 shadow-sm sticky top-[60px] z-40"},p.createElement("div",{className:"flex items-center justify-between px-4 py-3"},p.createElement("button",{onClick:()=>t(!e),className:"p-2 rounded-lg text-slate-700 hover:bg-slate-100","aria-label":"Toggle menu"},p.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e?p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))),p.createElement("h1",{className:"text-lg font-semibold text-slate-900"},"Admin Dashboard"),p.createElement("button",{onClick:i,className:"px-3 py-1.5 text-sm rounded-lg bg-red-600 text-white hover:bg-red-700"},"Logout"))),p.createElement("div",{className:"flex max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-10 gap-4 lg:gap-8 min-w-0"},e&&p.createElement("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>t(!1)}),p.createElement("aside",{className:`
            fixed lg:sticky top-0 lg:top-8 left-0 z-50 lg:z-auto
            w-72 shrink-0 h-full lg:h-auto
            rounded-0 lg:rounded-3xl
            bg-gradient-to-b from-[#1a1568] via-[#120E5B] to-[#0d0a47]
            text-white shadow-xl
            transform transition-transform duration-300 ease-in-out
            lg:transform-none
            ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            flex flex-col
            max-h-screen lg:max-h-[calc(100vh-4rem)]
            overflow-y-auto hide-scrollbar
          `},p.createElement("nav",{className:"px-5 pt-6 pb-6 space-y-2 flex-1"},NW.map(a=>p.createElement(WN,{key:a.to,to:a.to,end:!0,onClick:()=>t(!1),className:({isActive:r})=>["flex items-center gap-3 rounded-2xl px-5 py-3 text-sm font-semibold transition-all",r?"bg-white text-[#120E5B] shadow-lg":"text-white/90 hover:bg-white/10"].join(" ")},p.createElement("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-white/15 text-xs font-semibold tracking-wide text-white"},a.tag),a.label))),p.createElement("div",{className:"mt-auto px-6 pb-8 pt-4 text-sm text-white/80"},p.createElement("p",{className:"text-xs uppercase tracking-wide text-white/70"},"Quick Tips"),p.createElement("p",{className:"mt-2 leading-relaxed text-white/80"},"Keep events, academic updates, and job postings fresh to engage your school community every day."),p.createElement("button",{onClick:i,className:"mt-4 w-full rounded-2xl border border-white/25 px-4 py-2 text-xs font-semibold uppercase tracking-wide hover:bg-white/15 transition-colors"},"Log Out"))),p.createElement("section",{className:"flex-1 w-full lg:w-auto min-w-0"},p.createElement("div",{className:"h-full rounded-2xl lg:rounded-3xl border border-slate-200 bg-white shadow-lg p-4 sm:p-6 lg:p-10 min-w-0 overflow-hidden"},p.createElement(kN,null)))))},DW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(""),[l,u]=K.useState(null),[h,m]=K.useState(null),[g,v]=K.useState({firstName:"",lastName:"",email:"",className:"",motherMobileNumber:"",fatherMobileNumber:"",permanentAddress:""});K.useMemo(()=>[{key:"name",label:"Student"},{key:"email",label:"Email"},{key:"className",label:"Class"},{key:"motherMobile",label:"Mother Mobile"},{key:"fatherMobile",label:"Father Mobile"},{key:"address",label:"Address"},{key:"actions",label:"Actions"}],[]);const b=async()=>{i(!0),r("");try{const{data:T}=await Kt.get("/admissions");if(!T.success)throw new Error(T.message||"Failed to fetch");e(T.data||[])}catch(T){r(T.response?.data?.message||T.message||"Failed to fetch")}finally{i(!1)}};K.useEffect(()=>{b()},[]);const S=()=>{u(null),v({firstName:"",lastName:"",email:"",className:"",motherMobileNumber:"",fatherMobileNumber:"",permanentAddress:""})},M=async()=>{try{const{data:T}=await Kt.put(`/admissions/${l}`,g);if(!T.success)throw new Error(T.message||"Failed to update");S(),b()}catch(T){alert(T.response?.data?.message||T.message||"Failed to update")}},A=async T=>{if(confirm("Delete this application?"))try{const{data:_}=await Kt.delete(`/admissions/${T}`);if(!_.success)throw new Error(_.message||"Failed to delete");b()}catch(_){alert(_.response?.data?.message||_.message||"Failed to delete")}};return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"space-y-1 sm:space-y-2"},p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Admissions"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"All student applications")),a&&p.createElement("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-600"},a),p.createElement("div",{className:"hidden md:block w-full overflow-x-auto rounded-2xl border border-slate-200"},p.createElement("div",{className:"inline-block min-w-full align-middle"},p.createElement("table",{className:"min-w-full divide-y divide-slate-200 text-left text-sm text-slate-700"},p.createElement("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500"},p.createElement("tr",null,p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Student"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Email"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Class"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Mother Mobile"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Father Mobile"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Address"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Actions"))),p.createElement("tbody",{className:"divide-y divide-slate-100 bg-white"},t?p.createElement("tr",null,p.createElement("td",{className:"px-6 py-6 text-center",colSpan:6},"Loading...")):n.length===0?p.createElement("tr",null,p.createElement("td",{className:"px-6 py-6 text-center",colSpan:6},"No applications yet")):n.map(T=>p.createElement("tr",{key:T._id,className:"hover:bg-slate-50 cursor-pointer",onClick:()=>m(T)},p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 font-medium text-slate-900"},T.firstName," ",T.lastName),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 text-xs lg:text-sm"},T.email),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},T.className||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},T.motherMobileNumber||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},T.fatherMobileNumber||"N/A"),p.createElement("td",{className:"px-3 lg:px-4 xl:px-6 py-4 max-w-[200px] lg:max-w-xs"},p.createElement("div",{className:"truncate",title:T.permanentAddress||""},T.permanentAddress||"N/A")),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4",onClick:_=>_.stopPropagation()},p.createElement("div",{className:"flex gap-1.5 lg:gap-2"},p.createElement("button",{onClick:()=>{m(T),u(T._id),v(T)},className:"rounded-full border border-slate-200 px-2 lg:px-3 py-1 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{onClick:()=>A(T._id),className:"rounded-full border border-slate-200 px-2 lg:px-3 py-1 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))))),p.createElement("div",{className:"md:hidden space-y-4"},t?p.createElement("div",{className:"text-center py-8 text-slate-500"},"Loading..."):n.length===0?p.createElement("div",{className:"text-center py-8 text-slate-500"},"No applications yet"):n.map(T=>p.createElement("div",{key:T._id,className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm cursor-pointer hover:border-indigo-200 transition-colors",onClick:()=>m(T)},p.createElement("div",{className:"space-y-3"},p.createElement("div",null,p.createElement("h3",{className:"font-semibold text-slate-900 text-base"},T.firstName," ",T.lastName),p.createElement("p",{className:"text-sm text-slate-600 mt-1"},T.email)),p.createElement("div",{className:"grid grid-cols-2 gap-3 text-sm"},p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Mother Mobile"),p.createElement("p",{className:"mt-1 text-slate-900"},T.motherMobileNumber||"N/A")),p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Father Mobile"),p.createElement("p",{className:"mt-1 text-slate-900"},T.fatherMobileNumber||"N/A"))),p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Class"),p.createElement("p",{className:"mt-1 text-sm text-slate-900"},T.className||"N/A")),p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Address"),p.createElement("p",{className:"mt-1 text-sm text-slate-900 line-clamp-2"},T.permanentAddress||"N/A")),p.createElement("div",{className:"flex gap-2 pt-2 border-t border-slate-100",onClick:_=>_.stopPropagation()},p.createElement("button",{onClick:()=>{m(T),u(T._id),v(T)},className:"flex-1 rounded-full border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{onClick:()=>A(T._id),className:"flex-1 rounded-full border border-slate-200 px-3 py-2 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete")))))),h&&p.createElement("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>m(null)},p.createElement("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation()},p.createElement("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10"},p.createElement("h3",{className:"text-xl font-semibold text-slate-900"},"Student Details"),p.createElement("button",{onClick:()=>m(null),className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100","aria-label":"Close"},p.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),p.createElement("div",{className:"p-6 space-y-6"},p.createElement("div",{className:"grid gap-6 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"First Name"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},h.firstName)),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Last Name"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},h.lastName)),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Class"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},h.className||"N/A")),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Email"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 break-all"},h.email)),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mother Mobile"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},h.motherMobileNumber||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Father Mobile"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},h.fatherMobileNumber||"N/A")),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Address"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 whitespace-pre-wrap"},h.permanentAddress||"N/A")),h.createdAt&&p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Applied On"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},new Date(h.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))),h._id&&p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Application ID"),p.createElement("p",{className:"mt-2 text-xs font-mono text-slate-600 break-all"},h._id))),p.createElement("div",{className:"flex flex-col sm:flex-row gap-2 pt-4 border-t border-slate-200"},p.createElement("button",{onClick:()=>{u(h._id),v(h),m(null)},className:"flex-1 rounded-full border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-100"},"Edit Details"),p.createElement("button",{onClick:()=>{m(null),A(h._id)},className:"flex-1 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-100"},"Delete Application"),p.createElement("button",{onClick:()=>m(null),className:"flex-1 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50"},"Close"))))),l&&p.createElement("div",{className:"rounded-2xl border border-slate-200 p-4 sm:p-6 bg-white shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},"Edit Application"),p.createElement("div",{className:"mt-4 grid gap-4 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"First Name"),p.createElement("input",{value:g.firstName,onChange:T=>v({...g,firstName:T.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Last Name"),p.createElement("input",{value:g.lastName,onChange:T=>v({...g,lastName:T.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Email"),p.createElement("input",{type:"email",value:g.email,onChange:T=>v({...g,email:T.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Class"),p.createElement("select",{value:g.className||"",onChange:T=>v({...g,className:T.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"Select Class"),p.createElement("option",{value:"Pre-Primary"},"Pre-Primary"),p.createElement("option",{value:"Nursery"},"Nursery"),p.createElement("option",{value:"LKG"},"LKG"),p.createElement("option",{value:"UKG"},"UKG"),p.createElement("option",{value:"1st"},"1st"),p.createElement("option",{value:"2nd"},"2nd"),p.createElement("option",{value:"3rd"},"3rd"),p.createElement("option",{value:"4th"},"4th"),p.createElement("option",{value:"5th"},"5th"),p.createElement("option",{value:"6th"},"6th"),p.createElement("option",{value:"7th"},"7th"),p.createElement("option",{value:"8th"},"8th"),p.createElement("option",{value:"9th"},"9th"),p.createElement("option",{value:"10th"},"10th"),p.createElement("option",{value:"11th"},"11th"),p.createElement("option",{value:"12th"},"12th"))),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mother Mobile"),p.createElement("input",{value:g.motherMobileNumber||"",onChange:T=>v({...g,motherMobileNumber:T.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Father Mobile"),p.createElement("input",{value:g.fatherMobileNumber||"",onChange:T=>v({...g,fatherMobileNumber:T.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Address"),p.createElement("textarea",{rows:"3",value:g.permanentAddress||"",onChange:T=>v({...g,permanentAddress:T.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}))),p.createElement("div",{className:"mt-4 flex flex-col sm:flex-row justify-end gap-2"},p.createElement("button",{onClick:S,className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{onClick:M,className:"w-full sm:w-auto rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700"},"Save Changes"))))},ZA={title:"",employmentType:"Full-Time",location:"",description:"",deadline:"",isActive:!0},OW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(""),[l,u]=K.useState(!1),[h,m]=K.useState(!1),[g,v]=K.useState(ZA),[b,S]=K.useState(null),M=K.useCallback(async()=>{i(!0),r("");try{const{data:B}=await Kt.get("/jobs/admin");if(!B.success)throw new Error(B.message||"Failed to load jobs");e(Array.isArray(B.data)?B.data:[])}catch(B){r(B.response?.data?.message||B.message||"Failed to load jobs")}finally{i(!1)}},[]);K.useEffect(()=>{M()},[M]);const A=()=>{v(ZA),S(null)},T=B=>{if(!B)return"";try{const H=new Date(B);return Number.isNaN(H.getTime())?typeof B=="string"?B.slice(0,10):"":H.toISOString().slice(0,10)}catch{return""}},_=async B=>{B.preventDefault(),m(!0),r("");const H={...g,deadline:g.deadline};try{const{data:I}=await Kt[b?"put":"post"](b?`/jobs/${b}`:"/jobs",H);if(!I.success)throw new Error(I.message||"Failed to save job");await M(),A(),u(!1)}catch(I){r(I.response?.data?.message||I.message||"Failed to save job")}finally{m(!1)}},L=B=>{u(!0),S(B._id),v({title:B.title||"",employmentType:B.employmentType||"Full-Time",location:B.location||"",description:B.description||"",deadline:T(B.deadline),isActive:typeof B.isActive=="boolean"?B.isActive:!0})},O=async B=>{if(window.confirm("Delete this job posting?"))try{const{data:H}=await Kt.delete(`/jobs/${B}`);if(!H.success)throw new Error(H.message||"Failed to delete job");b===B&&(A(),u(!1)),await M()}catch(H){r(H.response?.data?.message||H.message||"Failed to delete job")}},F=async B=>{try{const{data:H}=await Kt.put(`/jobs/${B._id}`,{isActive:!B.isActive});if(!H.success)throw new Error(H.message||"Failed to update status");await M()}catch(H){r(H.response?.data?.message||H.message||"Failed to update status")}},D=B=>{if(!B)return"";try{const H=new Date(B);return Number.isNaN(H.getTime())?B:H.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return B}},U=n.filter(B=>B.isActive);return p.createElement("div",{className:"space-y-6 sm:space-y-10 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},p.createElement("div",null,p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Career Opportunities"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"Publish open vacancies, track applications, and coordinate interviews with prospective candidates.")),p.createElement("button",{onClick:()=>{l&&A(),u(B=>!B)},className:"rounded-full bg-indigo-600 px-5 py-2 text-xs font-semibold uppercase tracking-wide text-white hover:bg-indigo-700"},l?"Close Form":"Add Job")),a&&p.createElement("div",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600"},a),l&&p.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},b?"Update Job Posting":"Create New Job Posting"),p.createElement("form",{onSubmit:_,className:"mt-4 grid gap-4 sm:grid-cols-2"},p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Job Title"),p.createElement("input",{required:!0,type:"text",value:g.title,onChange:B=>v({...g,title:B.target.value}),placeholder:"e.g. Science Lab Assistant",className:"mt-2 w-full rounded-lg border border-slate-200 px-3 sm:px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Employment Type"),p.createElement("select",{value:g.employmentType,onChange:B=>v({...g,employmentType:B.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 sm:px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"},p.createElement("option",null,"Full-Time"),p.createElement("option",null,"Part-Time"),p.createElement("option",null,"Contract"),p.createElement("option",null,"Internship"))),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Location"),p.createElement("input",{required:!0,type:"text",value:g.location,onChange:B=>v({...g,location:B.target.value}),placeholder:"e.g. Rajkot",className:"mt-2 w-full rounded-lg border border-slate-200 px-3 sm:px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Application Deadline"),p.createElement("input",{required:!0,type:"date",value:g.deadline,onChange:B=>v({...g,deadline:B.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 sm:px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Role Summary"),p.createElement("textarea",{required:!0,rows:"4",value:g.description,onChange:B=>v({...g,description:B.target.value}),placeholder:"Outline responsibilities, expectations, and key qualifications.",className:"mt-2 w-full rounded-lg border border-slate-200 px-3 sm:px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"sm:col-span-2 flex items-center justify-between"},p.createElement("label",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},p.createElement("input",{type:"checkbox",checked:g.isActive,onChange:B=>v({...g,isActive:B.target.checked}),className:"h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),p.createElement("span",null,"Mark as active")),p.createElement("div",{className:"flex gap-2"},p.createElement("button",{type:"button",onClick:()=>{A(),u(!1)},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{type:"submit",disabled:h,className:"rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60"},h?"Saving...":b?"Update Job":"Create Job"))))),p.createElement("section",{className:"space-y-4"},p.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},"Current Listings"),p.createElement("span",{className:"text-xs font-medium uppercase tracking-wider text-slate-500"},"Showing ",n.length," total / ",U.length," active")),t?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"Loading job postings..."):n.length===0?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"No job postings yet. Create one to get started."):p.createElement("div",{className:"space-y-3"},n.map(B=>p.createElement("article",{key:B._id,className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-sm hover:border-indigo-200 transition-colors"},p.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},p.createElement("div",{className:"flex-1"},p.createElement("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},B._id),p.createElement("h4",{className:"mt-1 text-base sm:text-lg font-semibold text-slate-900"},B.title),p.createElement("p",{className:"mt-1 text-xs font-medium text-indigo-600"},B.employmentType,"  ",B.location),p.createElement("p",{className:"mt-2 text-sm text-slate-600 whitespace-pre-line"},B.description)),p.createElement("div",{className:"flex flex-col items-start gap-2 sm:items-end"},p.createElement("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${B.isActive?"bg-emerald-50 text-emerald-600 border border-emerald-200":"bg-slate-100 text-slate-500 border border-slate-200"}`},B.isActive?"Active":"Inactive"),p.createElement("p",{className:"text-xs text-slate-500"},"Deadline: ",D(B.deadline)),p.createElement("p",{className:"text-xs text-slate-400"},"Posted: ",D(B.createdAt)),p.createElement("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},p.createElement("button",{type:"button",onClick:()=>L(B),className:"w-full sm:w-auto rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{type:"button",onClick:()=>F(B),className:"w-full sm:w-auto rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-indigo-600 hover:border-indigo-200"},B.isActive?"Deactivate":"Activate"),p.createElement("button",{type:"button",onClick:()=>O(B._id),className:"w-full sm:w-auto rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete")))))))))},LW=()=>{const n={firstName:"",middleName:"",lastName:"",gender:"",dateOfBirth:"",age:"",religion:"",caste:"",category:"",aadhaarNumber:"",mobileNumber:"",alternateMobileNumber:"",email:"",permanentAddress:"",correspondenceAddress:"",city:"",state:"",pinCode:"",fatherName:"",fatherOccupation:"",fatherMobileNumber:"",motherName:"",motherOccupation:"",motherMobileNumber:"",guardianName:"",annualFamilyIncome:""},[e,t]=K.useState([]),[i,a]=K.useState(!1),[r,l]=K.useState(""),[u,h]=K.useState(null),[m,g]=K.useState(null),[v,b]=K.useState(n),S=async()=>{a(!0),l("");try{const{data:D}=await Kt.get("/admissions");if(!D.success)throw new Error(D.message||"Failed to fetch students");t(D.data||[])}catch(D){l(D.response?.data?.message||D.message||"Failed to fetch students")}finally{a(!1)}};K.useEffect(()=>{S()},[]);const M=()=>{b(n),g(null),h(null)},A=(D={})=>({firstName:D.firstName||"",middleName:D.middleName||"",lastName:D.lastName||"",gender:D.gender||"",dateOfBirth:D.dateOfBirth?new Date(D.dateOfBirth).toISOString().split("T")[0]:"",age:D.age?.toString()||"",religion:D.religion||"",caste:D.caste||"",category:D.category||"",aadhaarNumber:D.aadhaarNumber||"",mobileNumber:D.mobileNumber||"",alternateMobileNumber:D.alternateMobileNumber||"",email:D.email||"",permanentAddress:D.permanentAddress||"",correspondenceAddress:D.correspondenceAddress||"",city:D.city||"",state:D.state||"",pinCode:D.pinCode||"",fatherName:D.fatherName||"",fatherOccupation:D.fatherOccupation||"",fatherMobileNumber:D.fatherMobileNumber||"",motherName:D.motherName||"",motherOccupation:D.motherOccupation||"",motherMobileNumber:D.motherMobileNumber||"",guardianName:D.guardianName||"",annualFamilyIncome:D.annualFamilyIncome||""}),T=D=>{g(D._id),b(A(D)),h(null);try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},_=async D=>{if(confirm("Delete this student application?"))try{const{data:U}=await Kt.delete(`/admissions/${D}`);if(!U.success)throw new Error(U.message||"Failed to delete");m===D&&M(),S()}catch(U){alert(U.response?.data?.message||U.message||"Failed to delete")}},L=async D=>{D.preventDefault();try{const{data:U}=await Kt.put(`/admissions/${m}`,v);if(!U.success)throw new Error(U.message||"Failed to update");M(),S()}catch(U){alert(U.response?.data?.message||U.message||"Failed to update")}},O=D=>{const{name:U,value:B}=D.target;if(b(H=>({...H,[U]:B})),U==="dateOfBirth"&&B){const H=new Date(B),I=new Date;let P=I.getFullYear()-H.getFullYear();const j=I.getMonth()-H.getMonth();(j<0||j===0&&I.getDate()<H.getDate())&&P--,b(Z=>({...Z,age:P.toString()}))}},F=D=>[D.firstName,D.middleName,D.lastName].filter(Boolean).join(" ")||"N/A";return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0"},p.createElement("h1",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Student Admissions")),r&&p.createElement("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-600"},r),m&&p.createElement("form",{onSubmit:L,className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm space-y-6"},p.createElement("div",{className:"flex items-center justify-between"},p.createElement("h3",{className:"text-lg font-semibold text-slate-900"},"Edit Student Information"),p.createElement("button",{type:"button",onClick:M,className:"text-sm text-slate-600 hover:text-slate-900"},"Cancel")),p.createElement("div",{className:"border-t border-slate-200 pt-4"},p.createElement("h4",{className:"font-semibold text-slate-900 mb-4"},"Personal Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"First Name"),p.createElement("input",{name:"firstName",value:v.firstName,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Middle Name"),p.createElement("input",{name:"middleName",value:v.middleName,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Last Name"),p.createElement("input",{name:"lastName",value:v.lastName,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Gender"),p.createElement("select",{name:"gender",value:v.gender,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"Select"),p.createElement("option",{value:"Male"},"Male"),p.createElement("option",{value:"Female"},"Female"),p.createElement("option",{value:"Other"},"Other"))),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Date of Birth"),p.createElement("input",{type:"date",name:"dateOfBirth",value:v.dateOfBirth,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Age"),p.createElement("input",{type:"number",name:"age",value:v.age,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Religion"),p.createElement("input",{name:"religion",value:v.religion,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Caste"),p.createElement("input",{name:"caste",value:v.caste,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Category"),p.createElement("select",{name:"category",value:v.category,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"Select"),p.createElement("option",{value:"General"},"General"),p.createElement("option",{value:"SC"},"SC"),p.createElement("option",{value:"ST"},"ST"),p.createElement("option",{value:"OBC"},"OBC"),p.createElement("option",{value:"EWS"},"EWS"))),p.createElement("div",{className:"sm:col-span-3"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Aadhaar Number"),p.createElement("input",{name:"aadhaarNumber",value:v.aadhaarNumber,onChange:O,maxLength:"12",className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"border-t border-slate-200 pt-4"},p.createElement("h4",{className:"font-semibold text-slate-900 mb-4"},"Contact Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mobile Number"),p.createElement("input",{type:"tel",name:"mobileNumber",value:v.mobileNumber,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Alternate Mobile"),p.createElement("input",{type:"tel",name:"alternateMobileNumber",value:v.alternateMobileNumber,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Email"),p.createElement("input",{type:"email",name:"email",value:v.email,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"border-t border-slate-200 pt-4"},p.createElement("h4",{className:"font-semibold text-slate-900 mb-4"},"Address Information"),p.createElement("div",{className:"grid gap-4"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Permanent Address"),p.createElement("textarea",{name:"permanentAddress",rows:"2",value:v.permanentAddress,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Correspondence Address"),p.createElement("textarea",{name:"correspondenceAddress",rows:"2",value:v.correspondenceAddress,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"City"),p.createElement("input",{name:"city",value:v.city,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"State"),p.createElement("input",{name:"state",value:v.state,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Pin Code"),p.createElement("input",{name:"pinCode",value:v.pinCode,onChange:O,required:!0,maxLength:"6",className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}))))),p.createElement("div",{className:"border-t border-slate-200 pt-4"},p.createElement("h4",{className:"font-semibold text-slate-900 mb-4"},"Father's Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Father's Name"),p.createElement("input",{name:"fatherName",value:v.fatherName,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Occupation"),p.createElement("input",{name:"fatherOccupation",value:v.fatherOccupation,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mobile Number"),p.createElement("input",{type:"tel",name:"fatherMobileNumber",value:v.fatherMobileNumber,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"border-t border-slate-200 pt-4"},p.createElement("h4",{className:"font-semibold text-slate-900 mb-4"},"Mother's Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mother's Name"),p.createElement("input",{name:"motherName",value:v.motherName,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Occupation"),p.createElement("input",{name:"motherOccupation",value:v.motherOccupation,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mobile Number"),p.createElement("input",{type:"tel",name:"motherMobileNumber",value:v.motherMobileNumber,onChange:O,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"border-t border-slate-200 pt-4"},p.createElement("h4",{className:"font-semibold text-slate-900 mb-4"},"Additional Information"),p.createElement("div",{className:"grid gap-4 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Guardian Name"),p.createElement("input",{name:"guardianName",value:v.guardianName,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Annual Family Income"),p.createElement("input",{name:"annualFamilyIncome",value:v.annualFamilyIncome,onChange:O,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})))),p.createElement("div",{className:"flex justify-end gap-2 pt-4 border-t border-slate-200"},p.createElement("button",{type:"button",onClick:M,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{type:"submit",className:"rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700"},"Save Changes"))),p.createElement("div",{className:"hidden md:block w-full overflow-x-auto rounded-2xl border border-slate-200"},p.createElement("div",{className:"inline-block min-w-full align-middle"},p.createElement("table",{className:"min-w-full divide-y divide-slate-200 text-left text-sm text-slate-700"},p.createElement("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500"},p.createElement("tr",null,p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Student Name"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Gender"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Age"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Category"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Email"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Mobile"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"City"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Applied On"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Actions"))),p.createElement("tbody",{className:"divide-y divide-slate-100 bg-white"},i?p.createElement("tr",null,p.createElement("td",{className:"px-6 py-6 text-center",colSpan:9},"Loading...")):e.length===0?p.createElement("tr",null,p.createElement("td",{className:"px-6 py-6 text-center",colSpan:9},"No applications yet")):e.map(D=>p.createElement("tr",{key:D._id,className:"hover:bg-slate-50 cursor-pointer",onClick:()=>h(D)},p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 font-medium text-slate-900"},F(D)),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},D.gender||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},D.age||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},D.category||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 text-xs lg:text-sm"},D.email||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},D.mobileNumber||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},D.city||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 text-slate-500 text-xs lg:text-sm"},new Date(D.createdAt).toLocaleDateString()),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4",onClick:U=>U.stopPropagation()},p.createElement("div",{className:"flex gap-1.5"},p.createElement("button",{onClick:()=>T(D),className:"rounded-full border border-slate-200 px-2 lg:px-3 py-1 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{onClick:()=>_(D._id),className:"rounded-full border border-slate-200 px-2 lg:px-3 py-1 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))))),p.createElement("div",{className:"md:hidden space-y-4"},i?p.createElement("div",{className:"text-center py-8 text-slate-500"},"Loading..."):e.length===0?p.createElement("div",{className:"text-center py-8 text-slate-500"},"No applications yet"):e.map(D=>p.createElement("div",{key:D._id,className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm cursor-pointer hover:border-indigo-200 transition-colors",onClick:()=>h(D)},p.createElement("div",{className:"space-y-3"},p.createElement("div",null,p.createElement("h3",{className:"font-semibold text-slate-900 text-base"},F(D)),p.createElement("p",{className:"text-sm text-slate-600 mt-1"},D.email||"N/A")),p.createElement("div",{className:"grid grid-cols-2 gap-3 text-sm"},p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Gender"),p.createElement("p",{className:"mt-1 text-slate-900"},D.gender||"N/A")),p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Age"),p.createElement("p",{className:"mt-1 text-slate-900"},D.age||"N/A")),p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Category"),p.createElement("p",{className:"mt-1 text-slate-900"},D.category||"N/A")),p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Mobile"),p.createElement("p",{className:"mt-1 text-slate-900"},D.mobileNumber||"N/A"))),p.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-slate-100",onClick:U=>U.stopPropagation()},p.createElement("p",{className:"text-xs text-slate-500"},"Applied: ",new Date(D.createdAt).toLocaleDateString()),p.createElement("div",{className:"flex gap-2"},p.createElement("button",{onClick:()=>T(D),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{onClick:()=>_(D._id),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))),u&&p.createElement("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>h(null)},p.createElement("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation()},p.createElement("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10"},p.createElement("h3",{className:"text-xl font-semibold text-slate-900"},"Student Details"),p.createElement("button",{onClick:()=>h(null),className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100","aria-label":"Close"},p.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),p.createElement("div",{className:"p-6 space-y-6"},p.createElement("div",{className:"grid gap-6 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Full Name"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},F(u))),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Gender"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.gender||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Date of Birth"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.dateOfBirth?new Date(u.dateOfBirth).toLocaleDateString():"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Age"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.age||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Category"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.category||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Email"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 break-all"},u.email||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mobile Number"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.mobileNumber||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"City"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.city||"N/A")),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Permanent Address"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.permanentAddress||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Father's Name"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.fatherName||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Father's Mobile"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.fatherMobileNumber||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mother's Name"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.motherName||"N/A")),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mother's Mobile"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},u.motherMobileNumber||"N/A"))),p.createElement("div",{className:"flex flex-col sm:flex-row gap-2 pt-4 border-t border-slate-200"},p.createElement("button",{onClick:()=>{T(u),h(null)},className:"flex-1 rounded-full border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-100"},"Edit Student"),p.createElement("button",{onClick:()=>{h(null),_(u._id)},className:"flex-1 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-100"},"Delete Application"),p.createElement("button",{onClick:()=>h(null),className:"flex-1 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50"},"Close"))))))},UW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(""),[l,u]=K.useState(null),[h,m]=K.useState(null),[g,v]=K.useState({status:"",notes:""}),[b,S]=K.useState(""),M=async()=>{i(!0),r("");try{const D=b?{status:b}:{},{data:U}=await Kt.get("/job-applications",{params:D});if(!U.success)throw new Error(U.message||"Failed to fetch applications");e(U.data||[])}catch(D){r(D.response?.data?.message||D.message||"Failed to fetch applications")}finally{i(!1)}};K.useEffect(()=>{M()},[b]);const A=D=>{m(D._id),v({status:D.status||"Pending",notes:D.notes||""})},T=()=>{m(null),v({status:"",notes:""})},_=async()=>{try{const{data:D}=await Kt.put(`/job-applications/${h}`,g);if(!D.success)throw new Error(D.message||"Failed to update");T(),M()}catch(D){alert(D.response?.data?.message||D.message||"Failed to update")}},L=async D=>{if(confirm("Delete this application?"))try{const{data:U}=await Kt.delete(`/job-applications/${D}`);if(!U.success)throw new Error(U.message||"Failed to delete");M()}catch(U){alert(U.response?.data?.message||U.message||"Failed to delete")}},O=D=>({Pending:"bg-yellow-50 text-yellow-700 border-yellow-200","Under Review":"bg-blue-50 text-blue-700 border-blue-200",Shortlisted:"bg-purple-50 text-purple-700 border-purple-200",Rejected:"bg-red-50 text-red-700 border-red-200",Hired:"bg-emerald-50 text-emerald-700 border-emerald-200"})[D]||"bg-slate-50 text-slate-700 border-slate-200",F=D=>{if(!D)return"N/A";try{const U=new Date(D);return Number.isNaN(U.getTime())?D:U.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return D}};return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},p.createElement("div",null,p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Job Applications"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"Manage candidate applications for job openings")),p.createElement("div",{className:"flex gap-2"},p.createElement("select",{value:b,onChange:D=>S(D.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:""},"All Status"),p.createElement("option",{value:"Pending"},"Pending"),p.createElement("option",{value:"Under Review"},"Under Review"),p.createElement("option",{value:"Shortlisted"},"Shortlisted"),p.createElement("option",{value:"Rejected"},"Rejected"),p.createElement("option",{value:"Hired"},"Hired")))),a&&p.createElement("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-600"},a),p.createElement("div",{className:"hidden md:block w-full overflow-x-auto rounded-2xl border border-slate-200"},p.createElement("div",{className:"inline-block min-w-full align-middle"},p.createElement("table",{className:"min-w-full divide-y divide-slate-200 text-left text-sm text-slate-700"},p.createElement("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500"},p.createElement("tr",null,p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Candidate"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Job Position"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Email"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Phone"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Status"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Applied On"),p.createElement("th",{className:"px-3 lg:px-4 xl:px-6 py-3 font-semibold"},"Actions"))),p.createElement("tbody",{className:"divide-y divide-slate-100 bg-white"},t?p.createElement("tr",null,p.createElement("td",{className:"px-6 py-6 text-center",colSpan:7},"Loading...")):n.length===0?p.createElement("tr",null,p.createElement("td",{className:"px-6 py-6 text-center",colSpan:7},"No applications yet")):n.map(D=>p.createElement("tr",{key:D._id,className:"hover:bg-slate-50 cursor-pointer",onClick:()=>u(D)},p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 font-medium text-slate-900"},D.firstName," ",D.lastName),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},D.jobId?.title||"N/A"),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 text-xs lg:text-sm"},D.email),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},D.phone),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4"},p.createElement("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold border ${O(D.status)}`},D.status)),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4 text-xs"},F(D.createdAt)),p.createElement("td",{className:"whitespace-nowrap px-3 lg:px-4 xl:px-6 py-4",onClick:U=>U.stopPropagation()},p.createElement("div",{className:"flex gap-1.5 lg:gap-2"},p.createElement("button",{onClick:()=>{u(D),A(D)},className:"rounded-full border border-slate-200 px-2 lg:px-3 py-1 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"View"),p.createElement("button",{onClick:()=>L(D._id),className:"rounded-full border border-slate-200 px-2 lg:px-3 py-1 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))))),p.createElement("div",{className:"md:hidden space-y-4"},t?p.createElement("div",{className:"text-center py-8 text-slate-500"},"Loading..."):n.length===0?p.createElement("div",{className:"text-center py-8 text-slate-500"},"No applications yet"):n.map(D=>p.createElement("div",{key:D._id,className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm cursor-pointer hover:border-indigo-200 transition-colors",onClick:()=>u(D)},p.createElement("div",{className:"space-y-3"},p.createElement("div",null,p.createElement("h3",{className:"font-semibold text-slate-900 text-base"},D.firstName," ",D.lastName),p.createElement("p",{className:"text-sm text-slate-600 mt-1"},D.jobId?.title||"N/A")),p.createElement("div",{className:"grid grid-cols-2 gap-3 text-sm"},p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Email"),p.createElement("p",{className:"mt-1 text-slate-900"},D.email)),p.createElement("div",null,p.createElement("p",{className:"text-xs text-slate-500 uppercase tracking-wide"},"Phone"),p.createElement("p",{className:"mt-1 text-slate-900"},D.phone))),p.createElement("div",{className:"flex items-center justify-between"},p.createElement("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold border ${O(D.status)}`},D.status),p.createElement("p",{className:"text-xs text-slate-500"},F(D.createdAt))),p.createElement("div",{className:"flex gap-2 pt-2 border-t border-slate-100",onClick:U=>U.stopPropagation()},p.createElement("button",{onClick:()=>{u(D),A(D)},className:"flex-1 rounded-full border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"View"),p.createElement("button",{onClick:()=>L(D._id),className:"flex-1 rounded-full border border-slate-200 px-3 py-2 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete")))))),l&&p.createElement("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>u(null)},p.createElement("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation()},p.createElement("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10"},p.createElement("h3",{className:"text-xl font-semibold text-slate-900"},"Application Details"),p.createElement("button",{onClick:()=>u(null),className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100","aria-label":"Close"},p.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),p.createElement("div",{className:"p-6 space-y-6"},p.createElement("div",{className:"grid gap-6 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Job Position"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.jobId?.title||"N/A"),p.createElement("p",{className:"text-xs text-slate-600 mt-1"},l.jobId?.employmentType,"  ",l.jobId?.location)),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Status"),p.createElement("p",{className:"mt-2"},p.createElement("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold border ${O(l.status)}`},l.status))),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"First Name"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.firstName)),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Last Name"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.lastName)),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Email"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 break-all"},l.email)),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Phone"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.phone)),l.dateOfBirth&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Date of Birth"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},F(l.dateOfBirth))),l.currentPosition&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Current Position"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.currentPosition)),l.currentCompany&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Current Company"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.currentCompany)),l.yearsOfExperience!==void 0&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Years of Experience"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.yearsOfExperience)),l.education&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Education"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.education)),l.address&&p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Address"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 whitespace-pre-wrap"},l.address)),l.city&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"City"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.city)),l.state&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"State"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.state)),l.skills&&p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Skills"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 whitespace-pre-wrap"},l.skills)),l.coverLetter&&p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Cover Letter"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 whitespace-pre-wrap"},l.coverLetter)),l.expectedSalary&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Expected Salary"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.expectedSalary)),l.availability&&p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Availability"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},l.availability)),l.notes&&p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Admin Notes"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900 whitespace-pre-wrap"},l.notes)),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Applied On"),p.createElement("p",{className:"mt-2 text-sm font-medium text-slate-900"},F(l.createdAt)))),p.createElement("div",{className:"flex flex-col sm:flex-row gap-2 pt-4 border-t border-slate-200"},p.createElement("button",{onClick:()=>{m(l._id),v({status:l.status||"Pending",notes:l.notes||""}),u(null)},className:"flex-1 rounded-full border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-100"},"Edit Status"),p.createElement("button",{onClick:()=>{u(null),L(l._id)},className:"flex-1 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-100"},"Delete Application"),p.createElement("button",{onClick:()=>u(null),className:"flex-1 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50"},"Close"))))),h&&p.createElement("div",{className:"rounded-2xl border border-slate-200 p-4 sm:p-6 bg-white shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},"Update Application Status"),p.createElement("div",{className:"mt-4 grid gap-4 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Status"),p.createElement("select",{value:g.status,onChange:D=>v({...g,status:D.target.value}),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:"Pending"},"Pending"),p.createElement("option",{value:"Under Review"},"Under Review"),p.createElement("option",{value:"Shortlisted"},"Shortlisted"),p.createElement("option",{value:"Rejected"},"Rejected"),p.createElement("option",{value:"Hired"},"Hired"))),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Notes"),p.createElement("textarea",{rows:"3",value:g.notes,onChange:D=>v({...g,notes:D.target.value}),placeholder:"Add any notes about this application...",className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}))),p.createElement("div",{className:"mt-4 flex flex-col sm:flex-row justify-end gap-2"},p.createElement("button",{onClick:T,className:"w-full sm:w-auto rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{onClick:_,className:"w-full sm:w-auto rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700"},"Save Changes"))))},KA=()=>{const[n,e]=K.useState({years:"",teachers:"",students:""}),[t,i]=K.useState(!1),[a,r]=K.useState(""),[l,u]=K.useState(""),[h,m]=K.useState(!0);K.useEffect(()=>{(async()=>{m(!0),r("");try{const{data:b}=await Kt.get("/home-stats");if(!b.success)throw new Error(b.message||"Failed to fetch stats");b.data&&e({years:b.data.years||"",teachers:b.data.teachers||"",students:b.data.students||""})}catch(b){r(b.response?.data?.message||b.message||"Failed to fetch stats")}finally{m(!1)}})()},[]);const g=async v=>{v.preventDefault(),r(""),u(""),i(!0);try{const{data:b}=await Kt.put("/home-stats",n);if(!b.success)throw new Error(b.message||"Failed to update stats");u("Statistics updated successfully!"),setTimeout(()=>u(""),3e3)}catch(b){r(b.response?.data?.message||b.message||"Failed to update stats")}finally{i(!1)}};return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",null,p.createElement("h1",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Home Statistics"),p.createElement("p",{className:"mt-2 text-sm text-slate-600"},"Manage the statistics displayed on the home page (Years, Teachers, Students)")),h?p.createElement("div",{className:"text-center py-8 text-slate-500"},"Loading statistics..."):p.createElement("form",{onSubmit:g,className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm space-y-6"},a&&p.createElement("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-600"},a),l&&p.createElement("div",{className:"rounded-md bg-green-50 p-3 text-sm text-green-600"},l),p.createElement("div",{className:"grid gap-6 sm:grid-cols-3"},p.createElement("div",null,p.createElement("label",{className:"block text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2"},"Years"),p.createElement("input",{type:"text",required:!0,value:n.years,onChange:v=>e({...n,years:v.target.value}),placeholder:"e.g., 24",className:"w-full rounded-lg border border-slate-200 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20"}),p.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Number of years the school has been operating")),p.createElement("div",null,p.createElement("label",{className:"block text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2"},"Teachers"),p.createElement("input",{type:"text",required:!0,value:n.teachers,onChange:v=>e({...n,teachers:v.target.value}),placeholder:"e.g., 29",className:"w-full rounded-lg border border-slate-200 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20"}),p.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Total number of teachers")),p.createElement("div",null,p.createElement("label",{className:"block text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2"},"Students"),p.createElement("input",{type:"text",required:!0,value:n.students,onChange:v=>e({...n,students:v.target.value}),placeholder:"e.g., 1500",className:"w-full rounded-lg border border-slate-200 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20"}),p.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Total number of students"))),p.createElement("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-slate-200"},p.createElement("button",{type:"submit",disabled:t,className:"w-full sm:w-auto rounded-full bg-indigo-600 px-6 py-3 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},t?"Updating...":"Update Statistics"))),!h&&p.createElement("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h2",{className:"text-lg font-semibold text-slate-900 mb-4"},"Preview"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},p.createElement("div",{className:"flex flex-col items-center justify-center"},p.createElement("div",{className:"w-40 h-40 rounded-full border-4 border-blue-900 flex items-center justify-center mb-4"},p.createElement("span",{className:"text-3xl font-bold text-blue-900"},n.years||"0")),p.createElement("h4",{className:"text-lg font-semibold text-gray-800"},"Years")),p.createElement("div",{className:"flex flex-col items-center justify-center"},p.createElement("div",{className:"w-40 h-40 rounded-full border-4 border-blue-900 flex items-center justify-center mb-4"},p.createElement("span",{className:"text-3xl font-bold text-blue-900"},n.teachers||"0")),p.createElement("h4",{className:"text-lg font-semibold text-gray-800"},"Teachers")),p.createElement("div",{className:"flex flex-col items-center justify-center"},p.createElement("div",{className:"w-40 h-40 rounded-full border-4 border-blue-900 flex items-center justify-center mb-4"},p.createElement("span",{className:"text-3xl font-bold text-blue-900"},n.students||"0")),p.createElement("h4",{className:"text-lg font-semibold text-gray-800"},"Students")))))},QA={name:"",testimonial:"",photo:""},PW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(!1),[l,u]=K.useState(""),[h,m]=K.useState(""),[g,v]=K.useState(!1),[b,S]=K.useState(QA),[M,A]=K.useState(null),T=()=>{S(QA),A(null)},_=K.useCallback(async()=>{i(!0),u("");try{const{data:B}=await Kt.get("/parents");if(!B.success)throw new Error(B.message||"Failed to fetch parent testimonials");e(Array.isArray(B.data)?B.data:[])}catch(B){u(B.response?.data?.message||B.message||"Failed to fetch parent testimonials")}finally{i(!1)}},[]);K.useEffect(()=>{_()},[_]),K.useEffect(()=>{if(!h)return;const B=setTimeout(()=>m(""),3e3);return()=>clearTimeout(B)},[h]);const L=B=>{const{name:H,value:I}=B.target;S(P=>({...P,[H]:I}))},O=B=>{const H=B.target.files?.[0];if(!H)return;const I=new FileReader;I.onloadend=()=>{S(P=>({...P,photo:typeof I.result=="string"?I.result:""}))},I.readAsDataURL(H)},F=async B=>{if(B.preventDefault(),r(!0),u(""),m(""),!b.name||!b.testimonial){u("Please fill in all required fields."),r(!1);return}try{const{data:H}=await Kt[M?"put":"post"](M?`/parents/${M}`:"/parents",b);if(!H.success)throw new Error(H.message||"Failed to save parent testimonial");m(M?"Parent testimonial updated successfully.":"Parent testimonial created successfully."),T(),v(!1),await _()}catch(H){u(H.response?.data?.message||H.message||"Failed to save parent testimonial")}finally{r(!1)}},D=B=>{v(!0),A(B._id),S({name:B.name||"",testimonial:B.testimonial||"",photo:B.photo||""})},U=async B=>{if(window.confirm("Delete this parent testimonial?"))try{const{data:H}=await Kt.delete(`/parents/${B}`);if(!H.success)throw new Error(H.message||"Failed to delete parent testimonial");M===B&&(T(),v(!1)),await _()}catch(H){u(H.response?.data?.message||H.message||"Failed to delete parent testimonial")}};return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},p.createElement("div",null,p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Parent Testimonials"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"Manage parent testimonials displayed on the home page.")),p.createElement("button",{onClick:()=>{g&&M&&T(),v(B=>!B)},className:"rounded-full bg-indigo-600 px-5 py-2 text-xs font-semibold uppercase tracking-wide text-white hover:bg-indigo-700"},g?"Close Form":"Add Parent")),l&&p.createElement("div",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600"},l),h&&p.createElement("div",{className:"rounded-md bg-emerald-50 p-3 text-sm text-emerald-600"},h),g&&p.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},M?"Update Parent Testimonial":"Create New Parent Testimonial"),p.createElement("form",{onSubmit:F,className:"mt-4 grid gap-4 sm:grid-cols-2"},p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Parent Name"),p.createElement("input",{name:"name",value:b.name,onChange:L,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"e.g. John Doe"})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Testimonial"),p.createElement("textarea",{name:"testimonial",value:b.testimonial,onChange:L,required:!0,rows:4,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"Enter the parent's testimonial text..."})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Parent Photo"),p.createElement("div",{className:"mt-2 space-y-2"},p.createElement("input",{type:"file",accept:"image/*",onChange:O,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),b.photo&&p.createElement("div",{className:"space-y-2"},p.createElement("img",{src:b.photo,alt:"Parent preview",className:"max-h-40 w-40 rounded-full object-cover border-2 border-slate-200"}),p.createElement("button",{type:"button",onClick:()=>S(B=>({...B,photo:""})),className:"text-xs font-semibold text-rose-600 hover:text-rose-700"},"Remove photo")))),p.createElement("div",{className:"sm:col-span-2 flex justify-end gap-2"},p.createElement("button",{type:"button",onClick:()=>{T(),v(!1)},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{type:"submit",disabled:a,className:"rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60"},a?"Saving...":M?"Update Testimonial":"Create Testimonial")))),p.createElement("section",{className:"space-y-4"},p.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},"All Parent Testimonials"),p.createElement("span",{className:"text-xs font-medium uppercase tracking-wider text-slate-500"},"Showing ",n.length," testimonial",n.length===1?"":"s")),t?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"Loading parent testimonials..."):n.length===0?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"No parent testimonials yet. Create one to get started."):p.createElement("div",{className:"space-y-3"},n.map(B=>p.createElement("article",{key:B._id,className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm hover:border-indigo-200 transition-colors"},p.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"},p.createElement("div",{className:"flex-1 min-w-0 flex gap-4"},B.photo&&p.createElement("img",{src:B.photo,alt:B.name,className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 flex-shrink-0"}),p.createElement("div",{className:"flex-1 min-w-0"},p.createElement("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400"},B._id),p.createElement("h4",{className:"mt-1 text-base sm:text-lg font-semibold text-slate-900"},B.name),p.createElement("p",{className:"mt-3 text-sm text-slate-600 whitespace-pre-line"},B.testimonial))),p.createElement("div",{className:"flex flex-col gap-2 w-full sm:w-40"},p.createElement("button",{type:"button",onClick:()=>D(B),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{type:"button",onClick:()=>U(B._id),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))))},zW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(""),[l,u]=K.useState(""),[h,m]=K.useState(null),[g,v]=K.useState({name:"",email:"",mobileNumber:"",message:"",status:"new"}),b=K.useCallback(async()=>{i(!0),r("");try{const{data:O}=await Kt.get("/contacts");if(!O.success)throw new Error(O.message||"Failed to fetch contacts");e(Array.isArray(O.data)?O.data:[])}catch(O){r(O.response?.data?.message||O.message||"Failed to fetch contacts")}finally{i(!1)}},[]);K.useEffect(()=>{b()},[b]),K.useEffect(()=>{if(!l)return;const O=setTimeout(()=>u(""),3e3);return()=>clearTimeout(O)},[l]);const S=O=>{const{name:F,value:D}=O.target;v(U=>({...U,[F]:D}))},M=O=>{m(O._id),v({name:O.name||"",email:O.email||"",mobileNumber:O.mobileNumber||"",message:O.message||"",status:O.status||"new"})},A=async O=>{O.preventDefault(),r(""),u("");try{const{data:F}=await Kt.put(`/contacts/${h}`,g);if(!F.success)throw new Error(F.message||"Failed to update contact");u("Contact updated successfully."),m(null),v({name:"",email:"",mobileNumber:"",message:"",status:"new"}),await b()}catch(F){r(F.response?.data?.message||F.message||"Failed to update contact")}},T=async O=>{if(window.confirm("Delete this contact submission?"))try{const{data:F}=await Kt.delete(`/contacts/${O}`);if(!F.success)throw new Error(F.message||"Failed to delete contact");h===O&&(m(null),v({name:"",email:"",mobileNumber:"",message:"",status:"new"})),await b()}catch(F){r(F.response?.data?.message||F.message||"Failed to delete contact")}},_=O=>{if(!O)return"";try{const F=new Date(O);return Number.isNaN(F.getTime())?O:F.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return O}},L=O=>{const F={new:"bg-blue-100 text-blue-800",read:"bg-yellow-100 text-yellow-800",replied:"bg-green-100 text-green-800"};return p.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${F[O]||F.new}`},O.toUpperCase())};return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},p.createElement("div",null,p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Contact Us"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"View and manage contact form submissions."))),a&&p.createElement("div",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600"},a),l&&p.createElement("div",{className:"rounded-md bg-emerald-50 p-3 text-sm text-emerald-600"},l),h&&p.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-4"},"Update Contact"),p.createElement("form",{onSubmit:A,className:"space-y-4"},p.createElement("div",{className:"grid gap-4 sm:grid-cols-2"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Name"),p.createElement("input",{name:"name",value:g.name,onChange:S,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Email"),p.createElement("input",{type:"email",name:"email",value:g.email,onChange:S,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Mobile Number"),p.createElement("input",{type:"tel",name:"mobileNumber",value:g.mobileNumber,onChange:S,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Status"),p.createElement("select",{name:"status",value:g.status,onChange:S,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},p.createElement("option",{value:"new"},"New"),p.createElement("option",{value:"read"},"Read"),p.createElement("option",{value:"replied"},"Replied"))),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Message"),p.createElement("textarea",{name:"message",value:g.message,onChange:S,required:!0,rows:4,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}))),p.createElement("div",{className:"flex justify-end gap-2"},p.createElement("button",{type:"button",onClick:()=>{m(null),v({name:"",email:"",mobileNumber:"",message:"",status:"new"})},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{type:"submit",className:"rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700"},"Update Contact")))),p.createElement("section",{className:"space-y-4"},p.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},"All Contact Submissions"),p.createElement("span",{className:"text-xs font-medium uppercase tracking-wider text-slate-500"},"Showing ",n.length," submission",n.length===1?"":"s")),t?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"Loading contacts..."):n.length===0?p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"No contact submissions yet."):p.createElement("div",{className:"space-y-3"},n.map(O=>p.createElement("article",{key:O._id,className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm hover:border-indigo-200 transition-colors"},p.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"},p.createElement("div",{className:"flex-1 min-w-0"},p.createElement("div",{className:"flex items-center gap-2 mb-2"},p.createElement("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400"},O._id),L(O.status)),p.createElement("h4",{className:"text-base sm:text-lg font-semibold text-slate-900"},O.name),p.createElement("p",{className:"mt-1 text-sm text-indigo-600"},O.email),p.createElement("p",{className:"mt-1 text-sm text-slate-600"},"Phone: ",O.mobileNumber),p.createElement("p",{className:"mt-3 text-sm text-slate-600 whitespace-pre-line"},O.message),p.createElement("p",{className:"mt-2 text-xs text-slate-400"},"Submitted: ",_(O.createdAt))),p.createElement("div",{className:"flex flex-col gap-2 w-full sm:w-40"},p.createElement("button",{type:"button",onClick:()=>M(O),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{type:"button",onClick:()=>T(O._id),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))))},BW=()=>{const n=cm(),[e,t]=K.useState(!1),[i,a]=K.useState(!0),[r,l]=K.useState(""),[u,h]=K.useState(""),[m,g]=K.useState({email:"",currentPassword:"",newPassword:"",confirmPassword:""}),[v,b]=K.useState(null);K.useEffect(()=>{(async()=>{a(!0);try{const{data:T}=await Kt.get("/admin/profile");T.success&&T.data&&(b(T.data),g(_=>({..._,email:T.data.email||""})))}catch(T){l(T.response?.data?.message||T.message||"Failed to fetch profile")}finally{a(!1)}})()},[]),K.useEffect(()=>{if(!u)return;const A=setTimeout(()=>h(""),5e3);return()=>clearTimeout(A)},[u]);const S=A=>{const{name:T,value:_}=A.target;g(L=>({...L,[T]:_})),r&&l("")},M=async A=>{if(A.preventDefault(),t(!0),l(""),h(""),!m.email){l("Email is required."),t(!1);return}if(m.newPassword||m.confirmPassword||m.currentPassword){if(!m.currentPassword){l("Current password is required to change password."),t(!1);return}if(!m.newPassword){l("New password is required."),t(!1);return}if(m.newPassword.length<6){l("New password must be at least 6 characters long."),t(!1);return}if(m.newPassword!==m.confirmPassword){l("New password and confirm password do not match."),t(!1);return}}try{const T={email:m.email};m.newPassword&&(T.password=m.newPassword,T.currentPassword=m.currentPassword);const{data:_}=await Kt.put("/admin/credentials",T);if(!_.success)throw new Error(_.message||"Failed to update credentials");h("Credentials updated successfully! You will be logged out. Please login with your new credentials."),g({email:m.email,currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(async()=>{try{await Kt.post("/admin/logout")}catch(L){console.error("Logout error:",L)}finally{bR()}n("/admin",{replace:!0}),window.location.reload()},2e3)}catch(T){l(T.response?.data?.message||T.message||"Failed to update credentials")}finally{t(!1)}};return i?p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"Loading profile...")):p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},p.createElement("div",null,p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Settings"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"Update your login credentials (email and password)."))),r&&p.createElement("div",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600"},r),u&&p.createElement("div",{className:"rounded-md bg-emerald-50 p-3 text-sm text-emerald-600"},u),p.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-4"},"Update Login Credentials"),p.createElement("form",{onSubmit:M,className:"space-y-4"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Email Address"),p.createElement("input",{type:"email",name:"email",value:m.email,onChange:S,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"admin@example.com"})),p.createElement("div",{className:"pt-4 border-t border-slate-200"},p.createElement("h4",{className:"text-sm font-semibold text-slate-700 mb-4"},"Change Password (Optional)"),p.createElement("p",{className:"text-xs text-slate-500 mb-4"},"Leave password fields empty if you don't want to change your password."),p.createElement("div",{className:"space-y-4"},p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Current Password"),p.createElement("input",{type:"password",name:"currentPassword",value:m.currentPassword,onChange:S,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"Enter current password"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"New Password"),p.createElement("input",{type:"password",name:"newPassword",value:m.newPassword,onChange:S,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"Enter new password (min. 6 characters)"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Confirm New Password"),p.createElement("input",{type:"password",name:"confirmPassword",value:m.confirmPassword,onChange:S,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"Confirm new password"})))),p.createElement("div",{className:"flex justify-end gap-2 pt-4"},p.createElement("button",{type:"submit",disabled:e,className:"rounded-full bg-indigo-600 px-6 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed"},e?"Updating...":"Update Credentials")))),v&&p.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-4"},"Account Information"),p.createElement("div",{className:"space-y-2 text-sm"},p.createElement("div",null,p.createElement("span",{className:"font-semibold text-slate-600"},"Name:")," ",p.createElement("span",{className:"text-slate-900"},v.name||"Administrator")),p.createElement("div",null,p.createElement("span",{className:"font-semibold text-slate-600"},"Email:")," ",p.createElement("span",{className:"text-slate-900"},v.email)),v.createdAt&&p.createElement("div",null,p.createElement("span",{className:"font-semibold text-slate-600"},"Account Created:")," ",p.createElement("span",{className:"text-slate-900"},new Date(v.createdAt).toLocaleDateString())))))},IW=()=>{const n=Br();if(yR())return p.createElement(kN,null);const t=encodeURIComponent(n.pathname+n.search);return p.createElement(iB,{to:`/admin?redirect=${t}`,replace:!0})},_1=[{label:"Curricular",value:"curricular"},{label:"Co-Curricular",value:"co-curricular"},{label:"Extra-Curricular",value:"extra-curricular"}],JA={title:"",description:"",category:"curricular",image:"",order:0,isVisible:!0},FW=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!1),[a,r]=K.useState(!1),[l,u]=K.useState(""),[h,m]=K.useState(""),[g,v]=K.useState(!1),[b,S]=K.useState(null),[M,A]=K.useState(JA),T=K.useMemo(()=>_1.reduce((Z,W)=>{const Y=n.filter(ne=>ne.category===W.value).sort((ne,k)=>ne.order!==k.order?ne.order-k.order:new Date(ne.createdAt).getTime()-new Date(k.createdAt).getTime());return Z[W.value]=Y,Z},{}),[n]),_=K.useCallback(Z=>{const W=T[Z]||[];if(W.length===0)return 0;const Y=Math.max(...W.map(ne=>ne.order??0));return Number.isFinite(Y)?Y+1:W.length},[T]),L=K.useCallback((Z="curricular")=>{A({...JA,category:Z,order:_(Z)}),S(null)},[_]),O=K.useCallback(async()=>{i(!0),u("");try{const{data:Z}=await Kt.get("/activities");if(!Z.success)throw new Error(Z.message||"Failed to fetch activities");e(Array.isArray(Z.data)?Z.data:[])}catch(Z){u(Z.response?.data?.message||Z.message||"Failed to fetch activities")}finally{i(!1)}},[]);K.useEffect(()=>{O()},[O]),K.useEffect(()=>{!g||b||A(Z=>({...Z,order:_(Z.category)}))},[g,b,_]),K.useEffect(()=>{if(!h)return;const Z=setTimeout(()=>m(""),3e3);return()=>clearTimeout(Z)},[h]);const F=Z=>{const{name:W,value:Y}=Z.target;A(ne=>({...ne,[W]:W==="order"?Number(Y):Y}))},D=Z=>{const{name:W,checked:Y}=Z.target;A(ne=>({...ne,[W]:Y}))},U=Z=>{const W=Z.target.files?.[0];if(!W)return;const Y=new FileReader;Y.onloadend=()=>{A(ne=>({...ne,image:typeof Y.result=="string"?Y.result:""}))},Y.readAsDataURL(W)},B=async Z=>{if(Z.preventDefault(),!M.title||!M.description||!M.category){u("Please fill in the required fields.");return}r(!0),u(""),m("");try{const W={title:M.title,description:M.description,category:M.category,image:M.image,order:Number.isFinite(M.order)?M.order:0,isVisible:M.isVisible},{data:Y}=await Kt[b?"put":"post"](b?`/activities/${b}`:"/activities",W);if(!Y.success)throw new Error(Y.message||"Failed to save activity");m(b?"Activity updated successfully.":"Activity created successfully."),await O(),v(!1),L(M.category)}catch(W){u(W.response?.data?.message||W.message||"Failed to save activity")}finally{r(!1)}},H=Z=>{v(!0),S(Z._id),A({title:Z.title||"",description:Z.description||"",category:Z.category||"curricular",image:Z.image||"",order:Number.isFinite(Z.order)?Z.order:0,isVisible:Z.isVisible??!0})},I=async Z=>{if(window.confirm("Delete this activity?"))try{const{data:W}=await Kt.delete(`/activities/${Z}`);if(!W.success)throw new Error(W.message||"Failed to delete activity");if(b===Z){const Y=n.find(ne=>ne._id===Z);L(Y?.category),v(!1)}m("Activity deleted successfully."),await O()}catch(W){u(W.response?.data?.message||W.message||"Failed to delete activity")}},P=async Z=>{try{const{data:W}=await Kt.put(`/activities/${Z._id}`,{isVisible:!Z.isVisible});if(!W.success)throw new Error(W.message||"Failed to update visibility");m(`Activity ${Z.isVisible?"hidden":"made visible"} successfully.`),await O()}catch(W){u(W.response?.data?.message||W.message||"Failed to update visibility")}},j=async(Z,W,Y)=>{const ne=[...T[Z]||[]],k=ne.findIndex(G=>G._id===W);if(k===-1)return;const z=k+Y;if(z<0||z>=ne.length)return;const $=[...ne],[X]=$.splice(k,1);$.splice(z,0,X);const N=$.map((G,ae)=>({id:G._id,order:ae}));try{const{data:G}=await Kt.post("/activities/reorder",{updates:N});if(!G.success)throw new Error(G.message||"Failed to reorder activities");await O(),m("Activities reordered successfully.")}catch(G){u(G.response?.data?.message||G.message||"Failed to reorder activities")}};return p.createElement("div",{className:"space-y-6 sm:space-y-8 min-w-0"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},p.createElement("div",null,p.createElement("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900"},"Activities"),p.createElement("p",{className:"text-xs sm:text-sm text-slate-600"},"Create and arrange activities to showcase in the public site.")),p.createElement("button",{onClick:()=>{g&&b&&L(),v(Z=>!Z)},className:"rounded-full bg-indigo-600 px-5 py-2 text-xs font-semibold uppercase tracking-wide text-white hover:bg-indigo-700"},g?"Close Form":"Add Activity")),l&&p.createElement("div",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600"},l),h&&p.createElement("div",{className:"rounded-md bg-emerald-50 p-3 text-sm text-emerald-600"},h),g&&p.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("h3",{className:"text-base sm:text-lg font-semibold text-slate-900"},b?"Update Activity":"Create New Activity"),p.createElement("form",{onSubmit:B,className:"mt-4 grid gap-4 sm:grid-cols-2"},p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Title"),p.createElement("input",{name:"title",value:M.title,onChange:F,required:!0,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"e.g. Mathematics Lab Sessions"})),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Category"),p.createElement("select",{name:"category",value:M.category,onChange:Z=>{const W=Z.target.value;A(Y=>({...Y,category:W,order:b?Y.order:_(W)}))},className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},_1.map(Z=>p.createElement("option",{key:Z.value,value:Z.value},Z.label)))),p.createElement("div",null,p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Display Order"),p.createElement("input",{type:"number",name:"order",value:M.order,onChange:F,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",min:0})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Description"),p.createElement("textarea",{name:"description",value:M.description,onChange:F,required:!0,rows:4,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",placeholder:"Describe the activity in a few short sentences."})),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Activity Image"),p.createElement("div",{className:"mt-2 space-y-2"},p.createElement("input",{type:"url",name:"image",value:M.image,onChange:F,placeholder:"https://example.com/activity-image.jpg",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),p.createElement("p",{className:"text-xs text-slate-500"},"Paste an image link or upload a file below."),p.createElement("input",{type:"file",accept:"image/*",onChange:U,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),M.image&&p.createElement("div",{className:"space-y-2"},p.createElement("img",{src:M.image,alt:"Activity preview",className:"max-h-40 w-full rounded-lg object-cover"}),p.createElement("button",{type:"button",onClick:()=>A(Z=>({...Z,image:""})),className:"text-xs font-semibold text-rose-600 hover:text-rose-700"},"Remove image")))),p.createElement("div",{className:"sm:col-span-2"},p.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},p.createElement("input",{type:"checkbox",name:"isVisible",checked:M.isVisible,onChange:D,className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),p.createElement("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Show this activity on the website"))),p.createElement("div",{className:"sm:col-span-2 flex justify-end gap-2"},p.createElement("button",{type:"button",onClick:()=>{L(),v(!1)},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:bg-slate-50"},"Cancel"),p.createElement("button",{type:"submit",disabled:a,className:"rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60"},a?"Saving...":b?"Update Activity":"Create Activity")))),p.createElement("section",{className:"space-y-8"},_1.map(Z=>{const W=T[Z.value]||[];return p.createElement("article",{key:Z.value,className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},p.createElement("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-4"},p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold text-slate-900"},Z.label," Activities"),p.createElement("p",{className:"text-xs font-medium uppercase tracking-wider text-slate-500"},W.length," activit",W.length===1?"y":"ies")),p.createElement("button",{type:"button",onClick:()=>{v(!0),L(Z.value)},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Add ",Z.label)),t?p.createElement("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"Loading activities..."):W.length===0?p.createElement("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500"},"No activities yet. Create one to get started."):p.createElement("div",{className:"space-y-3"},W.map((Y,ne)=>p.createElement("div",{key:Y._id,className:"rounded-xl border border-slate-200 bg-slate-50 p-4 sm:p-5 flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"},p.createElement("div",{className:"flex-1 min-w-0"},p.createElement("div",{className:"flex flex-wrap items-center gap-3 mb-2"},p.createElement("span",{className:"inline-flex items-center justify-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700"},"#",ne+1),!Y.isVisible&&p.createElement("span",{className:"inline-flex items-center justify-center rounded-full bg-slate-200 px-3 py-1 text-xs font-semibold text-slate-600"},"Hidden")),p.createElement("h4",{className:"text-base sm:text-lg font-semibold text-slate-900 break-words"},Y.title),p.createElement("p",{className:"mt-2 text-sm text-slate-600 whitespace-pre-line"},Y.description),Y.image&&p.createElement("img",{src:Y.image,alt:Y.title,className:"mt-3 max-h-48 w-full rounded-lg object-cover"})),p.createElement("div",{className:"flex flex-col gap-2 w-full sm:w-44"},p.createElement("button",{type:"button",onClick:()=>H(Y),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600"},"Edit"),p.createElement("button",{type:"button",onClick:()=>P(Y),className:`rounded-full border px-3 py-1.5 text-xs font-semibold ${Y.isVisible?"border-slate-200 text-slate-600 hover:border-amber-200 hover:text-amber-600":"border-amber-300 bg-amber-50 text-amber-700 hover:border-amber-400"}`},Y.isVisible?"Hide":"Show"),p.createElement("div",{className:"flex gap-2"},p.createElement("button",{type:"button",onClick:()=>j(Z.value,Y._id,-1),disabled:ne===0,className:"flex-1 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 disabled:opacity-50 hover:border-indigo-200 hover:text-indigo-600"},"Move Up"),p.createElement("button",{type:"button",onClick:()=>j(Z.value,Y._id,1),disabled:ne===W.length-1,className:"flex-1 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 disabled:opacity-50 hover:border-indigo-200 hover:text-indigo-600"},"Move Down")),p.createElement("button",{type:"button",onClick:()=>I(Y._id),className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-rose-600 hover:border-rose-200"},"Delete"))))))})))},VW={curricular:{heading:"Curricular Activities",description:"Explore core classroom programs designed to strengthen academic excellence and foundational skills."},"co-curricular":{heading:"Co-Curricular Activities",description:"Discover integrated learning experiences that extend classroom concepts into practical, collaborative projects."},"extra-curricular":{heading:"Extra-Curricular Activities",description:"Celebrate diverse interests with clubs and pursuits that encourage creativity, leadership, and teamwork."}},HW=({title:n,description:e,image:t,index:i})=>p.createElement(or.div,{initial:{opacity:0,y:48},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,delay:i*.08,ease:[.22,1,.36,1]}},p.createElement(ug,{image:t,title:n,description:e,showGradient:!0,className:"h-full"})),a2=({categoryKey:n})=>{const[e,t]=K.useState([]),[i,a]=K.useState(!0),[r,l]=K.useState("");K.useEffect(()=>{let h=!0;return(async()=>{a(!0),l("");try{const g=await Kt.get(`/activities?category=${n}`);if(h){const{data:v=[]}=g.data||{};t(Array.isArray(v)?v:[])}}catch(g){h&&l(g?.response?.data?.message||"We couldn't load the activities right now. Please try again later.")}finally{h&&a(!1)}})(),()=>{h=!1}},[n]);const u=VW[n]||{heading:"Activities",description:"Stay tuned for exciting programmes and student highlights."};return p.createElement(p.Fragment,null,p.createElement(lc,{eyebrow:"Student Life",title:u.heading,subtitle:u.description}),p.createElement("section",{className:"relative overflow-hidden bg-slate-950/5 py-24"},p.createElement("div",{className:"pointer-events-none absolute inset-0 -z-10","aria-hidden":!0},p.createElement(or.div,{className:"absolute -left-32 -top-56 h-96 w-96 rounded-full bg-sky-400/20 blur-3xl",animate:{y:[0,24,-12,0],x:[0,12,-18,0]},transition:{duration:16,repeat:1/0,ease:"easeInOut"}}),p.createElement(or.div,{className:"absolute -right-24 top-20 h-80 w-80 rounded-full bg-indigo-500/20 blur-3xl",animate:{y:[0,-18,14,0],x:[0,-12,12,0]},transition:{duration:18,repeat:1/0,ease:"easeInOut",delay:1}}),p.createElement(or.div,{className:"absolute inset-x-0 bottom-0 h-64 bg-gradient-to-t from-slate-900/30 via-transparent to-transparent",initial:{opacity:.5},animate:{opacity:[.35,.5,.4,.55,.35]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})),p.createElement("div",{className:"relative mx-auto max-w-6xl px-5 md:px-10"},p.createElement(or.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.16,1,.3,1]},className:"text-center"},p.createElement("div",{className:"inline-flex items-center rounded-full border border-slate-200/60 bg-white/60 px-4 py-2 text-sm font-medium uppercase tracking-[0.32em] text-slate-500 shadow-sm shadow-slate-900/5 backdrop-blur"},"Activities"),p.createElement(or.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.9,ease:[.16,1,.3,1],delay:.1},className:"mt-6"},p.createElement(qf,{icon:"",title:`${u.heading} Highlights`})),p.createElement(or.p,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.9,ease:[.22,1,.36,1],delay:.18},className:"mx-auto mt-4 max-w-3xl text-lg leading-relaxed text-slate-600 md:text-xl"},u.description)),i?p.createElement(or.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"mt-16 flex flex-col items-center gap-4 text-slate-500"},p.createElement(or.span,{className:"h-14 w-14 rounded-full border-2 border-sky-200 border-t-sky-500",animate:{rotate:360},transition:{duration:1.2,repeat:1/0,ease:"linear"}}),p.createElement("p",{className:"text-base font-medium"},"Loading activities...")):r?p.createElement(or.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.6},className:"mt-16 text-center text-red-500"},r):e.length===0?p.createElement(or.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.6},className:"mt-16 text-center text-slate-500"},"Activities will be updated soon. Please check back later."):p.createElement(or.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.8,ease:[.22,1,.36,1]},className:"mt-16 grid gap-8 md:grid-cols-2 lg:grid-cols-3"},e.map((h,m)=>p.createElement(HW,{key:h._id,title:h.title,description:h.description,image:h.image,index:m}))))))},kW=()=>p.createElement(a2,{categoryKey:"curricular"}),GW=()=>p.createElement(a2,{categoryKey:"co-curricular"}),qW=()=>p.createElement(a2,{categoryKey:"extra-curricular"}),jW=()=>{const n=Br(),e=n.pathname.startsWith("/admin");return n.pathname.startsWith("/admin/dashboard"),K.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[n]),p.createElement(p.Fragment,null,p.createElement("link",{rel:"icon",type:"image/png",href:"/logo.png"}),p.createElement("title",null,"Holy Redeemer School"),p.createElement(BB,null),p.createElement(sB,null,p.createElement($n,{path:"/",element:p.createElement(kX,null)}),p.createElement($n,{path:"/about",element:p.createElement(ZX,null)}),p.createElement($n,{path:"/academics",element:p.createElement(nW,null)}),p.createElement($n,{path:"/admissions",element:p.createElement(iW,null)}),p.createElement($n,{path:"/admissions/apply",element:p.createElement(aW,null)}),p.createElement($n,{path:"/events",element:p.createElement(sW,null)}),p.createElement($n,{path:"/contact",element:p.createElement(gW,null)}),p.createElement($n,{path:"/games-sports",element:p.createElement(EW,null)}),p.createElement($n,{path:"/activities/curricular",element:p.createElement(kW,null)}),p.createElement($n,{path:"/activities/co-curricular",element:p.createElement(GW,null)}),p.createElement($n,{path:"/activities/extra-curricular",element:p.createElement(qW,null)}),p.createElement($n,{path:"/career",element:p.createElement(wW,null)}),p.createElement($n,{path:"/admin",element:p.createElement(CW,null)}),p.createElement($n,{element:p.createElement(IW,null)},p.createElement($n,{path:"/admin/dashboard",element:p.createElement(RW,null)},p.createElement($n,{index:!0,element:p.createElement(KA,null)}),p.createElement($n,{path:"home",element:p.createElement(KA,null)}),p.createElement($n,{path:"events",element:p.createElement(AW,null)}),p.createElement($n,{path:"admissions",element:p.createElement(DW,null)}),p.createElement($n,{path:"career",element:p.createElement(OW,null)}),p.createElement($n,{path:"employees",element:p.createElement(UW,null)}),p.createElement($n,{path:"academics",element:p.createElement(LW,null)}),p.createElement($n,{path:"activities",element:p.createElement(FW,null)}),p.createElement($n,{path:"parents",element:p.createElement(PW,null)}),p.createElement($n,{path:"contact",element:p.createElement(zW,null)}),p.createElement($n,{path:"settings",element:p.createElement(BW,null)})))),!e&&p.createElement(TW,null))};G4.createRoot(document.getElementById("root")).render(p.createElement(CB,null,p.createElement(jW,null)));
